var C2=Object.defineProperty;var nw=t=>{throw TypeError(t)};var N2=(t,e,n)=>e in t?C2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pt=(t,e,n)=>N2(t,typeof e!="symbol"?e+"":e,n),gm=(t,e,n)=>e.has(t)||nw("Cannot "+n);var ce=(t,e,n)=>(gm(t,e,"read from private field"),n?n.call(t):e.get(t)),ct=(t,e,n)=>e.has(t)?nw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),We=(t,e,n,r)=>(gm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),wn=(t,e,n)=>(gm(t,e,"access private method"),n);var vd=(t,e,n,r)=>({set _(i){We(t,e,i,n)},get _(){return ce(t,e,r)}});import{j as f,V as MO,R as LO,A as BO,C as FO,T as UO,D as VO,P as $2,c as fa,a as ac,u as qt,b as Sh,d as ft,e as nt,f as _h,g as Zv,h as Qv,i as I2,k as eb,l as qO,m as oc,n as js,o as tb,_ as R2,p as Ah,S as D2,q as KO,r as zO,s as M2,t as WO,I as GO,v as HO,w as YO,x as XO,L as JO,y as ZO,z as L2,B as B2,E as QO,F as nb,G as F2,H as U2,J as ej,K as tj,M as nj,N as rj,O as ij,Q as aj,U as oj,W as Lr,X as sj,Y as V2,Z as rb,$ as q2,a0 as ib,a1 as ab,a2 as ob,a3 as sb,a4 as cj,a5 as lj,a6 as uj,a7 as K2,a8 as z2}from"./ui-DsARQD-W.js";import{a as cb,r as O,R as $,b as W2,d as Zo,g as gt,u as G2,B as H2,e as rw,f as bd}from"./vendor-DbKLfLsW.js";import{i as Y2,a as X2,u as it}from"./i18n-GsQbaf7G.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var dj,iw=cb;dj=iw.createRoot,iw.hydrateRoot;const J2=1,Z2=1e6;let ym=0;function Q2(){return ym=(ym+1)%Number.MAX_SAFE_INTEGER,ym.toString()}const vm=new Map,aw=t=>{if(vm.has(t))return;const e=setTimeout(()=>{vm.delete(t),sl({type:"REMOVE_TOAST",toastId:t})},Z2);vm.set(t,e)},eD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,J2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?aw(n):t.toasts.forEach(r=>{aw(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Wd=[];let Gd={toasts:[]};function sl(t){Gd=eD(Gd,t),Wd.forEach(e=>{e(Gd)})}function tD({...t}){const e=Q2(),n=i=>sl({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>sl({type:"DISMISS_TOAST",toastId:e});return sl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function nD(){const[t,e]=O.useState(Gd);return O.useEffect(()=>(Wd.push(e),()=>{const n=Wd.indexOf(e);n>-1&&Wd.splice(n,1)}),[t]),{...t,toast:tD,dismiss:n=>sl({type:"DISMISS_TOAST",toastId:n})}}function fj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=fj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ge(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=fj(t))&&(r&&(r+=" "),r+=e);return r}const ow=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,sw=Ge,Su=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return sw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(l=>{const u=n==null?void 0:n[l],d=a==null?void 0:a[l];if(u===null)return null;const h=ow(u)||ow(d);return i[l][h]}),s=n&&Object.entries(n).reduce((l,u)=>{let[d,h]=u;return h===void 0||(l[d]=h),l},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((l,u)=>{let{class:d,className:h,...m}=u;return Object.entries(m).every(y=>{let[v,b]=y;return Array.isArray(b)?b.includes({...a,...s}[v]):{...a,...s}[v]===b})?[...l,d,h]:l},[]);return sw(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hj=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},c)=>O.createElement("svg",{ref:c,...iD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:hj("lucide",i),...s},[...o.map(([l,u])=>O.createElement(l,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(t,e)=>{const n=O.forwardRef(({className:r,...i},a)=>O.createElement(aD,{ref:a,iconNode:e,className:hj(`lucide-${rD(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=$e("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=$e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=$e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=$e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=$e("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=$e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=$e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=$e("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=$e("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=$e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=$e("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=$e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=$e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=$e("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=$e("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=$e("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=$e("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=$e("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=$e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=$e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=$e("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=$e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=$e("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=$e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=$e("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=$e("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=$e("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=$e("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=$e("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=$e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=$e("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=$e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=$e("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=$e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=$e("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=$e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=$e("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=$e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=$e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=$e("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=$e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=$e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=$e("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=$e("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=$e("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=$e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),pb="-",PD=t=>{const e=CD(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const s=o.split(pb);return s[0]===""&&s.length!==1&&s.shift(),Tj(s,e)||ED(o)},getConflictingClassGroupIds:(o,s)=>{const c=n[o]||[];return s&&r[o]?[...c,...r[o]]:c}}},Tj=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Tj(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(pb);return(o=e.validators.find(({validator:s})=>s(a)))==null?void 0:o.classGroupId},uw=/^\[(.+)\]$/,ED=t=>{if(uw.test(t)){const e=uw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},CD=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return $D(Object.entries(t.classGroups),n).forEach(([a,o])=>{Tg(o,r,a,e)}),r},Tg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:dw(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(ND(i)){Tg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{Tg(o,dw(e,a),n,r)})})},dw=(t,e)=>{let n=t;return e.split(pb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},ND=t=>t.isThemeGetter,$D=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,s])=>[e+o,s])):a);return[n,i]}):t,ID=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},Oj="!",RD=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,o=s=>{const c=[];let l=0,u=0,d;for(let b=0;b<s.length;b++){let w=s[b];if(l===0){if(w===i&&(r||s.slice(b,b+a)===e)){c.push(s.slice(u,b)),u=b+a;continue}if(w==="/"){d=b;continue}}w==="["?l++:w==="]"&&l--}const h=c.length===0?s:s.substring(u),m=h.startsWith(Oj),y=m?h.substring(1):h,v=d&&d>u?d-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:v}};return n?s=>n({className:s,parseClassName:o}):o},DD=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},MD=t=>({cache:ID(t.cacheSize),parseClassName:RD(t),...PD(t)}),LD=/\s+/,BD=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(LD);let s="";for(let c=o.length-1;c>=0;c-=1){const l=o[c],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:m}=n(l);let y=!!m,v=r(y?h.substring(0,m):h);if(!v){if(!y){s=l+(s.length>0?" "+s:s);continue}if(v=r(h),!v){s=l+(s.length>0?" "+s:s);continue}y=!1}const b=DD(u).join(":"),w=d?b+Oj:b,_=w+v;if(a.includes(_))continue;a.push(_);const S=i(v,y);for(let k=0;k<S.length;++k){const A=S[k];a.push(w+A)}s=l+(s.length>0?" "+s:s)}return s};function FD(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=jj(e))&&(r&&(r+=" "),r+=n);return r}const jj=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=jj(t[r]))&&(n&&(n+=" "),n+=e);return n};function UD(t,...e){let n,r,i,a=o;function o(c){const l=e.reduce((u,d)=>d(u),t());return n=MD(l),r=n.cache.get,i=n.cache.set,a=s,s(c)}function s(c){const l=r(c);if(l)return l;const u=BD(c,n);return i(c,u),u}return function(){return a(FD.apply(null,arguments))}}const kt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},kj=/^\[(?:([a-z-]+):)?(.+)\]$/i,VD=/^\d+\/\d+$/,qD=new Set(["px","full","screen"]),KD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,GD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,di=t=>ls(t)||qD.has(t)||VD.test(t),qi=t=>sc(t,"length",nM),ls=t=>!!t&&!Number.isNaN(Number(t)),bm=t=>sc(t,"number",ls),Vc=t=>!!t&&Number.isInteger(Number(t)),YD=t=>t.endsWith("%")&&ls(t.slice(0,-1)),Xe=t=>kj.test(t),Ki=t=>KD.test(t),XD=new Set(["length","size","percentage"]),JD=t=>sc(t,XD,Pj),ZD=t=>sc(t,"position",Pj),QD=new Set(["image","url"]),eM=t=>sc(t,QD,iM),tM=t=>sc(t,"",rM),qc=()=>!0,sc=(t,e,n)=>{const r=kj.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},nM=t=>zD.test(t)&&!WD.test(t),Pj=()=>!1,rM=t=>GD.test(t),iM=t=>HD.test(t),aM=()=>{const t=kt("colors"),e=kt("spacing"),n=kt("blur"),r=kt("brightness"),i=kt("borderColor"),a=kt("borderRadius"),o=kt("borderSpacing"),s=kt("borderWidth"),c=kt("contrast"),l=kt("grayscale"),u=kt("hueRotate"),d=kt("invert"),h=kt("gap"),m=kt("gradientColorStops"),y=kt("gradientColorStopPositions"),v=kt("inset"),b=kt("margin"),w=kt("opacity"),_=kt("padding"),S=kt("saturate"),k=kt("scale"),A=kt("sepia"),j=kt("skew"),E=kt("space"),N=kt("translate"),R=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",Xe,e],D=()=>[Xe,e],X=()=>["",di,qi],ee=()=>["auto",ls,Xe],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>["start","end","center","between","around","evenly","stretch"],re=()=>["","0",Xe],de=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_e=()=>[ls,Xe];return{cacheSize:500,separator:":",theme:{colors:[qc],spacing:[di,qi],blur:["none","",Ki,Xe],brightness:_e(),borderColor:[t],borderRadius:["none","","full",Ki,Xe],borderSpacing:D(),borderWidth:X(),contrast:_e(),grayscale:re(),hueRotate:_e(),invert:re(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[YD,qi],inset:L(),margin:L(),opacity:_e(),padding:D(),saturate:_e(),scale:_e(),sepia:re(),skew:_e(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Xe]}],container:["container"],columns:[{columns:[Ki]}],"break-after":[{"break-after":de()}],"break-before":[{"break-before":de()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Xe]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vc,Xe]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Xe]}],grow:[{grow:re()}],shrink:[{shrink:re()}],order:[{order:["first","last","none",Vc,Xe]}],"grid-cols":[{"grid-cols":[qc]}],"col-start-end":[{col:["auto",{span:["full",Vc,Xe]},Xe]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[qc]}],"row-start-end":[{row:["auto",{span:[Vc,Xe]},Xe]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Xe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...ae()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ae(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ae(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Xe,e]}],"min-w":[{"min-w":[Xe,e,"min","max","fit"]}],"max-w":[{"max-w":[Xe,e,"none","full","min","max","fit","prose",{screen:[Ki]},Ki]}],h:[{h:[Xe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Xe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Xe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Xe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ki,qi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bm]}],"font-family":[{font:[qc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Xe]}],"line-clamp":[{"line-clamp":["none",ls,bm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",di,Xe]}],"list-image":[{"list-image":["none",Xe]}],"list-style-type":[{list:["none","disc","decimal",Xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",di,qi]}],"underline-offset":[{"underline-offset":["auto",di,Xe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),ZD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",JD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},eM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[di,Xe]}],"outline-w":[{outline:[di,qi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[di,qi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ki,tM]}],"shadow-color":[{shadow:[qc]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ki,Xe]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[S]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Xe]}],duration:[{duration:_e()}],ease:[{ease:["linear","in","out","in-out",Xe]}],delay:[{delay:_e()}],animate:[{animate:["none","spin","ping","pulse","bounce",Xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Vc,Xe]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Xe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[di,qi,bm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},oM=UD(aM);function he(...t){return oM(Ge(t))}const sM=$2,Ej=O.forwardRef(({className:t,...e},n)=>f.jsx(MO,{ref:n,className:he("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Ej.displayName=MO.displayName;const cM=Su("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Cj=O.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(LO,{ref:r,className:he(cM({variant:e}),t),...n}));Cj.displayName=LO.displayName;const lM=O.forwardRef(({className:t,...e},n)=>f.jsx(BO,{ref:n,className:he("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));lM.displayName=BO.displayName;const Nj=O.forwardRef(({className:t,...e},n)=>f.jsx(FO,{ref:n,className:he("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(Qn,{className:"h-4 w-4"})}));Nj.displayName=FO.displayName;const $j=O.forwardRef(({className:t,...e},n)=>f.jsx(UO,{ref:n,className:he("text-sm font-semibold",t),...e}));$j.displayName=UO.displayName;const Ij=O.forwardRef(({className:t,...e},n)=>f.jsx(VO,{ref:n,className:he("text-sm opacity-90",t),...e}));Ij.displayName=VO.displayName;function uM(){const{toasts:t}=nD();return f.jsxs(sM,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return f.jsxs(Cj,{...a,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx($j,{children:n}),r&&f.jsx(Ij,{children:r})]}),i,f.jsx(Nj,{})]},e)}),f.jsx(Ej,{})]})}var fw=["light","dark"],dM="(prefers-color-scheme: dark)",fM=O.createContext(void 0),hM={setTheme:t=>{},themes:[]},pM=()=>{var t;return(t=O.useContext(fM))!=null?t:hM};O.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:o,attrs:s,nonce:c})=>{let l=a==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=i?fw.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,v=!1,b=!0)=>{let w=o?o[y]:y,_=v?y+"|| ''":`'${w}'`,S="";return i&&b&&!v&&fw.includes(y)&&(S+=`d.style.colorScheme = '${y}';`),n==="class"?v||w?S+=`c.add(${_})`:S+="null":w&&(S+=`d[s](n,${_})`),S},m=t?`!function(){${u}${h(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${l})){var t='${dM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${l?"":"else{"+h(a,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${d}}catch(t){}}();`;return O.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var mM=t=>{switch(t){case"success":return vM;case"info":return xM;case"warning":return bM;case"error":return wM;default:return null}},gM=Array(12).fill(0),yM=({visible:t,className:e})=>$.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},$.createElement("div",{className:"sonner-spinner"},gM.map((n,r)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),vM=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bM=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xM=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),wM=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),SM=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),_M=()=>{let[t,e]=$.useState(document.hidden);return $.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Og=1,AM=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Og++,a=this.toasts.find(s=>s.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...t,id:i,title:n}),{...s,...t,id:i,dismissible:o,title:n}):s):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,a,o=r.then(async c=>{if(a=["resolve",c],$.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(OM(c)&&!c.ok){i=!1;let l=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:l,description:u})}else if(e.success!==void 0){i=!1;let l=typeof e.success=="function"?await e.success(c):e.success,u=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:l,description:u})}}).catch(async c=>{if(a=["reject",c],e.error!==void 0){i=!1;let l=typeof e.error=="function"?await e.error(c):e.error,u=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:l,description:u})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),s=()=>new Promise((c,l)=>o.then(()=>a[0]==="reject"?l(a[1]):c(a[1])).catch(l));return typeof n!="string"&&typeof n!="number"?{unwrap:s}:Object.assign(n,{unwrap:s})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Og++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Mn=new AM,TM=(t,e)=>{let n=(e==null?void 0:e.id)||Og++;return Mn.addToast({title:t,...e,id:n}),n},OM=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",jM=TM,kM=()=>Mn.toasts,PM=()=>Mn.getActiveToasts(),Hi=Object.assign(jM,{success:Mn.success,info:Mn.info,warning:Mn.warning,error:Mn.error,custom:Mn.custom,message:Mn.message,promise:Mn.promise,dismiss:Mn.dismiss,loading:Mn.loading},{getHistory:kM,getToasts:PM});function EM(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}EM(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function xd(t){return t.label!==void 0}var CM=3,NM="32px",$M="16px",hw=4e3,IM=356,RM=14,DM=20,MM=200;function Sr(...t){return t.filter(Boolean).join(" ")}function LM(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var BM=t=>{var e,n,r,i,a,o,s,c,l,u,d;let{invert:h,toast:m,unstyled:y,interacting:v,setHeights:b,visibleToasts:w,heights:_,index:S,toasts:k,expanded:A,removeToast:j,defaultRichColors:E,closeButton:N,style:R,cancelButtonStyle:q,actionButtonStyle:L,className:D="",descriptionClassName:X="",duration:ee,position:W,gap:Q,loadingIcon:te,expandByDefault:ae,classNames:re,icons:de,closeButtonAriaLabel:_e="Close toast",pauseWhenPageIsHidden:ue}=t,[pe,Ce]=$.useState(null),[Ee,Qe]=$.useState(null),[be,Ve]=$.useState(!1),[ie,Te]=$.useState(!1),[Ae,Z]=$.useState(!1),[et,qe]=$.useState(!1),[ot,vt]=$.useState(!1),[Bt,Rn]=$.useState(0),[Fr,xr]=$.useState(0),Nt=$.useRef(m.duration||ee||hw),Fn=$.useRef(null),hn=$.useRef(null),Sa=S===0,Ur=S+1<=w,Wt=m.type,Dn=m.dismissible!==!1,Ec=m.className||"",_a=m.descriptionClassName||"",Ri=$.useMemo(()=>_.findIndex(Fe=>Fe.toastId===m.id)||0,[_,m.id]),ko=$.useMemo(()=>{var Fe;return(Fe=m.closeButton)!=null?Fe:N},[m.closeButton,N]),Vr=$.useMemo(()=>m.duration||ee||hw,[m.duration,ee]),Di=$.useRef(0),qr=$.useRef(0),wr=$.useRef(0),Pe=$.useRef(null),[Aa,ci]=W.split("-"),Ta=$.useMemo(()=>_.reduce((Fe,ht,St)=>St>=Ri?Fe:Fe+ht.height,0),[_,Ri]),Se=_M(),Cc=m.invert||h,Po=Wt==="loading";qr.current=$.useMemo(()=>Ri*Q+Ta,[Ri,Ta]),$.useEffect(()=>{Nt.current=Vr},[Vr]),$.useEffect(()=>{Ve(!0)},[]),$.useEffect(()=>{let Fe=hn.current;if(Fe){let ht=Fe.getBoundingClientRect().height;return xr(ht),b(St=>[{toastId:m.id,height:ht,position:m.position},...St]),()=>b(St=>St.filter(on=>on.toastId!==m.id))}},[b,m.id]),$.useLayoutEffect(()=>{if(!be)return;let Fe=hn.current,ht=Fe.style.height;Fe.style.height="auto";let St=Fe.getBoundingClientRect().height;Fe.style.height=ht,xr(St),b(on=>on.find(sn=>sn.toastId===m.id)?on.map(sn=>sn.toastId===m.id?{...sn,height:St}:sn):[{toastId:m.id,height:St,position:m.position},...on])},[be,m.title,m.description,b,m.id]);let nr=$.useCallback(()=>{Te(!0),Rn(qr.current),b(Fe=>Fe.filter(ht=>ht.toastId!==m.id)),setTimeout(()=>{j(m)},MM)},[m,j,b,qr]);$.useEffect(()=>{if(m.promise&&Wt==="loading"||m.duration===1/0||m.type==="loading")return;let Fe;return A||v||ue&&Se?(()=>{if(wr.current<Di.current){let ht=new Date().getTime()-Di.current;Nt.current=Nt.current-ht}wr.current=new Date().getTime()})():Nt.current!==1/0&&(Di.current=new Date().getTime(),Fe=setTimeout(()=>{var ht;(ht=m.onAutoClose)==null||ht.call(m,m),nr()},Nt.current)),()=>clearTimeout(Fe)},[A,v,m,Wt,ue,Se,nr]),$.useEffect(()=>{m.delete&&nr()},[nr,m.delete]);function Yu(){var Fe,ht,St;return de!=null&&de.loading?$.createElement("div",{className:Sr(re==null?void 0:re.loader,(Fe=m==null?void 0:m.classNames)==null?void 0:Fe.loader,"sonner-loader"),"data-visible":Wt==="loading"},de.loading):te?$.createElement("div",{className:Sr(re==null?void 0:re.loader,(ht=m==null?void 0:m.classNames)==null?void 0:ht.loader,"sonner-loader"),"data-visible":Wt==="loading"},te):$.createElement(yM,{className:Sr(re==null?void 0:re.loader,(St=m==null?void 0:m.classNames)==null?void 0:St.loader),visible:Wt==="loading"})}return $.createElement("li",{tabIndex:0,ref:hn,className:Sr(D,Ec,re==null?void 0:re.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,re==null?void 0:re.default,re==null?void 0:re[Wt],(n=m==null?void 0:m.classNames)==null?void 0:n[Wt]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:E,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":be,"data-promise":!!m.promise,"data-swiped":ot,"data-removed":ie,"data-visible":Ur,"data-y-position":Aa,"data-x-position":ci,"data-index":S,"data-front":Sa,"data-swiping":Ae,"data-dismissible":Dn,"data-type":Wt,"data-invert":Cc,"data-swipe-out":et,"data-swipe-direction":Ee,"data-expanded":!!(A||ae&&be),style:{"--index":S,"--toasts-before":S,"--z-index":k.length-S,"--offset":`${ie?Bt:qr.current}px`,"--initial-height":ae?"auto":`${Fr}px`,...R,...m.style},onDragEnd:()=>{Z(!1),Ce(null),Pe.current=null},onPointerDown:Fe=>{Po||!Dn||(Fn.current=new Date,Rn(qr.current),Fe.target.setPointerCapture(Fe.pointerId),Fe.target.tagName!=="BUTTON"&&(Z(!0),Pe.current={x:Fe.clientX,y:Fe.clientY}))},onPointerUp:()=>{var Fe,ht,St,on;if(et||!Dn)return;Pe.current=null;let sn=Number(((Fe=hn.current)==null?void 0:Fe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),rr=Number(((ht=hn.current)==null?void 0:ht.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ir=new Date().getTime()-((St=Fn.current)==null?void 0:St.getTime()),rt=pe==="x"?sn:rr,xt=Math.abs(rt)/ir;if(Math.abs(rt)>=DM||xt>.11){Rn(qr.current),(on=m.onDismiss)==null||on.call(m,m),Qe(pe==="x"?sn>0?"right":"left":rr>0?"down":"up"),nr(),qe(!0),vt(!1);return}Z(!1),Ce(null)},onPointerMove:Fe=>{var ht,St,on,sn;if(!Pe.current||!Dn||((ht=window.getSelection())==null?void 0:ht.toString().length)>0)return;let rr=Fe.clientY-Pe.current.y,ir=Fe.clientX-Pe.current.x,rt=(St=t.swipeDirections)!=null?St:LM(W);!pe&&(Math.abs(ir)>1||Math.abs(rr)>1)&&Ce(Math.abs(ir)>Math.abs(rr)?"x":"y");let xt={x:0,y:0};pe==="y"?(rt.includes("top")||rt.includes("bottom"))&&(rt.includes("top")&&rr<0||rt.includes("bottom")&&rr>0)&&(xt.y=rr):pe==="x"&&(rt.includes("left")||rt.includes("right"))&&(rt.includes("left")&&ir<0||rt.includes("right")&&ir>0)&&(xt.x=ir),(Math.abs(xt.x)>0||Math.abs(xt.y)>0)&&vt(!0),(on=hn.current)==null||on.style.setProperty("--swipe-amount-x",`${xt.x}px`),(sn=hn.current)==null||sn.style.setProperty("--swipe-amount-y",`${xt.y}px`)}},ko&&!m.jsx?$.createElement("button",{"aria-label":_e,"data-disabled":Po,"data-close-button":!0,onClick:Po||!Dn?()=>{}:()=>{var Fe;nr(),(Fe=m.onDismiss)==null||Fe.call(m,m)},className:Sr(re==null?void 0:re.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},(a=de==null?void 0:de.close)!=null?a:SM):null,m.jsx||O.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:$.createElement($.Fragment,null,Wt||m.icon||m.promise?$.createElement("div",{"data-icon":"",className:Sr(re==null?void 0:re.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Yu():null,m.type!=="loading"?m.icon||(de==null?void 0:de[Wt])||mM(Wt):null):null,$.createElement("div",{"data-content":"",className:Sr(re==null?void 0:re.content,(s=m==null?void 0:m.classNames)==null?void 0:s.content)},$.createElement("div",{"data-title":"",className:Sr(re==null?void 0:re.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?$.createElement("div",{"data-description":"",className:Sr(X,_a,re==null?void 0:re.description,(l=m==null?void 0:m.classNames)==null?void 0:l.description)},typeof m.description=="function"?m.description():m.description):null),O.isValidElement(m.cancel)?m.cancel:m.cancel&&xd(m.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||q,onClick:Fe=>{var ht,St;xd(m.cancel)&&Dn&&((St=(ht=m.cancel).onClick)==null||St.call(ht,Fe),nr())},className:Sr(re==null?void 0:re.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,O.isValidElement(m.action)?m.action:m.action&&xd(m.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||L,onClick:Fe=>{var ht,St;xd(m.action)&&((St=(ht=m.action).onClick)==null||St.call(ht,Fe),!Fe.defaultPrevented&&nr())},className:Sr(re==null?void 0:re.actionButton,(d=m==null?void 0:m.classNames)==null?void 0:d.actionButton)},m.action.label):null))};function pw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function FM(t,e){let n={};return[t,e].forEach((r,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",s=a?$M:NM;function c(l){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof l=="number"?`${l}px`:l})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(l=>{r[l]===void 0?n[`${o}-${l}`]=s:n[`${o}-${l}`]=typeof r[l]=="number"?`${r[l]}px`:r[l]}):c(s)}),n}var UM=O.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:s,offset:c,mobileOffset:l,theme:u="light",richColors:d,duration:h,style:m,visibleToasts:y=CM,toastOptions:v,dir:b=pw(),gap:w=RM,loadingIcon:_,icons:S,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:A}=t,[j,E]=$.useState([]),N=$.useMemo(()=>Array.from(new Set([r].concat(j.filter(ue=>ue.position).map(ue=>ue.position)))),[j,r]),[R,q]=$.useState([]),[L,D]=$.useState(!1),[X,ee]=$.useState(!1),[W,Q]=$.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=$.useRef(null),ae=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),re=$.useRef(null),de=$.useRef(!1),_e=$.useCallback(ue=>{E(pe=>{var Ce;return(Ce=pe.find(Ee=>Ee.id===ue.id))!=null&&Ce.delete||Mn.dismiss(ue.id),pe.filter(({id:Ee})=>Ee!==ue.id)})},[]);return $.useEffect(()=>Mn.subscribe(ue=>{if(ue.dismiss){E(pe=>pe.map(Ce=>Ce.id===ue.id?{...Ce,delete:!0}:Ce));return}setTimeout(()=>{W2.flushSync(()=>{E(pe=>{let Ce=pe.findIndex(Ee=>Ee.id===ue.id);return Ce!==-1?[...pe.slice(0,Ce),{...pe[Ce],...ue},...pe.slice(Ce+1)]:[ue,...pe]})})})}),[]),$.useEffect(()=>{if(u!=="system"){Q(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;let ue=window.matchMedia("(prefers-color-scheme: dark)");try{ue.addEventListener("change",({matches:pe})=>{Q(pe?"dark":"light")})}catch{ue.addListener(({matches:Ce})=>{try{Q(Ce?"dark":"light")}catch(Ee){console.error(Ee)}})}},[u]),$.useEffect(()=>{j.length<=1&&D(!1)},[j]),$.useEffect(()=>{let ue=pe=>{var Ce,Ee;i.every(Qe=>pe[Qe]||pe.code===Qe)&&(D(!0),(Ce=te.current)==null||Ce.focus()),pe.code==="Escape"&&(document.activeElement===te.current||(Ee=te.current)!=null&&Ee.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",ue),()=>document.removeEventListener("keydown",ue)},[i]),$.useEffect(()=>{if(te.current)return()=>{re.current&&(re.current.focus({preventScroll:!0}),re.current=null,de.current=!1)}},[te.current]),$.createElement("section",{ref:e,"aria-label":`${k} ${ae}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((ue,pe)=>{var Ce;let[Ee,Qe]=ue.split("-");return j.length?$.createElement("ol",{key:ue,dir:b==="auto"?pw():b,tabIndex:-1,ref:te,className:s,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":Ee,"data-lifted":L&&j.length>1&&!a,"data-x-position":Qe,style:{"--front-toast-height":`${((Ce=R[0])==null?void 0:Ce.height)||0}px`,"--width":`${IM}px`,"--gap":`${w}px`,...m,...FM(c,l)},onBlur:be=>{de.current&&!be.currentTarget.contains(be.relatedTarget)&&(de.current=!1,re.current&&(re.current.focus({preventScroll:!0}),re.current=null))},onFocus:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||de.current||(de.current=!0,re.current=be.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{X||D(!1)},onDragEnd:()=>D(!1),onPointerDown:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||ee(!0)},onPointerUp:()=>ee(!1)},j.filter(be=>!be.position&&pe===0||be.position===ue).map((be,Ve)=>{var ie,Te;return $.createElement(BM,{key:be.id,icons:S,index:Ve,toast:be,defaultRichColors:d,duration:(ie=v==null?void 0:v.duration)!=null?ie:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:y,closeButton:(Te=v==null?void 0:v.closeButton)!=null?Te:o,interacting:X,position:ue,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:_e,toasts:j.filter(Ae=>Ae.position==be.position),heights:R.filter(Ae=>Ae.position==be.position),setHeights:q,expandByDefault:a,gap:w,loadingIcon:_,expanded:L,pauseWhenPageIsHidden:A,swipeDirections:t.swipeDirections})})):null}))});const VM=({...t})=>{const{theme:e="system"}=pM();return f.jsx(UM,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var[Th,pbe]=fa("Tooltip",[ac]),Oh=ac(),Rj="TooltipProvider",qM=700,jg="tooltip.open",[KM,mb]=Th(Rj),Dj=t=>{const{__scopeTooltip:e,delayDuration:n=qM,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,o=O.useRef(!0),s=O.useRef(!1),c=O.useRef(0);return O.useEffect(()=>{const l=c.current;return()=>window.clearTimeout(l)},[]),f.jsx(KM,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:O.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:O.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:O.useCallback(l=>{s.current=l},[]),disableHoverableContent:i,children:a})};Dj.displayName=Rj;var Al="Tooltip",[zM,jh]=Th(Al),Mj=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:s}=t,c=mb(Al,t.__scopeTooltip),l=Oh(e),[u,d]=O.useState(null),h=oc(),m=O.useRef(0),y=o??c.disableHoverableContent,v=s??c.delayDuration,b=O.useRef(!1),[w,_]=js({prop:r,defaultProp:i??!1,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(jg))):c.onClose(),a==null||a(E)},caller:Al}),S=O.useMemo(()=>w?b.current?"delayed-open":"instant-open":"closed",[w]),k=O.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,_(!0)},[_]),A=O.useCallback(()=>{window.clearTimeout(m.current),m.current=0,_(!1)},[_]),j=O.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,_(!0),m.current=0},v)},[v,_]);return O.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),f.jsx(tb,{...l,children:f.jsx(zM,{scope:e,contentId:h,open:w,stateAttribute:S,trigger:u,onTriggerChange:d,onTriggerEnter:O.useCallback(()=>{c.isOpenDelayedRef.current?j():k()},[c.isOpenDelayedRef,j,k]),onTriggerLeave:O.useCallback(()=>{y?A():(window.clearTimeout(m.current),m.current=0)},[A,y]),onOpen:k,onClose:A,disableHoverableContent:y,children:n})})};Mj.displayName=Al;var kg="TooltipTrigger",Lj=O.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=jh(kg,n),a=mb(kg,n),o=Oh(n),s=O.useRef(null),c=qt(e,s,i.onTriggerChange),l=O.useRef(!1),u=O.useRef(!1),d=O.useCallback(()=>l.current=!1,[]);return O.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),f.jsx(Sh,{asChild:!0,...o,children:f.jsx(ft.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:nt(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:nt(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:nt(t.onPointerDown,()=>{i.open&&i.onClose(),l.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:nt(t.onFocus,()=>{l.current||i.onOpen()}),onBlur:nt(t.onBlur,i.onClose),onClick:nt(t.onClick,i.onClose)})})});Lj.displayName=kg;var WM="TooltipPortal",[mbe,GM]=Th(WM,{forceMount:void 0}),ks="TooltipContent",Bj=O.forwardRef((t,e)=>{const n=GM(ks,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,o=jh(ks,t.__scopeTooltip);return f.jsx(_h,{present:r||o.open,children:o.disableHoverableContent?f.jsx(Fj,{side:i,...a,ref:e}):f.jsx(HM,{side:i,...a,ref:e})})}),HM=O.forwardRef((t,e)=>{const n=jh(ks,t.__scopeTooltip),r=mb(ks,t.__scopeTooltip),i=O.useRef(null),a=qt(e,i),[o,s]=O.useState(null),{trigger:c,onClose:l}=n,u=i.current,{onPointerInTransitChange:d}=r,h=O.useCallback(()=>{s(null),d(!1)},[d]),m=O.useCallback((y,v)=>{const b=y.currentTarget,w={x:y.clientX,y:y.clientY},_=QM(w,b.getBoundingClientRect()),S=eL(w,_),k=tL(v.getBoundingClientRect()),A=rL([...S,...k]);s(A),d(!0)},[d]);return O.useEffect(()=>()=>h(),[h]),O.useEffect(()=>{if(c&&u){const y=b=>m(b,u),v=b=>m(b,c);return c.addEventListener("pointerleave",y),u.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",v)}}},[c,u,m,h]),O.useEffect(()=>{if(o){const y=v=>{const b=v.target,w={x:v.clientX,y:v.clientY},_=(c==null?void 0:c.contains(b))||(u==null?void 0:u.contains(b)),S=!nL(w,o);_?h():S&&(h(),l())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,u,o,l,h]),f.jsx(Fj,{...t,ref:a})}),[YM,XM]=Th(Al,{isInside:!1}),JM=qO("TooltipContent"),Fj=O.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=t,c=jh(ks,n),l=Oh(n),{onClose:u}=c;return O.useEffect(()=>(document.addEventListener(jg,u),()=>document.removeEventListener(jg,u)),[u]),O.useEffect(()=>{if(c.trigger){const d=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,u]),f.jsx(Zv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:f.jsxs(Qv,{"data-state":c.stateAttribute,...l,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(JM,{children:r}),f.jsx(YM,{scope:n,isInside:!0,children:f.jsx(I2,{id:c.contentId,role:"tooltip",children:i||r})})]})})});Bj.displayName=ks;var Uj="TooltipArrow",ZM=O.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Oh(n);return XM(Uj,n).isInside?null:f.jsx(eb,{...i,...r,ref:e})});ZM.displayName=Uj;function QM(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function eL(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function tL(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function nL(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const s=e[a],c=e[o],l=s.x,u=s.y,d=c.x,h=c.y;u>r!=h>r&&n<(d-l)*(r-u)/(h-u)+l&&(i=!i)}return i}function rL(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),iL(e)}function iL(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var aL=Dj,oL=Mj,sL=Lj,Vj=Bj;const cL=aL,lL=oL,uL=sL,qj=O.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(Vj,{ref:r,sideOffset:e,className:he("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));qj.displayName=Vj.displayName;var kh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ph=typeof window>"u"||"Deno"in globalThis;function kr(){}function dL(t,e){return typeof t=="function"?t(e):t}function fL(t){return typeof t=="number"&&t>=0&&t!==1/0}function hL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Pg(t,e){return typeof t=="function"?t(e):t}function pL(t,e){return typeof t=="function"?t(e):t}function mw(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:s}=t;if(o){if(r){if(e.queryHash!==gb(o,e.options))return!1}else if(!Ol(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||a&&!a(e))}function gw(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Tl(e.options.mutationKey)!==Tl(a))return!1}else if(!Ol(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function gb(t,e){return((e==null?void 0:e.queryKeyHashFn)||Tl)(t)}function Tl(t){return JSON.stringify(t,(e,n)=>Eg(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ol(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ol(t[n],e[n])):!1}function Kj(t,e){if(t===e)return t;const n=yw(t)&&yw(e);if(n||Eg(t)&&Eg(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),o=a.length,s=n?[]:{},c=new Set(r);let l=0;for(let u=0;u<o;u++){const d=n?u:a[u];(!n&&c.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(s[d]=void 0,l++):(s[d]=Kj(t[d],e[d]),s[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:s}return e}function yw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Eg(t){if(!vw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!vw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function vw(t){return Object.prototype.toString.call(t)==="[object Object]"}function mL(t){return new Promise(e=>{setTimeout(e,t)})}function gL(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Kj(t,e):e}function yL(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function vL(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var yb=Symbol();function zj(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===yb?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var no,Qi,bs,PO,bL=(PO=class extends kh{constructor(){super();ct(this,no);ct(this,Qi);ct(this,bs);We(this,bs,e=>{if(!Ph&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ce(this,Qi)||this.setEventListener(ce(this,bs))}onUnsubscribe(){var e;this.hasListeners()||((e=ce(this,Qi))==null||e.call(this),We(this,Qi,void 0))}setEventListener(e){var n;We(this,bs,e),(n=ce(this,Qi))==null||n.call(this),We(this,Qi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ce(this,no)!==e&&(We(this,no,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ce(this,no)=="boolean"?ce(this,no):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},no=new WeakMap,Qi=new WeakMap,bs=new WeakMap,PO),Wj=new bL,xs,ea,ws,EO,xL=(EO=class extends kh{constructor(){super();ct(this,xs,!0);ct(this,ea);ct(this,ws);We(this,ws,e=>{if(!Ph&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ce(this,ea)||this.setEventListener(ce(this,ws))}onUnsubscribe(){var e;this.hasListeners()||((e=ce(this,ea))==null||e.call(this),We(this,ea,void 0))}setEventListener(e){var n;We(this,ws,e),(n=ce(this,ea))==null||n.call(this),We(this,ea,e(this.setOnline.bind(this)))}setOnline(e){ce(this,xs)!==e&&(We(this,xs,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ce(this,xs)}},xs=new WeakMap,ea=new WeakMap,ws=new WeakMap,EO),of=new xL;function wL(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function SL(t){return Math.min(1e3*2**t,3e4)}function Gj(t){return(t??"online")==="online"?of.isOnline():!0}var Hj=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function xm(t){return t instanceof Hj}function Yj(t){let e=!1,n=0,r=!1,i;const a=wL(),o=v=>{var b;r||(h(new Hj(v)),(b=t.abort)==null||b.call(t))},s=()=>{e=!0},c=()=>{e=!1},l=()=>Wj.isFocused()&&(t.networkMode==="always"||of.isOnline())&&t.canRun(),u=()=>Gj(t.networkMode)&&t.canRun(),d=v=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,v),i==null||i(),a.resolve(v))},h=v=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,v),i==null||i(),a.reject(v))},m=()=>new Promise(v=>{var b;i=w=>{(r||l())&&v(w)},(b=t.onPause)==null||b.call(t)}).then(()=>{var v;i=void 0,r||(v=t.onContinue)==null||v.call(t)}),y=()=>{if(r)return;let v;const b=n===0?t.initialPromise:void 0;try{v=b??t.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(d).catch(w=>{var j;if(r)return;const _=t.retry??(Ph?0:3),S=t.retryDelay??SL,k=typeof S=="function"?S(n,w):S,A=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,w);if(e||!A){h(w);return}n++,(j=t.onFail)==null||j.call(t,n,w),mL(k).then(()=>l()?void 0:m()).then(()=>{e?h(w):y()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:s,continueRetry:c,canStart:u,start:()=>(u()?y():m().then(y),a)}}var _L=t=>setTimeout(t,0);function AL(){let t=[],e=0,n=s=>{s()},r=s=>{s()},i=_L;const a=s=>{e?t.push(s):i(()=>{n(s)})},o=()=>{const s=t;t=[],s.length&&i(()=>{r(()=>{s.forEach(c=>{n(c)})})})};return{batch:s=>{let c;e++;try{c=s()}finally{e--,e||o()}return c},batchCalls:s=>(...c)=>{a(()=>{s(...c)})},schedule:a,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var kn=AL(),ro,CO,Xj=(CO=class{constructor(){ct(this,ro)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fL(this.gcTime)&&We(this,ro,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ph?1/0:5*60*1e3))}clearGcTimeout(){ce(this,ro)&&(clearTimeout(ce(this,ro)),We(this,ro,void 0))}},ro=new WeakMap,CO),Ss,io,ur,ao,Sn,xu,oo,Er,hi,NO,TL=(NO=class extends Xj{constructor(e){super();ct(this,Er);ct(this,Ss);ct(this,io);ct(this,ur);ct(this,ao);ct(this,Sn);ct(this,xu);ct(this,oo);We(this,oo,!1),We(this,xu,e.defaultOptions),this.setOptions(e.options),this.observers=[],We(this,ao,e.client),We(this,ur,ce(this,ao).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,We(this,Ss,jL(this.options)),this.state=e.state??ce(this,Ss),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ce(this,Sn))==null?void 0:e.promise}setOptions(e){this.options={...ce(this,xu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ce(this,ur).remove(this)}setData(e,n){const r=gL(this.state.data,e,this.options);return wn(this,Er,hi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){wn(this,Er,hi).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=ce(this,Sn))==null?void 0:r.promise;return(i=ce(this,Sn))==null||i.cancel(e),n?n.then(kr).catch(kr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ce(this,Ss))}isActive(){return this.observers.some(e=>pL(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Pg(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!hL(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ce(this,Sn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ce(this,Sn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ce(this,ur).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ce(this,Sn)&&(ce(this,oo)?ce(this,Sn).cancel({revert:!0}):ce(this,Sn).cancelRetry()),this.scheduleGc()),ce(this,ur).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||wn(this,Er,hi).call(this,{type:"invalidate"})}fetch(e,n){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ce(this,Sn))return ce(this,Sn).continueRetry(),ce(this,Sn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(We(this,oo,!0),r.signal)})},a=()=>{const h=zj(this.options,n),y=(()=>{const v={client:ce(this,ao),queryKey:this.queryKey,meta:this.meta};return i(v),v})();return We(this,oo,!1),this.options.persister?this.options.persister(h,y,this):h(y)},s=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ce(this,ao),state:this.state,fetchFn:a};return i(h),h})();(l=this.options.behavior)==null||l.onFetch(s,this),We(this,io,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&wn(this,Er,hi).call(this,{type:"fetch",meta:(d=s.fetchOptions)==null?void 0:d.meta});const c=h=>{var m,y,v,b;xm(h)&&h.silent||wn(this,Er,hi).call(this,{type:"error",error:h}),xm(h)||((y=(m=ce(this,ur).config).onError)==null||y.call(m,h,this),(b=(v=ce(this,ur).config).onSettled)==null||b.call(v,this.state.data,h,this)),this.scheduleGc()};return We(this,Sn,Yj({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var m,y,v,b;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){c(w);return}(y=(m=ce(this,ur).config).onSuccess)==null||y.call(m,h,this),(b=(v=ce(this,ur).config).onSettled)==null||b.call(v,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{wn(this,Er,hi).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{wn(this,Er,hi).call(this,{type:"pause"})},onContinue:()=>{wn(this,Er,hi).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),ce(this,Sn).start()}},Ss=new WeakMap,io=new WeakMap,ur=new WeakMap,ao=new WeakMap,Sn=new WeakMap,xu=new WeakMap,oo=new WeakMap,Er=new WeakSet,hi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...OL(r.data,this.options),fetchMeta:e.meta??null};case"success":return We(this,io,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return xm(i)&&i.revert&&ce(this,io)?{...ce(this,io),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),kn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ce(this,ur).notify({query:this,type:"updated",action:e})})},NO);function OL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Gj(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function jL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Wr,$O,kL=($O=class extends kh{constructor(e={}){super();ct(this,Wr);this.config=e,We(this,Wr,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??gb(i,n);let o=this.get(a);return o||(o=new TL({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){ce(this,Wr).has(e.queryHash)||(ce(this,Wr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ce(this,Wr).get(e.queryHash);n&&(e.destroy(),n===e&&ce(this,Wr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){kn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ce(this,Wr).get(e)}getAll(){return[...ce(this,Wr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>mw(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>mw(e,r)):n}notify(e){kn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){kn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){kn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Wr=new WeakMap,$O),Gr,jn,so,Hr,Wi,IO,PL=(IO=class extends Xj{constructor(e){super();ct(this,Hr);ct(this,Gr);ct(this,jn);ct(this,so);this.mutationId=e.mutationId,We(this,jn,e.mutationCache),We(this,Gr,[]),this.state=e.state||EL(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ce(this,Gr).includes(e)||(ce(this,Gr).push(e),this.clearGcTimeout(),ce(this,jn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){We(this,Gr,ce(this,Gr).filter(n=>n!==e)),this.scheduleGc(),ce(this,jn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ce(this,Gr).length||(this.state.status==="pending"?this.scheduleGc():ce(this,jn).remove(this))}continue(){var e;return((e=ce(this,so))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,s,c,l,u,d,h,m,y,v,b,w,_,S,k,A,j,E,N;const n=()=>{wn(this,Hr,Wi).call(this,{type:"continue"})};We(this,so,Yj({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(R,q)=>{wn(this,Hr,Wi).call(this,{type:"failed",failureCount:R,error:q})},onPause:()=>{wn(this,Hr,Wi).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ce(this,jn).canRun(this)}));const r=this.state.status==="pending",i=!ce(this,so).canStart();try{if(r)n();else{wn(this,Hr,Wi).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(a=ce(this,jn).config).onMutate)==null?void 0:o.call(a,e,this));const q=await((c=(s=this.options).onMutate)==null?void 0:c.call(s,e));q!==this.state.context&&wn(this,Hr,Wi).call(this,{type:"pending",context:q,variables:e,isPaused:i})}const R=await ce(this,so).start();return await((u=(l=ce(this,jn).config).onSuccess)==null?void 0:u.call(l,R,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,R,e,this.state.context)),await((y=(m=ce(this,jn).config).onSettled)==null?void 0:y.call(m,R,null,this.state.variables,this.state.context,this)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,R,null,e,this.state.context)),wn(this,Hr,Wi).call(this,{type:"success",data:R}),R}catch(R){try{throw await((_=(w=ce(this,jn).config).onError)==null?void 0:_.call(w,R,e,this.state.context,this)),await((k=(S=this.options).onError)==null?void 0:k.call(S,R,e,this.state.context)),await((j=(A=ce(this,jn).config).onSettled)==null?void 0:j.call(A,void 0,R,this.state.variables,this.state.context,this)),await((N=(E=this.options).onSettled)==null?void 0:N.call(E,void 0,R,e,this.state.context)),R}finally{wn(this,Hr,Wi).call(this,{type:"error",error:R})}}finally{ce(this,jn).runNext(this)}}},Gr=new WeakMap,jn=new WeakMap,so=new WeakMap,Hr=new WeakSet,Wi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),kn.batch(()=>{ce(this,Gr).forEach(r=>{r.onMutationUpdate(e)}),ce(this,jn).notify({mutation:this,type:"updated",action:e})})},IO);function EL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gi,Cr,wu,RO,CL=(RO=class extends kh{constructor(e={}){super();ct(this,gi);ct(this,Cr);ct(this,wu);this.config=e,We(this,gi,new Set),We(this,Cr,new Map),We(this,wu,0)}build(e,n,r){const i=new PL({mutationCache:this,mutationId:++vd(this,wu)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){ce(this,gi).add(e);const n=wd(e);if(typeof n=="string"){const r=ce(this,Cr).get(n);r?r.push(e):ce(this,Cr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ce(this,gi).delete(e)){const n=wd(e);if(typeof n=="string"){const r=ce(this,Cr).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&ce(this,Cr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=wd(e);if(typeof n=="string"){const r=ce(this,Cr).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=wd(e);if(typeof n=="string"){const i=(r=ce(this,Cr).get(n))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kn.batch(()=>{ce(this,gi).forEach(e=>{this.notify({type:"removed",mutation:e})}),ce(this,gi).clear(),ce(this,Cr).clear()})}getAll(){return Array.from(ce(this,gi))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>gw(n,r))}findAll(e={}){return this.getAll().filter(n=>gw(e,n))}notify(e){kn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return kn.batch(()=>Promise.all(e.map(n=>n.continue().catch(kr))))}},gi=new WeakMap,Cr=new WeakMap,wu=new WeakMap,RO);function wd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function bw(t){return{onFetch:(e,n)=>{var u,d,h,m,y;const r=e.options,i=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,a=((m=e.state.data)==null?void 0:m.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let s={pages:[],pageParams:[]},c=0;const l=async()=>{let v=!1;const b=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},w=zj(e.options,e.fetchOptions),_=async(S,k,A)=>{if(v)return Promise.reject();if(k==null&&S.pages.length)return Promise.resolve(S);const E=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:k,direction:A?"backward":"forward",meta:e.options.meta};return b(L),L})(),N=await w(E),{maxPages:R}=e.options,q=A?vL:yL;return{pages:q(S.pages,N,R),pageParams:q(S.pageParams,k,R)}};if(i&&a.length){const S=i==="backward",k=S?NL:xw,A={pages:a,pageParams:o},j=k(r,A);s=await _(A,j,S)}else{const S=t??a.length;do{const k=c===0?o[0]??r.initialPageParam:xw(r,s);if(c>0&&k==null)break;s=await _(s,k),c++}while(c<S)}return s};e.options.persister?e.fetchFn=()=>{var v,b;return(b=(v=e.options).persister)==null?void 0:b.call(v,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function xw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function NL(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ft,ta,na,_s,As,ra,Ts,Os,DO,$L=(DO=class{constructor(t={}){ct(this,Ft);ct(this,ta);ct(this,na);ct(this,_s);ct(this,As);ct(this,ra);ct(this,Ts);ct(this,Os);We(this,Ft,t.queryCache||new kL),We(this,ta,t.mutationCache||new CL),We(this,na,t.defaultOptions||{}),We(this,_s,new Map),We(this,As,new Map),We(this,ra,0)}mount(){vd(this,ra)._++,ce(this,ra)===1&&(We(this,Ts,Wj.subscribe(async t=>{t&&(await this.resumePausedMutations(),ce(this,Ft).onFocus())})),We(this,Os,of.subscribe(async t=>{t&&(await this.resumePausedMutations(),ce(this,Ft).onOnline())})))}unmount(){var t,e;vd(this,ra)._--,ce(this,ra)===0&&((t=ce(this,Ts))==null||t.call(this),We(this,Ts,void 0),(e=ce(this,Os))==null||e.call(this),We(this,Os,void 0))}isFetching(t){return ce(this,Ft).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ce(this,ta).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ce(this,Ft).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=ce(this,Ft).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Pg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return ce(this,Ft).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ce(this,Ft).get(r.queryHash),a=i==null?void 0:i.state.data,o=dL(e,a);if(o!==void 0)return ce(this,Ft).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return kn.batch(()=>ce(this,Ft).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ce(this,Ft).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ce(this,Ft);kn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ce(this,Ft);return kn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=kn.batch(()=>ce(this,Ft).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(kr).catch(kr)}invalidateQueries(t,e={}){return kn.batch(()=>(ce(this,Ft).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=kn.batch(()=>ce(this,Ft).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(kr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(kr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ce(this,Ft).build(this,e);return n.isStaleByTime(Pg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(kr).catch(kr)}fetchInfiniteQuery(t){return t.behavior=bw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(kr).catch(kr)}ensureInfiniteQueryData(t){return t.behavior=bw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return of.isOnline()?ce(this,ta).resumePausedMutations():Promise.resolve()}getQueryCache(){return ce(this,Ft)}getMutationCache(){return ce(this,ta)}getDefaultOptions(){return ce(this,na)}setDefaultOptions(t){We(this,na,t)}setQueryDefaults(t,e){ce(this,_s).set(Tl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ce(this,_s).values()],n={};return e.forEach(r=>{Ol(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){ce(this,As).set(Tl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ce(this,As).values()],n={};return e.forEach(r=>{Ol(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ce(this,na).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=gb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===yb&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ce(this,na).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ce(this,Ft).clear(),ce(this,ta).clear()}},Ft=new WeakMap,ta=new WeakMap,na=new WeakMap,_s=new WeakMap,As=new WeakMap,ra=new WeakMap,Ts=new WeakMap,Os=new WeakMap,DO),IL=O.createContext(void 0),RL=({client:t,children:e})=>(O.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(IL.Provider,{value:t,children:e}));const DL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class vb extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class ML extends vb{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ww extends vb{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Sw extends vb{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Cg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Cg||(Cg={}));class LL{constructor(e,{headers:n={},customFetch:r,region:i=Cg.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=DL(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return R2(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:s,method:c,body:l,signal:u,timeout:d}=r;let h={},{region:m}=r;m||(m=this.region);const y=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let v;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=l):typeof l=="string"?(h["Content-Type"]="text/plain",v=l):typeof FormData<"u"&&l instanceof FormData?v=l:(h["Content-Type"]="application/json",v=JSON.stringify(l)):l&&typeof l!="string"&&!(typeof Blob<"u"&&l instanceof Blob)&&!(l instanceof ArrayBuffer)&&!(typeof FormData<"u"&&l instanceof FormData)?v=JSON.stringify(l):v=l;let b=u;d&&(o=new AbortController,a=setTimeout(()=>o.abort(),d),u?(b=o.signal,u.addEventListener("abort",()=>o.abort())):b=o.signal);const w=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:v,signal:b}).catch(A=>{throw new ML(A)}),_=w.headers.get("x-relay-error");if(_&&_==="true")throw new ww(w);if(!w.ok)throw new Sw(w);let S=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),k;return S==="application/json"?k=yield w.json():S==="application/octet-stream"||S==="application/pdf"?k=yield w.blob():S==="text/event-stream"?k=w:S==="multipart/form-data"?k=yield w.formData():k=yield w.text(),{data:k,error:null,response:w}}catch(s){return{data:null,error:s,response:s instanceof Sw||s instanceof ww?s.context:void 0}}finally{a&&clearTimeout(a)}})}}var BL=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},FL=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,s=null,c=null,l=a.status,u=a.statusText;if(a.ok){var d,h;if(n.method!=="HEAD"){var m;const w=await a.text();w===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?s=w:s=JSON.parse(w))}const v=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),b=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&b&&b.length>1&&(c=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(o={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,c=null,l=406,u="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var y;const v=await a.text();try{o=JSON.parse(v),Array.isArray(o)&&a.status===404&&(s=[],o=null,l=200,u="OK")}catch{a.status===404&&v===""?(l=204,u="No Content"):o={message:v}}if(o&&n.isMaybeSingle&&(!(o==null||(y=o.details)===null||y===void 0)&&y.includes("0 rows"))&&(o=null,l=200,u="OK"),o&&n.shouldThrowOnError)throw new BL(o)}return{error:o,data:s,count:c,status:l,statusText:u}});return this.shouldThrowOnError||(i=i.catch(a=>{var o;let s="";const c=a==null?void 0:a.cause;if(c){var l,u,d,h;const y=(l=c==null?void 0:c.message)!==null&&l!==void 0?l:"",v=(u=c==null?void 0:c.code)!==null&&u!==void 0?u:"";s=`${(d=a==null?void 0:a.name)!==null&&d!==void 0?d:"FetchError"}: ${a==null?void 0:a.message}`,s+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${y}`,v&&(s+=` (${v})`),c!=null&&c.stack&&(s+=`
${c.stack}`)}else{var m;s=(m=a==null?void 0:a.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},UL=class extends FL{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var o;const s=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${s};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const _w=new RegExp("[,()]");var Ho=class extends UL{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&_w.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&_w.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},VL=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join(""),{url:s,headers:c}=this.cloneRequestState();return s.searchParams.set("select",o),r&&c.append("Prefer",`count=${r}`),new Ho({method:i,url:s,headers:c,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST",{url:a,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),n||o.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(s.length>0){const c=[...new Set(s)].map(l=>`"${l}"`);a.searchParams.set("columns",c.join(","))}}return new Ho({method:i,url:a,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var a;const o="POST",{url:s,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&s.searchParams.set("on_conflict",e),r&&c.append("Prefer",`count=${r}`),i||c.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);s.searchParams.set("columns",u.join(","))}}return new Ho({method:o,url:s,headers:c,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var n;const r="PATCH",{url:i,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new Ho({method:r,url:i,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Ho({method:n,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},qL=class Jj{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new VL(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Jj(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let s;const c=new URL(`${this.url}/rpc/${e}`);let l;const u=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(u)),d=r&&Object.values(n).some(u);d?(s="POST",l=n):r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{c.searchParams.append(m,y)})):(s="POST",l=n);const h=new Headers(this.headers);return d?h.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&h.set("Prefer",`count=${a}`),new Ho({method:s,url:c,headers:h,schema:this.schemaName,body:l,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class KL{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const zL="2.90.1",WL=`realtime-js/${zL}`,Zj="1.0.0",GL="2.0.0",Aw=Zj,Ng=1e4,HL=1e3,YL=100;var Yi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Yi||(Yi={}));var Qt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Qt||(Qt={}));var Nr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Nr||(Nr={}));var $g;(function(t){t.websocket="websocket"})($g||($g={}));var za;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(za||(za={}));class XL{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,n,r){var i,a;const o=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",c=(a=e.join_ref)!==null&&a!==void 0?a:"",l=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+s.length+o.length+l.length+d.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(m),v=0;y.setUint8(v++,this.KINDS.userBroadcastPush),y.setUint8(v++,c.length),y.setUint8(v++,s.length),y.setUint8(v++,o.length),y.setUint8(v++,l.length),y.setUint8(v++,d.length),y.setUint8(v++,n),Array.from(c,w=>y.setUint8(v++,w.charCodeAt(0))),Array.from(s,w=>y.setUint8(v++,w.charCodeAt(0))),Array.from(o,w=>y.setUint8(v++,w.charCodeAt(0))),Array.from(l,w=>y.setUint8(v++,w.charCodeAt(0))),Array.from(d,w=>y.setUint8(v++,w.charCodeAt(0)));var b=new Uint8Array(m.byteLength+r.byteLength);return b.set(new Uint8Array(m),0),b.set(new Uint8Array(r),m.byteLength),b.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,a,o,s,c]=r;return n({join_ref:i,ref:a,topic:o,event:s,payload:c})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),s=n.getUint8(4);let c=this.HEADER_LENGTH+4;const l=r.decode(e.slice(c,c+i));c=c+i;const u=r.decode(e.slice(c,c+a));c=c+a;const d=r.decode(e.slice(c,c+o));c=c+o;const h=e.slice(c,e.byteLength),m=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,y={type:this.BROADCAST_EVENT,event:u,payload:m};return o>0&&(y.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class Qj{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var At;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(At||(At={}));const Tw=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,o)=>(a[o]=JL(o,t,e,i),a),{}):{}},JL=(t,e,n,r)=>{const i=e.find(s=>s.name===t),a=i==null?void 0:i.type,o=n[t];return a&&!r.includes(a)?ek(a,o):Ig(o)},ek=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return t5(e,n)}switch(t){case At.bool:return ZL(e);case At.float4:case At.float8:case At.int2:case At.int4:case At.int8:case At.numeric:case At.oid:return QL(e);case At.json:case At.jsonb:return e5(e);case At.timestamp:return n5(e);case At.abstime:case At.date:case At.daterange:case At.int4range:case At.int8range:case At.money:case At.reltime:case At.text:case At.time:case At.timestamptz:case At.timetz:case At.tsrange:case At.tstzrange:return Ig(e);default:return Ig(e)}},Ig=t=>t,ZL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},QL=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},e5=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},t5=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>ek(e,s))}return t},n5=t=>typeof t=="string"?t.replace(" ","T"):t,tk=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class wm{constructor(e,n,r={},i=Ng){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ow;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ow||(Ow={}));class cl{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cl.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=cl.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=cl.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),o=this.transformState(n),s={},c={};return this.map(a,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const d=a[l];if(d){const h=u.map(b=>b.presence_ref),m=d.map(b=>b.presence_ref),y=u.filter(b=>m.indexOf(b.presence_ref)<0),v=d.filter(b=>h.indexOf(b.presence_ref)<0);y.length>0&&(s[l]=y),v.length>0&&(c[l]=v)}else s[l]=u}),this.syncDiff(a,{joins:s,leaves:c},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,c)=>{var l;const u=(l=e[s])!==null&&l!==void 0?l:[];if(e[s]=this.cloneDeep(c),u.length>0){const d=e[s].map(m=>m.presence_ref),h=u.filter(m=>d.indexOf(m.presence_ref)<0);e[s].unshift(...h)}r(s,u,c)}),this.map(o,(s,c)=>{let l=e[s];if(!l)return;const u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[s]=l,i(s,l,c),l.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(jw||(jw={}));var ll;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ll||(ll={}));var pi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(pi||(pi={}));class Qo{constructor(e,n={config:{}},r){var i,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new wm(this,Nr.join,this.params,this.timeout),this.rejoinTimer=new Qj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nr.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new cl(this),this.broadcastEndpointURL=tk(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Qt.closed){const{config:{broadcast:o,presence:s,private:c}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[ll.PRESENCE]&&this.bindings[ll.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(pi.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(pi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(pi.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,w=[];for(let _=0;_<b;_++){const S=v[_],{filter:{event:k,schema:A,table:j,filter:E}}=S,N=m&&m[_];if(N&&N.event===k&&Qo.isFilterValueEqual(N.schema,A)&&Qo.isFilterValueEqual(N.table,j)&&Qo.isFilterValueEqual(N.filter,E))w.push(Object.assign(Object.assign({},S),{id:N.id}));else{this.unsubscribe(),this.state=Qt.errored,e==null||e(pi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(pi.SUBSCRIBED);return}}).receive("error",m=>{this.state=Qt.errored,e==null||e(pi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(pi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Qt.joined&&e===ll.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let c=s.statusText;try{const l=await s.json();c=l.error||l.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,c;const l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),l.receive("ok",()=>a("ok")),l.receive("error",()=>a("error")),l.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Qt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new wm(this,Nr.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new wm(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>YL){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:c,leave:l,join:u}=Nr;if(r&&[s,c,l,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var y,v,b;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(v=m.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var y,v,b,w,_,S,k,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,E=(y=m.filter)===null||y===void 0?void 0:y.event;return j&&((v=n.ids)===null||v===void 0?void 0:v.includes(j))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))&&(!(!((w=m.filter)===null||w===void 0)&&w.table)||m.filter.table===((_=n.data)===null||_===void 0?void 0:_.table))}else{const j=(k=(S=m==null?void 0:m.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return j==="*"||j===((A=n==null?void 0:n.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:v,table:b,commit_timestamp:w,type:_,errors:S}=y;h=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:w,eventType:_,new:{},old:{},errors:S}),this._getPayloadRecords(y))}m.callback(h,r)})}_isClosed(){return this.state===Qt.closed}_isJoined(){return this.state===Qt.joined}_isJoining(){return this.state===Qt.joining}_isLeaving(){return this.state===Qt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Qo.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Nr.close,{},e)}_onError(e){this._on(Nr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Tw(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Tw(e.columns,e.old_record)),n}}const Sm=()=>{},Sd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},r5=[1e3,2e3,5e3,1e4],i5=1e4,a5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class o5{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ng,this.transport=null,this.heartbeatIntervalMs=Sd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sm,this.ref=0,this.reconnectTimer=null,this.vsn=Aw,this.logger=Sm,this.conn=null,this.sendBuffer=[],this.serializer=new XL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${$g.websocket}`,this.httpEndpoint=tk(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=KL.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Yi.connecting:return za.Connecting;case Yi.open:return za.Open;case Yi.closing:return za.Closing;default:return za.Closed}}isConnected(){return this.connectionState()===za.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Qo(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(HL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Sd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const l=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",l)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:a,ref:o}=n,s=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${i} ${s}`.trim(),a),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Yi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Yi.open||this.conn.readyState===Yi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Nr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([a5],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:WL};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Nr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Qj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Sd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,o,s,c,l,u,d,h,m;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Ng,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Sd.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:Sm,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:Aw,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:y=>r5[y-1]||i5,this.vsn){case Zj:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(y,v)=>v(JSON.stringify(y)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(y,v)=>v(JSON.parse(y));break;case GL:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var jl=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function s5(t,e,n){const r=new URL(e,t);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function c5(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function l5(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const s=s5(t.baseUrl,r,i),c=await c5(t.auth),l=await e(s,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),u=await l.text(),d=(l.headers.get("content-type")||"").includes("application/json"),h=d&&u?JSON.parse(u):u;if(!l.ok){const m=d?h:void 0,y=m==null?void 0:m.error;throw new jl((y==null?void 0:y.message)??`Request failed with status ${l.status}`,{status:l.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:l.status,headers:l.headers,data:h}}}}function _d(t){return t.join("")}var u5=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:_d(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_d(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_d(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_d(t.namespace)}`}),!0}catch(e){if(e instanceof jl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof jl&&n.status===409)return;throw n}}};function Do(t){return t.join("")}var d5=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Do(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Do(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Do(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Do(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Do(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Do(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof jl&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof jl&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},f5=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=l5({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new u5(this.client,e),this.tableOps=new d5(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Eh=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Dt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var h5=class extends Eh{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Rg=class extends Eh{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const bb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),p5=()=>Response,Dg=t=>{if(Array.isArray(t))return t.map(n=>Dg(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Dg(r)}),e},m5=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},g5=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function y5(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v5(t){var e=y5(t,"string");return kl(e)=="symbol"?e:e+""}function b5(t,e,n){return(e=v5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kw(Object(n),!0).forEach(function(r){b5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const _m=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},x5=async(t,e,n)=>{t instanceof await p5()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,a=(r==null?void 0:r.statusCode)||i+"";e(new h5(_m(r),i,a))}).catch(r=>{e(new Rg(_m(r),r))}):e(new Rg(_m(t),t))},w5=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(m5(r)?(i.headers=Le({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Le(Le({},i),n))};async function Ou(t,e,n,r,i,a){return new Promise((o,s)=>{t(n,w5(e,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>x5(c,s,r))})}async function Pl(t,e,n,r){return Ou(t,"GET",e,n,r)}async function Pr(t,e,n,r,i){return Ou(t,"POST",e,r,i,n)}async function Mg(t,e,n,r,i){return Ou(t,"PUT",e,r,i,n)}async function S5(t,e,n,r){return Ou(t,"HEAD",e,Le(Le({},n),{},{noResolveJson:!0}),r)}async function xb(t,e,n,r,i){return Ou(t,"DELETE",e,r,i,n)}var _5=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Dt(e))return{data:null,error:e};throw e}}};let nk;nk=Symbol.toStringTag;var A5=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[nk]="BlobDownloadBuilder",this.promise=null}asStream(){return new _5(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Dt(e))return{data:null,error:e};throw e}}};const T5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var O5=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=bb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let a;const o=Le(Le({},Pw),r);let s=Le(Le({},i.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,c&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(s=Le(Le({},s),r.headers));const l=i._removeEmptyFolders(e),u=i._getFinalPath(l),d=await(t=="PUT"?Mg:Pr)(i.fetch,`${i.url}/object/${u}`,a,Le({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Dt(a))return{data:null,error:a};throw a}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const a=i._removeEmptyFolders(t),o=i._getFinalPath(a),s=new URL(i.url+`/object/upload/sign/${o}`);s.searchParams.set("token",e);try{let c;const l=Le({upsert:Pw.upsert},r),u=Le(Le({},i.headers),{"x-upsert":String(l.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",l.cacheControl)):(c=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType),{data:{path:a,fullPath:(await Mg(i.fetch,s.toString(),c,{headers:u})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Dt(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=Le({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const a=await Pr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(n.url+a.url),s=o.searchParams.get("token");if(!s)throw new Eh("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await Pr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Dt(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await Pr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Dt(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),a=await Pr(r.fetch,`${r.url}/object/sign/${i}`,Le({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${r.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Dt(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await Pr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Le(Le({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Dt(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",a=this._getFinalPath(t),o=()=>Pl(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new A5(o,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Dg(await Pl(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await S5(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Dt(r)&&r instanceof Rg){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&r.push(o);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${s}`)}}}async remove(t){var e=this;try{return{data:await xb(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=Le(Le(Le({},T5),e),{},{prefix:t||""});return{data:await Pr(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Dt(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=Le({},t);return{data:await Pr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const rk="2.90.1",ik={"X-Client-Info":`storage-js/${rk}`};var j5=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Le(Le({},ik),e),this.fetch=bb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Pl(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Pl(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Pr(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await Mg(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await Pr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await xb(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},k5=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Le(Le({},ik),e),this.fetch=bb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Pr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await Pl(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await xb(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!g5(t))throw new Eh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new f5({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,a){const o=i[a];return typeof o!="function"?o:async(...s)=>{try{return{data:await o.apply(i,s),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const wb={"X-Client-Info":`storage-js/${rk}`,"Content-Type":"application/json"};var ak=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Yn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Am=class extends ak{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},P5=class extends ak{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Sb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),E5=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ew=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),C5=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||r+"";e(new Am(Ew(a),r,o))}).catch(()=>{const a=r+"";e(new Am(i.statusText||`HTTP ${r} error`,r,a))});else{const a=r+"";e(new Am(i.statusText||`HTTP ${r} error`,r,a))}}else e(new P5(Ew(t),t))},N5=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(E5(r)?(i.headers=Le({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Le(Le({},i),n)):i};async function $5(t,e,n,r,i,a){return new Promise((o,s)=>{t(n,N5(e,r,i,a)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>C5(c,s,r))})}async function Xn(t,e,n,r,i){return $5(t,"POST",e,r,i,n)}var I5=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Le(Le({},wb),e),this.fetch=Sb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Xn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Xn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Yn(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await Xn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Xn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Yn(r))return{data:null,error:r};throw r}}},R5=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Le(Le({},wb),e),this.fetch=Sb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Xn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Xn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Xn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Xn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Xn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}}},D5=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Le(Le({},wb),e),this.fetch=Sb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Xn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Xn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Xn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Xn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}}},M5=class extends D5{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new L5(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},L5=class extends I5{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Le(Le({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Le(Le({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new B5(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},B5=class extends R5{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Le(Le({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Le(Le({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Le(Le({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Le(Le({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Le(Le({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},F5=class extends j5{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new O5(this.url,this.headers,t,this.fetch)}get vectors(){return new M5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new k5(this.url+"/iceberg",this.headers,this.fetch)}};const ok="2.90.1",Yo=30*1e3,Lg=3,Tm=Lg*Yo,U5="http://localhost:9999",V5="supabase.auth.token",q5={"X-Client-Info":`gotrue-js/${ok}`},Bg="X-Supabase-Api-Version",sk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},K5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,z5=10*60*1e3;class El extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ne(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class W5 extends El{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function G5(t){return Ne(t)&&t.name==="AuthApiError"}class Wa extends El{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Pi extends El{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class qn extends Pi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function H5(t){return Ne(t)&&t.name==="AuthSessionMissingError"}class Mo extends Pi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ad extends Pi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Td extends Pi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Y5(t){return Ne(t)&&t.name==="AuthImplicitGrantRedirectError"}class Cw extends Pi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class X5 extends Pi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Fg extends Pi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Om(t){return Ne(t)&&t.name==="AuthRetryableFetchError"}class Nw extends Pi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ug extends Pi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const sf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$w=` 	
\r=`.split(""),J5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<$w.length;e+=1)t[$w[e].charCodeAt(0)]=-2;for(let e=0;e<sf.length;e+=1)t[sf[e].charCodeAt(0)]=e;return t})();function Iw(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(sf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(sf[r]),e.queuedBits-=6}}function ck(t,e,n){const r=J5[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Rw(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{eB(o,r,n)};for(let o=0;o<t.length;o+=1)ck(t.charCodeAt(o),i,a);return e.join("")}function Z5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Q5(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Z5(r,e)}}function eB(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function us(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)ck(t.charCodeAt(i),n,r);return new Uint8Array(e)}function tB(t){const e=[];return Q5(t,n=>e.push(n)),new Uint8Array(e)}function Ha(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>Iw(i,n,r)),Iw(null,n,r),e.join("")}function nB(t){return Math.round(Date.now()/1e3)+t}function rB(){return Symbol("auth-callback")}const mn=()=>typeof window<"u"&&typeof document<"u",Na={tested:!1,writable:!1},lk=()=>{if(!mn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Na.tested)return Na.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Na.tested=!0,Na.writable=!0}catch{Na.tested=!0,Na.writable=!1}return Na.writable};function iB(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const uk=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),aB=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Xo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},$a=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pn=async(t,e)=>{await t.removeItem(e)};class Ch{constructor(){this.promise=new Ch.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ch.promiseConstructor=Promise;function jm(t){const e=t.split(".");if(e.length!==3)throw new Ug("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!K5.test(e[r]))throw new Ug("JWT not in base64url format");return{header:JSON.parse(Rw(e[0])),payload:JSON.parse(Rw(e[1])),signature:us(e[2]),raw:{header:e[0],payload:e[1]}}}async function oB(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function sB(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function cB(t){return("0"+t.toString(16)).substr(-2)}function lB(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,cB).join("")}async function uB(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function dB(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await uB(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lo(t,e,n=!1){const r=lB();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Xo(t,`${e}-code-verifier`,i);const a=await dB(r);return[a,r===a?"plain":"s256"]}const fB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hB(t){const e=t.headers.get(Bg);if(!e||!e.match(fB))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function pB(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function mB(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bo(t){if(!gB.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function km(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yB(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function Dw(t){return JSON.parse(JSON.stringify(t))}const La=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vB=[502,503,504];async function Mw(t){var e;if(!aB(t))throw new Fg(La(t),0);if(vB.includes(t.status))throw new Fg(La(t),t.status);let n;try{n=await t.json()}catch(a){throw new Wa(La(a),a)}let r;const i=hB(t);if(i&&i.getTime()>=sk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Nw(La(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new qn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Nw(La(n),t.status,n.weak_password.reasons);throw new W5(La(n),t.status||500,r)}const bB=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Me(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Bg]||(a[Bg]=sk["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await xB(t,e,n+s,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function xB(t,e,n,r,i,a){const o=bB(e,r,i,a);let s;try{s=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new Fg(La(c),0)}if(s.ok||await Mw(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(c){await Mw(c)}}function Tr(t){var e;let n=null;_B(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=nB(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Lw(t){const e=Tr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ji(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wB(t){return{data:t,error:null}}function SB(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,o=Ah(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:s,user:c},error:null}}function Bw(t){return t}function _B(t){return t.access_token&&t.refresh_token&&t.expires_in}const Pm=["global","local","others"];class AB{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=uk(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Pm[0]){if(Pm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pm.join(", ")}`);try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ji})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Ah(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:SB,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ne(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ji})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,o,s,c;try{const l={nextPage:null,lastPage:0,total:0},u=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Bw});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);l[`${b}Page`]=v}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Ne(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Bo(e);try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ji})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Bo(e);try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ji})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Bo(e);try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ji})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Bo(e.userId);try{const{data:n,error:r}=await Me(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Bo(e.userId),Bo(e.id);try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,a,o,s,c;try{const l={nextPage:null,lastPage:0,total:0},u=await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Bw});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);l[`${b}Page`]=v}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Ne(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}}function Fw(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Fo={debug:!!(globalThis&&lk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dk extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class TB extends dk{}async function OB(t,e,n){Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new TB(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Fo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function jB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function fk(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function kB(t){return parseInt(t,16)}function PB(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function EB(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:c,resources:l,scheme:u,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=fk(t.address),y=u?`${u}://${r}`:r,v=t.statement?`${t.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${m}

${v}`;let w=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),s&&(w+=`
Not Before: ${s.toISOString()}`),c&&(w+=`
Request ID: ${c}`),l){let _=`
Resources:`;for(const S of l){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);_+=`
- ${S}`}w+=_}return`${b}
${w}`}class Ht extends Error{constructor({message:e,code:n,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class cf extends Ht{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function CB({error:t,options:e}){var n,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ht({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(hk(o)){if(a.rp.id!==o)return new Ht({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function NB({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ht({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(hk(r)){if(n.rpId!==r)return new Ht({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class $B{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const IB=new $B;function RB(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Ah(t,["challenge","user","excludeCredentials"]),a=us(e).buffer,o=Object.assign(Object.assign({},n),{id:us(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const l=r[c];s.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:us(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function DB(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Ah(t,["challenge","allowCredentials"]),i=us(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const s=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:us(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function MB(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ha(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ha(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function LB(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ha(new Uint8Array(i.authenticatorData)),clientDataJSON:Ha(new Uint8Array(i.clientDataJSON)),signature:Ha(new Uint8Array(i.signature)),userHandle:i.userHandle?Ha(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function hk(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Uw(){var t,e;return!!(mn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function BB(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cf("Browser returned unexpected credential type",e)}:{data:null,error:new cf("Empty credential response",e)}}catch(e){return{data:null,error:CB({error:e,options:t})}}}async function FB(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cf("Browser returned unexpected credential type",e)}:{data:null,error:new cf("Empty credential response",e)}}catch(e){return{data:null,error:NB({error:e,options:t})}}}const UB={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},VB={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function lf(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(e(o)){const s=r[a];e(s)?r[a]=lf(s,o):r[a]=lf(o)}else r[a]=o}return r}function qB(t,e){return lf(UB,t,e||{})}function KB(t,e){return lf(VB,t,e||{})}class zB{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:s};const c=i??IB.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:l}=o.webauthn.credential_options.publicKey;l.name||(l.name=`${l.id}:${r}`),l.displayName||(l.displayName=l.name)}switch(o.webauthn.type){case"create":{const l=qB(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:u,error:d}=await BB({publicKey:l,signal:c});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const l=KB(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:u,error:d}=await FB(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:l,signal:c}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return Ne(o)?{data:null,error:o}:{data:null,error:new Wa("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new El("rpId is required for WebAuthn authentication")};try{if(!Uw())return{data:null,error:new Wa("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return Ne(o)?{data:null,error:o}:{data:null,error:new Wa("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new El("rpId is required for WebAuthn registration")};try{if(!Uw())return{data:null,error:new Wa("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:s};const{data:c,error:l}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:l}}catch(o){return Ne(o)?{data:null,error:o}:{data:null,error:new Wa("Unexpected error in register",o)}}}}jB();const WB={url:U5,storageKey:V5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:q5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Vw(t,e,n){return await n()}const Uo={};class Cl{get jwks(){var e,n;return(n=(e=Uo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Uo[this.storageKey]=Object.assign(Object.assign({},Uo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Uo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Uo[this.storageKey]=Object.assign(Object.assign({},Uo[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},WB),e);if(this.storageKey=a.storageKey,this.instanceID=(n=Cl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Cl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&mn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new AB({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=uk(a.fetch),this.lock=a.lock||Vw,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&mn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=OB:this.lock=Vw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new zB(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:lk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fw(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Fw(this.memoryStorage)),mn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ok}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(mn()&&(n=iB(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),mn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Y5(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ne(n)?this._returnResult({error:n}):this._returnResult({error:new Wa("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Tr}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:l,session:c},error:null})}catch(a){if(Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:u,password:d,options:h}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Lo(this.storage,this.storageKey)),a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:Tr})}else if("phone"in e){const{phone:u,password:d,options:h}=e;a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Tr})}else throw new Ad("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return await pn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:l,session:c},error:null})}catch(a){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:s}=e;n=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Lw})}else if("phone"in e){const{phone:a,password:o,options:s}=e;n=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Lw})}else throw new Ad("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Mo;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,o,s,c,l,u,d,h;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:v,wallet:b,statement:w,options:_}=e;let S;if(mn())if(typeof b=="object")S=b;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")S=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const k=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href),A=await S.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=fk(A[0]);let E=(r=_==null?void 0:_.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const R=await S.request({method:"eth_chainId"});E=kB(R)}const N={domain:k.host,address:j,statement:w,uri:k.href,version:"1",chainId:E,nonce:(i=_==null?void 0:_.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=_==null?void 0:_.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=_==null?void 0:_.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(c=_==null?void 0:_.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(l=_==null?void 0:_.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(u=_==null?void 0:_.signInWithEthereum)===null||u===void 0?void 0:u.resources};m=EB(N),y=await S.request({method:"personal_sign",params:[PB(m),j]})}try{const{data:v,error:b}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Tr});if(b)throw b;if(!v||!v.session||!v.user){const w=new Mo;return this._returnResult({data:{user:null,session:null},error:w})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(Ne(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var n,r,i,a,o,s,c,l,u,d,h,m;let y,v;if("message"in e)y=e.message,v=e.signature;else{const{chain:b,wallet:w,statement:_,options:S}=e;let k;if(mn())if(typeof w=="object")k=w;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))k=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=w}const A=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const j=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),_?{statement:_}:null));let E;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")E=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)E=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${A.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((d=(u=S==null?void 0:S.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...S.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const j=await k.signMessage(new TextEncoder().encode(y),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=j}}try{const{data:b,error:w}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Ha(v)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Tr});if(w)throw w;if(!b||!b.session||!b.user){const _=new Mo;return this._returnResult({data:{user:null,session:null},error:_})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:w})}catch(b){if(Ne(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await $a(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new X5;const{data:a,error:o}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Tr});if(await pn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new Mo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ne(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=e,s=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Tr}),{data:c,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c||!c.session||!c.user){const u=new Mo;return this._returnResult({data:{user:null,session:null},error:u})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:l})}catch(n){if(Ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,a,o;try{if("email"in e){const{email:s,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Lo(this.storage,this.storageKey));const{error:d}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:s,options:c}=e,{data:l,error:u}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new Ad("You must provide either an email or phone number.")}catch(s){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Tr});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:l,session:c},error:null})}catch(i){if(Ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,a,o;try{let s=null,c=null;this.flowType==="pkce"&&([s,c]=await Lo(this.storage,this.storageKey));const l=await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:c}),headers:this.headers,xform:wB});return!((a=l.data)===null||a===void 0)&&a.url&&mn()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(s){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ne(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new qn;const{error:i}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Ne(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await Me(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:s}=await Me(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s})}throw new Ad("You must provide either an email or phone number and a type")}catch(n){if(Ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await $a(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Tm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await $a(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=km()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=yB(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ji}):await this._useSession(async n=>{var r,i,a;const{data:o,error:s}=n;if(s)throw s;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qn}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ji})})}catch(n){if(Ne(n))return H5(n)&&(await this._removeSession(),await pn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new qn;const o=i.session;let s=null,c=null;this.flowType==="pkce"&&e.email!=null&&([s,c]=await Lo(this.storage,this.storageKey));const{data:l,error:u}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:c}),jwt:o.access_token,xform:Ji});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ne(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qn;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=jm(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:s,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:s}=n;if(s)throw s;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new qn;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!mn())throw new Td("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Td(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Cw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Td("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Cw("No code detected.");const{data:_,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:c,token_type:l}=e;if(!a||!s||!o||!l)throw new Td("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(s);let h=u+d;c&&(h=parseInt(c));const m=h-u;m*1e3<=Yo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const y=h-d;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,u);const{data:v,error:b}=await this._getUser(a);if(b)throw b;const w={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:h,refresh_token:o,token_type:l,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(r){if(Ne(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await $a(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(G5(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await pn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=rB(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Lo(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ne(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,s,c,l,u;const{data:d,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return mn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Ne(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:s,token:c,access_token:l,nonce:u}=e,d=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:c,access_token:l,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Tr}),{data:h,error:m}=d;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Mo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(i){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await sB(async i=>(i>0&&await oB(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Tr})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Om(a)&&Date.now()+o-r<Yo})}catch(r){if(this._debug(n,"error",r),Ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),mn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await $a(this.storage,this.storageKey);if(i&&this.userStorage){let o=await $a(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Xo(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:km()}else if(i&&!i.user&&!i.user){const o=await $a(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await pn(this.storage,this.storageKey+"-user"),await Xo(this.storage,this.storageKey,i)):i.user=km()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Tm;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Tm}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Om(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new qn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ch;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new qn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),Ne(a)){const o={data:null,error:a};return Om(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await pn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Xo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=Dw(i);await Xo(this.storage,this.storageKey,a)}else{const i=Dw(n);await Xo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pn(this.storage,this.storageKey),await pn(this.storage,this.storageKey+"-code-verifier"),await pn(this.storage,this.storageKey+"-user"),this.userStorage&&await pn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&mn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Yo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Yo}ms, refresh threshold is ${Lg} ticks`),i<=Lg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof dk)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Lo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await Me(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:l}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?MB(e.webauthn.credential_response):LB(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:c}=await Me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:c}))})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await Me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:RB(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:DB(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=jm(r.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const l=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:l},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Me(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new qn})})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new qn});const o=await Me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&mn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new qn});const o=await Me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&mn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await Me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new qn})})}catch(e){if(Ne(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qn})})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+z5>i)return r;const{data:a,error:o}=await Me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});r=m.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:c}}=jm(r);n!=null&&n.allowExpired||pB(a.exp);const l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!l){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:a,header:i,signature:o},error:null}}const u=mB(i.alg),d=await crypto.subtle.importKey("jwk",l,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,tB(`${s}.${c}`)))throw new Ug("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}}Cl.nextInstanceID={};const GB=Cl,HB="2.90.1";let tl="";typeof Deno<"u"?tl="deno":typeof document<"u"?tl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tl="react-native":tl="node";const YB={"X-Client-Info":`supabase-js-${tl}/${HB}`},XB={headers:YB},JB={schema:"public"},ZB={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},QB={};function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function eF(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tF(t){var e=eF(t,"string");return Nl(e)=="symbol"?e:e+""}function nF(t,e,n){return(e=tF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qw(Object(n),!0).forEach(function(r){nF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const rF=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),iF=()=>Headers,aF=(t,e,n)=>{const r=rF(n),i=iF();return async(a,o)=>{var s;const c=(s=await e())!==null&&s!==void 0?s:t;let l=new i(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(a,Ut(Ut({},o),{},{headers:l}))}};function oF(t){return t.endsWith("/")?t:t+"/"}function sF(t,e){var n,r;const{db:i,auth:a,realtime:o,global:s}=t,{db:c,auth:l,realtime:u,global:d}=e,h={db:Ut(Ut({},c),i),auth:Ut(Ut({},l),a),realtime:Ut(Ut({},u),o),storage:{},global:Ut(Ut(Ut({},d),s),{},{headers:Ut(Ut({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function cF(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(oF(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var lF=class extends GB{constructor(t){super(t)}},uF=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const a=cF(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,s={db:JB,realtime:QB,auth:Ut(Ut({},ZB),{},{storageKey:o}),global:XB},c=sF(n??{},s);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var l;this.auth=this._initSupabaseAuthClient((l=c.auth)!==null&&l!==void 0?l:{},this.headers,c.global.fetch)}this.fetch=aF(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Ut({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new qL(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new F5(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new LL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:o,lock:s,debug:c,throwOnError:l},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lF({url:this.authUrl.href,headers:Ut(Ut({},h),u),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:s,debug:c,throwOnError:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new o5(this.realtimeUrl.href,Ut(Ut({},t),{},{params:Ut(Ut({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const dF=(t,e,n)=>new uF(t,e,n);function fF(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}fF()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const hF="https://ehjczwleuimrkabekfoe.supabase.co",pk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVoamN6d2xldWltcmthYmVrZm9lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3ODAxNTQsImV4cCI6MjA4NDM1NjE1NH0.HTcEioiqvwdjAEw4Xm3RAd4vRZpyVzYO53MqBGMJo34",Ye=dF(hF,pk),lt=()=>!!pk,mk=O.createContext(void 0);function pF({children:t}){const[e,n]=O.useState(null),[r,i]=O.useState(null),[a,o]=O.useState(!0),s=lt();O.useEffect(()=>{if(!s){o(!1);return}Ye.auth.getSession().then(({data:{session:d}})=>{i(d),n((d==null?void 0:d.user)??null),o(!1)});const{data:{subscription:u}}=Ye.auth.onAuthStateChange((d,h)=>{i(h),n((h==null?void 0:h.user)??null),o(!1)});return()=>u.unsubscribe()},[s]);const c=async()=>{if(!s){console.warn("Supabase not configured");return}const{error:u}=await Ye.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});if(u)throw console.error("Error signing in with Google:",u.message),u},l=async()=>{if(!s)return;const{error:u}=await Ye.auth.signOut();if(u)throw console.error("Error signing out:",u.message),u};return f.jsx(mk.Provider,{value:{user:e,session:r,loading:a,isConfigured:s,signInWithGoogle:c,signOut:l},children:t})}function yr(){const t=O.useContext(mk);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const Kw="kopimaster_ads_enabled",mF=5,gF=O.createContext(void 0);function yF({children:t}){const[e,n]=O.useState(()=>localStorage.getItem(Kw)!=="false"),r=!0,i=o=>{n(o),localStorage.setItem(Kw,String(o))},a=e&&r;return f.jsx(gF.Provider,{value:{adsEnabled:e,setAdsEnabled:i,showAds:a,minTransactionsForAds:mF},children:t})}const nl=[{code:"USD",symbol:"$",name:"US Dollar",locale:"en-US",flag:""},{code:"EUR",symbol:"",name:"Euro",locale:"de-DE",flag:""},{code:"GBP",symbol:"",name:"British Pound",locale:"en-GB",flag:""},{code:"UAH",symbol:"",name:"Ukrainian Hryvnia",locale:"uk-UA",flag:""},{code:"PLN",symbol:"z",name:"Polish Zloty",locale:"pl-PL",flag:""},{code:"JPY",symbol:"",name:"Japanese Yen",locale:"ja-JP",flag:""},{code:"CNY",symbol:"",name:"Chinese Yuan",locale:"zh-CN",flag:""},{code:"KRW",symbol:"",name:"South Korean Won",locale:"ko-KR",flag:""},{code:"INR",symbol:"",name:"Indian Rupee",locale:"hi-IN",flag:""},{code:"BRL",symbol:"R$",name:"Brazilian Real",locale:"pt-BR",flag:""},{code:"CAD",symbol:"C$",name:"Canadian Dollar",locale:"en-CA",flag:""},{code:"AUD",symbol:"A$",name:"Australian Dollar",locale:"en-AU",flag:""},{code:"CHF",symbol:"Fr",name:"Swiss Franc",locale:"de-CH",flag:""},{code:"SEK",symbol:"kr",name:"Swedish Krona",locale:"sv-SE",flag:""},{code:"NOK",symbol:"kr",name:"Norwegian Krone",locale:"nb-NO",flag:""},{code:"DKK",symbol:"kr",name:"Danish Krone",locale:"da-DK",flag:""},{code:"CZK",symbol:"K",name:"Czech Koruna",locale:"cs-CZ",flag:""},{code:"HUF",symbol:"Ft",name:"Hungarian Forint",locale:"hu-HU",flag:""},{code:"RON",symbol:"lei",name:"Romanian Leu",locale:"ro-RO",flag:""},{code:"TRY",symbol:"",name:"Turkish Lira",locale:"tr-TR",flag:""},{code:"ILS",symbol:"",name:"Israeli Shekel",locale:"he-IL",flag:""},{code:"AED",symbol:".",name:"UAE Dirham",locale:"ar-AE",flag:""},{code:"SGD",symbol:"S$",name:"Singapore Dollar",locale:"en-SG",flag:""},{code:"MXN",symbol:"$",name:"Mexican Peso",locale:"es-MX",flag:""},{code:"RUB",symbol:"",name:"Russian Ruble",locale:"ru-RU",flag:""}],zw="kopimaster_currency",gk=O.createContext(void 0);function vF({children:t}){const[e,n]=O.useState(()=>{if(typeof window<"u"){const o=localStorage.getItem(zw);if(o){const d=nl.find(h=>h.code===o);if(d)return d}const s=navigator.language,c={uk:"UAH",ru:"RUB",pl:"PLN",de:"EUR",fr:"EUR",es:"EUR",ja:"JPY",zh:"CNY",ko:"KRW",hi:"INR"},l=s.split("-")[0],u=c[l]||"USD";return nl.find(d=>d.code===u)||nl[0]}return nl[0]}),r=o=>{n(o),localStorage.setItem(zw,o.code)},i=o=>new Intl.NumberFormat(e.locale,{style:"currency",currency:e.code,minimumFractionDigits:0,maximumFractionDigits:e.code==="JPY"||e.code==="KRW"?0:2}).format(o),a=o=>new Intl.NumberFormat(e.locale).format(o);return f.jsx(gk.Provider,{value:{currency:e,setCurrency:r,formatCurrency:i,formatNumber:a},children:t})}function yk(){const t=O.useContext(gk);if(t===void 0)throw new Error("useCurrencyContext must be used within a CurrencyProvider");return t}const _b=O.createContext({});function Ab(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const vk=typeof window<"u",bk=vk?O.useLayoutEffect:O.useEffect,Nh=O.createContext(null);function Tb(t,e){t.indexOf(e)===-1&&t.push(e)}function Ob(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ni=(t,e,n)=>n>e?e:n<t?t:n;let $h=()=>{},Ps=()=>{};const Ti={},xk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function wk(t){return typeof t=="object"&&t!==null}const Sk=t=>/^0[^.\s]+$/u.test(t);function jb(t){let e;return()=>(e===void 0&&(e=t()),e)}const mr=t=>t,bF=(t,e)=>n=>e(t(n)),ju=(...t)=>t.reduce(bF),$l=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class kb{constructor(){this.subscriptions=[]}add(e){return Tb(this.subscriptions,e),()=>Ob(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Jr=t=>t*1e3,hr=t=>t/1e3;function _k(t,e){return e?t*(1e3/e):0}const Ak=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,xF=1e-7,wF=12;function SF(t,e,n,r,i){let a,o,s=0;do o=e+(n-e)/2,a=Ak(o,r,i)-t,a>0?n=o:e=o;while(Math.abs(a)>xF&&++s<wF);return o}function ku(t,e,n,r){if(t===e&&n===r)return mr;const i=a=>SF(a,0,1,t,n);return a=>a===0||a===1?a:Ak(i(a),e,r)}const Tk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ok=t=>e=>1-t(1-e),jk=ku(.33,1.53,.69,.99),Pb=Ok(jk),kk=Tk(Pb),Pk=t=>(t*=2)<1?.5*Pb(t):.5*(2-Math.pow(2,-10*(t-1))),Eb=t=>1-Math.sin(Math.acos(t)),Ek=Ok(Eb),Ck=Tk(Eb),_F=ku(.42,0,1,1),AF=ku(0,0,.58,1),Nk=ku(.42,0,.58,1),TF=t=>Array.isArray(t)&&typeof t[0]!="number",$k=t=>Array.isArray(t)&&typeof t[0]=="number",Ww={linear:mr,easeIn:_F,easeInOut:Nk,easeOut:AF,circIn:Eb,circInOut:Ck,circOut:Ek,backIn:Pb,backInOut:kk,backOut:jk,anticipate:Pk},OF=t=>typeof t=="string",Gw=t=>{if($k(t)){Ps(t.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[e,n,r,i]=t;return ku(e,n,r,i)}else if(OF(t))return Ps(Ww[t]!==void 0,`Invalid easing type '${t}'`,"invalid-easing-type"),Ww[t];return t},Od=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Hw={value:null,addProjectionMetrics:null};function jF(t,e){let n=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},c=0;function l(d){o.has(d)&&(u.schedule(d),t()),c++,d(s)}const u={schedule:(d,h=!1,m=!1)=>{const v=m&&i?n:r;return h&&o.add(d),v.has(d)||v.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(s=d,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),e&&Hw.value&&Hw.value.frameloop[e].push(c),c=0,n.clear(),i=!1,a&&(a=!1,u.process(d))}};return u}const kF=40;function Ik(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Od.reduce((S,k)=>(S[k]=jF(a,e?k:void 0),S),{}),{setup:s,read:c,resolveKeyframes:l,preUpdate:u,update:d,preRender:h,render:m,postRender:y}=o,v=()=>{const S=Ti.useManualTiming?i.timestamp:performance.now();n=!1,Ti.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(S-i.timestamp,kF),1)),i.timestamp=S,i.isProcessing=!0,s.process(i),c.process(i),l.process(i),u.process(i),d.process(i),h.process(i),m.process(i),y.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(v))},b=()=>{n=!0,r=!0,i.isProcessing||t(v)};return{schedule:Od.reduce((S,k)=>{const A=o[k];return S[k]=(j,E=!1,N=!1)=>(n||b(),A.schedule(j,E,N)),S},{}),cancel:S=>{for(let k=0;k<Od.length;k++)o[Od[k]].cancel(S)},state:i,steps:o}}const{schedule:Ct,cancel:la,state:yn,steps:Em}=Ik(typeof requestAnimationFrame<"u"?requestAnimationFrame:mr,!0);let Hd;function PF(){Hd=void 0}const En={now:()=>(Hd===void 0&&En.set(yn.isProcessing||Ti.useManualTiming?yn.timestamp:performance.now()),Hd),set:t=>{Hd=t,queueMicrotask(PF)}},Rk=t=>e=>typeof e=="string"&&e.startsWith(t),Dk=Rk("--"),EF=Rk("var(--"),Cb=t=>EF(t)?CF.test(t.split("/*")[0].trim()):!1,CF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Yw(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const cc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Il={...cc,transform:t=>ni(0,1,t)},jd={...cc,default:1},ul=t=>Math.round(t*1e5)/1e5,Nb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function NF(t){return t==null}const $F=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$b=(t,e)=>n=>!!(typeof n=="string"&&$F.test(n)&&n.startsWith(t)||e&&!NF(n)&&Object.prototype.hasOwnProperty.call(n,e)),Mk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,s]=r.match(Nb);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},IF=t=>ni(0,255,t),Cm={...cc,transform:t=>Math.round(IF(t))},Ya={test:$b("rgb","red"),parse:Mk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Cm.transform(t)+", "+Cm.transform(e)+", "+Cm.transform(n)+", "+ul(Il.transform(r))+")"};function RF(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Vg={test:$b("#"),parse:RF,transform:Ya.transform},Pu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gi=Pu("deg"),Zr=Pu("%"),je=Pu("px"),DF=Pu("vh"),MF=Pu("vw"),Xw={...Zr,parse:t=>Zr.parse(t)/100,transform:t=>Zr.transform(t*100)},es={test:$b("hsl","hue"),parse:Mk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Zr.transform(ul(e))+", "+Zr.transform(ul(n))+", "+ul(Il.transform(r))+")"},Yt={test:t=>Ya.test(t)||Vg.test(t)||es.test(t),parse:t=>Ya.test(t)?Ya.parse(t):es.test(t)?es.parse(t):Vg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ya.transform(t):es.transform(t),getAnimatableNone:t=>{const e=Yt.parse(t);return e.alpha=0,Yt.transform(e)}},LF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function BF(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Nb))==null?void 0:e.length)||0)+(((n=t.match(LF))==null?void 0:n.length)||0)>0}const Lk="number",Bk="color",FF="var",UF="var(",Jw="${}",VF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const s=e.replace(VF,c=>(Yt.test(c)?(r.color.push(a),i.push(Bk),n.push(Yt.parse(c))):c.startsWith(UF)?(r.var.push(a),i.push(FF),n.push(c)):(r.number.push(a),i.push(Lk),n.push(parseFloat(c))),++a,Jw)).split(Jw);return{values:n,split:s,indexes:r,types:i}}function Fk(t){return Rl(t).values}function Uk(t){const{split:e,types:n}=Rl(t),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const s=n[o];s===Lk?a+=ul(i[o]):s===Bk?a+=Yt.transform(i[o]):a+=i[o]}return a}}const qF=t=>typeof t=="number"?0:Yt.test(t)?Yt.getAnimatableNone(t):t;function KF(t){const e=Fk(t);return Uk(t)(e.map(qF))}const ua={test:BF,parse:Fk,createTransformer:Uk,getAnimatableNone:KF};function Nm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function zF({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,o=0;if(!e)i=a=o=n;else{const s=n<.5?n*(1+e):n+e-n*e,c=2*n-s;i=Nm(c,s,t+1/3),a=Nm(c,s,t),o=Nm(c,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function uf(t,e){return n=>n>0?e:t}const Lt=(t,e,n)=>t+(e-t)*n,$m=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},WF=[Vg,Ya,es],GF=t=>WF.find(e=>e.test(t));function Zw(t){const e=GF(t);if($h(!!e,`'${t}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!e)return!1;let n=e.parse(t);return e===es&&(n=zF(n)),n}const Qw=(t,e)=>{const n=Zw(t),r=Zw(e);if(!n||!r)return uf(t,e);const i={...n};return a=>(i.red=$m(n.red,r.red,a),i.green=$m(n.green,r.green,a),i.blue=$m(n.blue,r.blue,a),i.alpha=Lt(n.alpha,r.alpha,a),Ya.transform(i))},qg=new Set(["none","hidden"]);function HF(t,e){return qg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function YF(t,e){return n=>Lt(t,e,n)}function Ib(t){return typeof t=="number"?YF:typeof t=="string"?Cb(t)?uf:Yt.test(t)?Qw:ZF:Array.isArray(t)?Vk:typeof t=="object"?Yt.test(t)?Qw:XF:uf}function Vk(t,e){const n=[...t],r=n.length,i=t.map((a,o)=>Ib(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function XF(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Ib(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function JF(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][r[a]],s=t.values[o]??0;n[i]=s,r[a]++}return n}const ZF=(t,e)=>{const n=ua.createTransformer(e),r=Rl(t),i=Rl(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?qg.has(t)&&!i.values.length||qg.has(e)&&!r.values.length?HF(t,e):ju(Vk(JF(r,i),i.values),n):($h(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),uf(t,e))};function qk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Lt(t,e,n):Ib(t)(t,e)}const QF=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ct.update(e,n),stop:()=>la(e),now:()=>yn.isProcessing?yn.timestamp:En.now()}},Kk=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},df=2e4;function Rb(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<df;)e+=n,r=t.next(e);return e>=df?1/0:e}function e4(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Rb(r),df);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:hr(i)}}const t4=5;function zk(t,e,n){const r=Math.max(e-t4,0);return _k(n-t(r),e-r)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Im=.001;function n4({duration:t=Mt.duration,bounce:e=Mt.bounce,velocity:n=Mt.velocity,mass:r=Mt.mass}){let i,a;$h(t<=Jr(Mt.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-e;o=ni(Mt.minDamping,Mt.maxDamping,o),t=ni(Mt.minDuration,Mt.maxDuration,hr(t)),o<1?(i=l=>{const u=l*o,d=u*t,h=u-n,m=Kg(l,o),y=Math.exp(-d);return Im-h/m*y},a=l=>{const d=l*o*t,h=d*n+n,m=Math.pow(o,2)*Math.pow(l,2)*t,y=Math.exp(-d),v=Kg(Math.pow(l,2),o);return(-i(l)+Im>0?-1:1)*((h-m)*y)/v}):(i=l=>{const u=Math.exp(-l*t),d=(l-n)*t+1;return-Im+u*d},a=l=>{const u=Math.exp(-l*t),d=(n-l)*(t*t);return u*d});const s=5/t,c=i4(i,a,s);if(t=Jr(t),isNaN(c))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:t};{const l=Math.pow(c,2)*r;return{stiffness:l,damping:o*2*Math.sqrt(r*l),duration:t}}}const r4=12;function i4(t,e,n){let r=n;for(let i=1;i<r4;i++)r=r-t(r)/e(r);return r}function Kg(t,e){return t*Math.sqrt(1-e*e)}const a4=["duration","bounce"],o4=["stiffness","damping","mass"];function e1(t,e){return e.some(n=>t[n]!==void 0)}function s4(t){let e={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...t};if(!e1(t,o4)&&e1(t,a4))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*ni(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Mt.mass,stiffness:i,damping:a}}else{const n=n4(t);e={...e,...n,mass:Mt.mass},e.isResolvedFromDuration=!0}return e}function ff(t=Mt.visualDuration,e=Mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:c,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:m}=s4({...n,velocity:-hr(n.velocity||0)}),y=h||0,v=l/(2*Math.sqrt(c*u)),b=o-a,w=hr(Math.sqrt(c/u)),_=Math.abs(b)<5;r||(r=_?Mt.restSpeed.granular:Mt.restSpeed.default),i||(i=_?Mt.restDelta.granular:Mt.restDelta.default);let S;if(v<1){const A=Kg(w,v);S=j=>{const E=Math.exp(-v*w*j);return o-E*((y+v*w*b)/A*Math.sin(A*j)+b*Math.cos(A*j))}}else if(v===1)S=A=>o-Math.exp(-w*A)*(b+(y+w*b)*A);else{const A=w*Math.sqrt(v*v-1);S=j=>{const E=Math.exp(-v*w*j),N=Math.min(A*j,300);return o-E*((y+v*w*b)*Math.sinh(N)+A*b*Math.cosh(N))/A}}const k={calculatedDuration:m&&d||null,next:A=>{const j=S(A);if(m)s.done=A>=d;else{let E=A===0?y:0;v<1&&(E=A===0?Jr(y):zk(S,A,j));const N=Math.abs(E)<=r,R=Math.abs(o-j)<=i;s.done=N&&R}return s.value=s.done?o:j,s},toString:()=>{const A=Math.min(Rb(k),df),j=Kk(E=>k.next(A*E).value,A,30);return A+"ms "+j},toTransition:()=>{}};return k}ff.applyToOptions=t=>{const e=e4(t,100,ff);return t.ease=e.ease,t.duration=Jr(e.duration),t.type="keyframes",t};function zg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:c,restDelta:l=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},m=N=>s!==void 0&&N<s||c!==void 0&&N>c,y=N=>s===void 0?c:c===void 0||Math.abs(s-N)<Math.abs(c-N)?s:c;let v=n*e;const b=d+v,w=o===void 0?b:o(b);w!==b&&(v=w-d);const _=N=>-v*Math.exp(-N/r),S=N=>w+_(N),k=N=>{const R=_(N),q=S(N);h.done=Math.abs(R)<=l,h.value=h.done?w:q};let A,j;const E=N=>{m(h.value)&&(A=N,j=ff({keyframes:[h.value,y(h.value)],velocity:zk(S,N,h.value),damping:i,stiffness:a,restDelta:l,restSpeed:u}))};return E(0),{calculatedDuration:null,next:N=>{let R=!1;return!j&&A===void 0&&(R=!0,k(N),E(N)),A!==void 0&&N>=A?j.next(N-A):(!R&&k(N),h)}}}function c4(t,e,n){const r=[],i=n||Ti.mix||qk,a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||mr:e;s=ju(c,s)}r.push(s)}return r}function l4(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Ps(a===e.length,"Both input and output ranges must be the same length","range-length"),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=c4(e,r,i),c=s.length,l=u=>{if(o&&u<t[0])return e[0];let d=0;if(c>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=$l(t[d],t[d+1],u);return s[d](h)};return n?u=>l(ni(t[0],t[a-1],u)):l}function u4(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=$l(0,e,r);t.push(Lt(n,1,i))}}function d4(t){const e=[0];return u4(e,t.length-1),e}function f4(t,e){return t.map(n=>n*e)}function h4(t,e){return t.map(()=>e||Nk).splice(0,t.length-1)}function dl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=TF(r)?r.map(Gw):Gw(r),a={done:!1,value:e[0]},o=f4(n&&n.length===e.length?n:d4(e),t),s=l4(o,e,{ease:Array.isArray(i)?i:h4(e,i)});return{calculatedDuration:t,next:c=>(a.value=s(c),a.done=c>=t,a)}}const p4=t=>t!==null;function Db(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(p4),s=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!s||r===void 0?a[s]:r}const m4={decay:zg,inertia:zg,tween:dl,keyframes:dl,spring:ff};function Wk(t){typeof t.type=="string"&&(t.type=m4[t.type])}class Mb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const g4=t=>t/100;class Lb extends Mb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==En.now()&&this.tick(En.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Wk(e);const{type:n=dl,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:s}=e;const c=n||dl;c!==dl&&typeof s[0]!="number"&&(this.mixKeyframes=ju(g4,qk(s[0],s[1])),s=[0,100]);const l=c({...e,keyframes:s});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...s].reverse(),velocity:-o})),l.calculatedDuration===null&&(l.calculatedDuration=Rb(l));const{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=l}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:s,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:l=0,keyframes:u,repeat:d,repeatType:h,repeatDelay:m,type:y,onUpdate:v,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-l*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let S=this.currentTime,k=r;if(d){const N=Math.min(this.currentTime,i)/s;let R=Math.floor(N),q=N%1;!q&&N>=1&&(q=1),q===1&&R--,R=Math.min(R,d+1),!!(R%2)&&(h==="reverse"?(q=1-q,m&&(q-=m/s)):h==="mirror"&&(k=o)),S=ni(0,1,q)*s}const A=_?{done:!1,value:u[0]}:k.next(S);a&&(A.value=a(A.value));let{done:j}=A;!_&&c!==null&&(j=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return E&&y!==zg&&(A.value=Db(u,this.options,b,this.speed)),v&&v(A.value),E&&this.finish(),A}then(e,n){return this.finished.then(e,n)}get duration(){return hr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hr(e)}get time(){return hr(this.currentTime)}set time(e){var n;e=Jr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(En.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=hr(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=QF,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(En.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function y4(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Xa=t=>t*180/Math.PI,Wg=t=>{const e=Xa(Math.atan2(t[1],t[0]));return Gg(e)},v4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Wg,rotateZ:Wg,skewX:t=>Xa(Math.atan(t[1])),skewY:t=>Xa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Gg=t=>(t=t%360,t<0&&(t+=360),t),t1=Wg,n1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),r1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),b4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:n1,scaleY:r1,scale:t=>(n1(t)+r1(t))/2,rotateX:t=>Gg(Xa(Math.atan2(t[6],t[5]))),rotateY:t=>Gg(Xa(Math.atan2(-t[2],t[0]))),rotateZ:t1,rotate:t1,skewX:t=>Xa(Math.atan(t[4])),skewY:t=>Xa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Hg(t){return t.includes("scale")?1:0}function Yg(t,e){if(!t||t==="none")return Hg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=b4,i=n;else{const s=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=v4,i=s}if(!i)return Hg(e);const a=r[e],o=i[1].split(",").map(w4);return typeof a=="function"?a(o):o[a]}const x4=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Yg(n,e)};function w4(t){return parseFloat(t.trim())}const lc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],uc=new Set(lc),i1=t=>t===cc||t===je,S4=new Set(["x","y","z"]),_4=lc.filter(t=>!S4.has(t));function A4(t){const e=[];return _4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ia={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Yg(e,"x"),y:(t,{transform:e})=>Yg(e,"y")};ia.translateX=ia.x;ia.translateY=ia.y;const co=new Set;let Xg=!1,Jg=!1,Zg=!1;function Gk(){if(Jg){const t=Array.from(co).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=A4(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{var s;(s=r.getValue(a))==null||s.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Jg=!1,Xg=!1,co.forEach(t=>t.complete(Zg)),co.clear()}function Hk(){co.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Jg=!0)})}function T4(){Zg=!0,Hk(),Gk(),Zg=!1}class Bb{constructor(e,n,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(co.add(this),Xg||(Xg=!0,Ct.read(Hk),Ct.resolveKeyframes(Gk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const s=r.readValue(n,o);s!=null&&(e[0]=s)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}y4(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),co.delete(this)}cancel(){this.state==="scheduled"&&(co.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const O4=t=>t.startsWith("--");function j4(t,e,n){O4(e)?t.style.setProperty(e,n):t.style[e]=n}const k4=jb(()=>window.ScrollTimeline!==void 0),P4={};function E4(t,e){const n=jb(t);return()=>P4[e]??n()}const Yk=E4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),rl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,a1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rl([0,.65,.55,1]),circOut:rl([.55,0,1,.45]),backIn:rl([.31,.01,.66,-.59]),backOut:rl([.33,1.53,.69,.99])};function Xk(t,e){if(t)return typeof t=="function"?Yk()?Kk(t,e):"ease-out":$k(t)?rl(t):Array.isArray(t)?t.map(n=>Xk(n,e)||a1.easeOut):a1[t]}function C4(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:s="easeOut",times:c}={},l=void 0){const u={[e]:n};c&&(u.offset=c);const d=Xk(s,i);Array.isArray(d)&&(u.easing=d);const h={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return l&&(h.pseudoElement=l),t.animate(u,h)}function Jk(t){return typeof t=="function"&&"applyToOptions"in t}function N4({type:t,...e}){return Jk(t)&&Yk()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class $4 extends Mb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:s,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,Ps(typeof e.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const l=N4(e);this.animation=C4(n,r,i,l,a),l.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=Db(i,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(u):j4(n,r,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return hr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hr(e)}get time(){return hr(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Jr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&k4()?(this.animation.timeline=e,mr):n(this)}}const Zk={anticipate:Pk,backInOut:kk,circInOut:Ck};function I4(t){return t in Zk}function R4(t){typeof t.ease=="string"&&I4(t.ease)&&(t.ease=Zk[t.ease])}const Rm=10;class D4 extends $4{constructor(e){R4(e),Wk(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const s=new Lb({...o,autoplay:!1}),c=Math.max(Rm,En.now()-this.startTime),l=ni(0,Rm,c-Rm);n.setWithVelocity(s.sample(Math.max(0,c-l)).value,s.sample(c).value,l),s.stop()}}const o1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ua.test(t)||t==="0")&&!t.startsWith("url("));function M4(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function L4(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=o1(i,e),s=o1(a,e);return $h(o===s,`You are trying to animate ${e} from "${i}" to "${a}". "${o?a:i}" is not an animatable value.`,"value-not-animatable"),!o||!s?!1:M4(t)||(n==="spring"||Jk(n))&&r}function Qg(t){t.duration=0,t.type="keyframes"}const B4=new Set(["opacity","clipPath","filter","transform"]),F4=jb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function U4(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:l}=e.owner.getProps();return F4()&&n&&B4.has(n)&&(n!=="transform"||!l)&&!c&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const V4=40;class q4 extends Mb{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:s,name:c,motionValue:l,element:u,...d}){var y;super(),this.stop=()=>{var v,b;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=En.now();const h={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,name:c,motionValue:l,element:u,...d},m=(u==null?void 0:u.KeyframeResolver)||Bb;this.keyframeResolver=new m(s,(v,b,w)=>this.onKeyframesResolved(v,b,h,!w),c,l,u),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,r,i){var b,w;this.keyframeResolver=void 0;const{name:a,type:o,velocity:s,delay:c,isHandoff:l,onUpdate:u}=r;this.resolvedAt=En.now(),L4(e,a,o,s)||((Ti.instantAnimations||!c)&&(u==null||u(Db(e,r,n))),e[0]=e[e.length-1],Qg(r),r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>V4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!l&&U4(h),y=(w=(b=h.motionValue)==null?void 0:b.owner)==null?void 0:w.current,v=m?new D4({...h,element:y}):new Lb(h);v.finished.then(()=>{this.notifyFinished()}).catch(mr),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),T4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function Qk(t,e,n,r=0,i=1){const a=Array.from(t).sort((l,u)=>l.sortNodePosition(u)).indexOf(e),o=t.size,s=(o-1)*r;return typeof n=="function"?n(a,o):i===1?a*r:s-a*r}const K4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function z4(t){const e=K4.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}const W4=4;function eP(t,e,n=1){Ps(n<=W4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,i]=z4(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return xk(o)?parseFloat(o):o}return Cb(i)?eP(i,e,n+1):i}const G4={type:"spring",stiffness:500,damping:25,restSpeed:10},H4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Y4={type:"keyframes",duration:.8},X4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},J4=(t,{keyframes:e})=>e.length>2?Y4:uc.has(t)?t.startsWith("scale")?H4(e[1]):G4:X4,Z4=t=>t!==null;function Q4(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Z4),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}function Fb(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function eU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:c,elapsed:l,...u}){return!!Object.keys(u).length}const Ub=(t,e,n,r={},i,a)=>o=>{const s=Fb(r,t)||{},c=s.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Jr(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...s,delay:-l,onUpdate:h=>{e.set(h),s.onUpdate&&s.onUpdate(h)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:t,motionValue:e,element:a?void 0:i};eU(s)||Object.assign(u,J4(t,u)),u.duration&&(u.duration=Jr(u.duration)),u.repeatDelay&&(u.repeatDelay=Jr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Qg(u),u.delay===0&&(d=!0)),(Ti.instantAnimations||Ti.skipAnimations)&&(d=!0,Qg(u),u.delay=0),u.allowFlatten=!s.type&&!s.ease,d&&!a&&e.get()!==void 0){const h=Q4(u.keyframes,s);if(h!==void 0){Ct.update(()=>{u.onUpdate(h),u.onComplete()});return}}return s.isSync?new Lb(u):new q4(u)};function s1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Vb(t,e,n,r){if(typeof e=="function"){const[i,a]=s1(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=s1(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function ds(t,e,n){const r=t.getProps();return Vb(r,e,n!==void 0?n:r.custom,t)}const tP=new Set(["width","height","top","left","right","bottom",...lc]),c1=30,tU=t=>!isNaN(parseFloat(t));class nU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=En.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=En.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=tU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new kb);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ct.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=En.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>c1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,c1);return _k(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Es(t,e){return new nU(t,e)}const ey=t=>Array.isArray(t);function rU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Es(n))}function iU(t){return ey(t)?t[t.length-1]||0:t}function aU(t,e){const n=ds(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const s=iU(a[o]);rU(t,o,s)}}const Tn=t=>!!(t&&t.getVelocity);function oU(t){return!!(Tn(t)&&t.add)}function ty(t,e){const n=t.getValue("willChange");if(oU(n))return n.add(e);if(!n&&Ti.WillChange){const r=new Ti.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function qb(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const sU="framerAppearId",nP="data-"+qb(sU);function rP(t){return t.props[nP]}function cU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function iP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...s}=e;r&&(a=r);const c=[],l=i&&t.animationState&&t.animationState.getState()[i];for(const u in s){const d=t.getValue(u,t.latestValues[u]??null),h=s[u];if(h===void 0||l&&cU(l,u))continue;const m={delay:n,...Fb(a||{},u)},y=d.get();if(y!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===y&&!m.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const w=rP(t);if(w){const _=window.MotionHandoffAnimation(w,u,Ct);_!==null&&(m.startTime=_,v=!0)}}ty(t,u),d.start(Ub(u,d,h,t.shouldReduceMotion&&tP.has(u)?{type:!1}:m,t,v));const b=d.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{Ct.update(()=>{o&&aU(t,o)})}),c}function ny(t,e,n={}){var c;const r=ds(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(iP(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return lU(t,e,l,u,d,h,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[l,u]=s==="beforeChildren"?[a,o]:[o,a];return l().then(()=>u())}else return Promise.all([a(),o(n.delay)])}function lU(t,e,n=0,r=0,i=0,a=1,o){const s=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),s.push(ny(c,e,{...o,delay:n+(typeof r=="function"?0:r)+Qk(t.variantChildren,c,r,i,a)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(s)}function uU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>ny(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=ny(t,e,n);else{const i=typeof e=="function"?ds(t,e,n.custom):e;r=Promise.all(iP(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const dU={test:t=>t==="auto",parse:t=>t},aP=t=>e=>e.test(t),oP=[cc,je,Zr,Gi,MF,DF,dU],l1=t=>oP.find(aP(t));function fU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Sk(t):!0}const hU=new Set(["brightness","contrast","saturate","opacity"]);function pU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Nb)||[];if(!r)return t;const i=n.replace(r,"");let a=hU.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const mU=/\b([a-z-]*)\(.*?\)/gu,ry={...ua,getAnimatableNone:t=>{const e=t.match(mU);return e?e.map(pU).join(" "):t}},u1={...cc,transform:Math.round},gU={rotate:Gi,rotateX:Gi,rotateY:Gi,rotateZ:Gi,scale:jd,scaleX:jd,scaleY:jd,scaleZ:jd,skew:Gi,skewX:Gi,skewY:Gi,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:Il,originX:Xw,originY:Xw,originZ:je},Kb={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,inset:je,insetBlock:je,insetBlockStart:je,insetBlockEnd:je,insetInline:je,insetInlineStart:je,insetInlineEnd:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,paddingBlock:je,paddingBlockStart:je,paddingBlockEnd:je,paddingInline:je,paddingInlineStart:je,paddingInlineEnd:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,marginBlock:je,marginBlockStart:je,marginBlockEnd:je,marginInline:je,marginInlineStart:je,marginInlineEnd:je,backgroundPositionX:je,backgroundPositionY:je,...gU,zIndex:u1,fillOpacity:Il,strokeOpacity:Il,numOctaves:u1},yU={...Kb,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:ry,WebkitFilter:ry},sP=t=>yU[t];function cP(t,e){let n=sP(t);return n!==ry&&(n=ua),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const vU=new Set(["auto","none","0"]);function bU(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!vU.has(a)&&Rl(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=cP(n,i)}class xU extends Bb{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),Cb(d))){const h=eP(d,n.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!tP.has(r)||e.length!==2)return;const[i,a]=e,o=l1(i),s=l1(a),c=Yw(i),l=Yw(a);if(c!==l&&ia[r]){this.needsMeasurement=!0;return}if(o!==s)if(i1(o)&&i1(s))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else ia[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||fU(e[i]))&&r.push(i);r.length&&bU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ia[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var s;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=ia[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(s=this.removedTransforms)!=null&&s.length&&this.removedTransforms.forEach(([c,l])=>{e.getValue(c).set(l)}),this.resolveNoneKeyframes()}}function wU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const lP=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function uP(t){return wk(t)&&"offsetHeight"in t}const{schedule:zb,cancel:gbe}=Ik(queueMicrotask,!1),Or={x:!1,y:!1};function dP(){return Or.x||Or.y}function SU(t){return t==="x"||t==="y"?Or[t]?null:(Or[t]=!0,()=>{Or[t]=!1}):Or.x||Or.y?null:(Or.x=Or.y=!0,()=>{Or.x=Or.y=!1})}function fP(t,e){const n=wU(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function d1(t){return!(t.pointerType==="touch"||dP())}function _U(t,e,n={}){const[r,i,a]=fP(t,n),o=s=>{if(!d1(s))return;const{target:c}=s,l=e(c,s);if(typeof l!="function"||!c)return;const u=d=>{d1(d)&&(l(d),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,i)};return r.forEach(s=>{s.addEventListener("pointerenter",o,i)}),a}const hP=(t,e)=>e?t===e?!0:hP(t,e.parentElement):!1,Wb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,AU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pP(t){return AU.has(t.tagName)||t.isContentEditable===!0}const Yd=new WeakSet;function f1(t){return e=>{e.key==="Enter"&&t(e)}}function Dm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const TU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=f1(()=>{if(Yd.has(n))return;Dm(n,"down");const i=f1(()=>{Dm(n,"up")}),a=()=>Dm(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function h1(t){return Wb(t)&&!dP()}function OU(t,e,n={}){const[r,i,a]=fP(t,n),o=s=>{const c=s.currentTarget;if(!h1(s))return;Yd.add(c);const l=e(c,s),u=(m,y)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),Yd.has(c)&&Yd.delete(c),h1(m)&&typeof l=="function"&&l(m,{success:y})},d=m=>{u(m,c===window||c===document||n.useGlobalTarget||hP(c,m.target))},h=m=>{u(m,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",h,i)};return r.forEach(s=>{(n.useGlobalTarget?window:s).addEventListener("pointerdown",o,i),uP(s)&&(s.addEventListener("focus",l=>TU(l,i)),!pP(s)&&!s.hasAttribute("tabindex")&&(s.tabIndex=0))}),a}function mP(t){return wk(t)&&"ownerSVGElement"in t}function jU(t){return mP(t)&&t.tagName==="svg"}const kU=[...oP,Yt,ua],PU=t=>kU.find(aP(t)),p1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ts=()=>({x:p1(),y:p1()}),m1=()=>({min:0,max:0}),en=()=>({x:m1(),y:m1()}),iy={current:null},gP={current:!1},EU=typeof window<"u";function CU(){if(gP.current=!0,!!EU)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>iy.current=t.matches;t.addEventListener("change",e),e()}else iy.current=!1}const NU=new WeakMap;function Ih(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Dl(t){return typeof t=="string"||Array.isArray(t)}const Gb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hb=["initial",...Gb];function Rh(t){return Ih(t.animate)||Hb.some(e=>Dl(t[e]))}function yP(t){return!!(Rh(t)||t.variants)}function $U(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Tn(i))t.addValue(r,i);else if(Tn(a))t.addValue(r,Es(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Es(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const g1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let hf={};function vP(t){hf=t}function IU(){return hf}class RU{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=En.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Ct.render(this.render,!1,!0))};const{latestValues:c,renderState:l}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!a,this.isControllingVariants=Rh(n),this.isVariantNode=yP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const m=d[h];c[h]!==void 0&&Tn(m)&&m.set(c[h])}}mount(e){var n;this.current=e,NU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(gP.current||CU(),this.shouldReduceMotion=iy.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),la(this.notifyUpdate),la(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=uc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ct.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hf){const n=hf[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):en()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<g1.length;r++){const i=g1[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=$U(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Es(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(xk(r)||Sk(r))?r=parseFloat(r):!PU(r)&&ua.test(n)&&(r=cP(e,n)),this.setBaseTarget(e,Tn(r)?r.get():r)),Tn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Vb(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Tn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new kb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){zb.render(this.render)}}class bP extends RU{constructor(){super(...arguments),this.KeyframeResolver=xU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Tn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ha{constructor(e){this.isMounted=!1,this.node=e}update(){}}function xP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function DU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function MU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Mm(t){return t===void 0||t===1}function ay({scale:t,scaleX:e,scaleY:n}){return!Mm(t)||!Mm(e)||!Mm(n)}function Ba(t){return ay(t)||wP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wP(t){return y1(t.x)||y1(t.y)}function y1(t){return t&&t!=="0%"}function pf(t,e,n){const r=t-n,i=e*r;return n+i}function v1(t,e,n,r,i){return i!==void 0&&(t=pf(t,i,r)),pf(t,n,r)+e}function oy(t,e=0,n=1,r,i){t.min=v1(t.min,e,n,r,i),t.max=v1(t.max,e,n,r,i)}function SP(t,{x:e,y:n}){oy(t.x,e.translate,e.scale,e.originPoint),oy(t.y,n.translate,n.scale,n.originPoint)}const b1=.999999999999,x1=1.0000000000001;function LU(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,o;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&rs(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,SP(t,o)),r&&Ba(a.latestValues)&&rs(t,a.latestValues))}e.x<x1&&e.x>b1&&(e.x=1),e.y<x1&&e.y>b1&&(e.y=1)}function ns(t,e){t.min=t.min+e,t.max=t.max+e}function w1(t,e,n,r,i=.5){const a=Lt(t.min,t.max,i);oy(t,e,n,a,r)}function rs(t,e){w1(t.x,e.x,e.scaleX,e.scale,e.originX),w1(t.y,e.y,e.scaleY,e.scale,e.originY)}function _P(t,e){return xP(MU(t.getBoundingClientRect(),e))}function BU(t,e,n){const r=_P(t,n),{scroll:i}=e;return i&&(ns(r.x,i.offset.x),ns(r.y,i.offset.y)),r}const FU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},UU=lc.length;function VU(t,e,n){let r="",i=!0;for(let a=0;a<UU;a++){const o=lc[a],s=t[o];if(s===void 0)continue;let c=!0;if(typeof s=="number"?c=s===(o.startsWith("scale")?1:0):c=parseFloat(s)===0,!c||n){const l=lP(s,Kb[o]);if(!c){i=!1;const u=FU[o]||o;r+=`${u}(${l}) `}n&&(e[o]=l)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Yb(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let o=!1,s=!1;for(const c in e){const l=e[c];if(uc.has(c)){o=!0;continue}else if(Dk(c)){i[c]=l;continue}else{const u=lP(l,Kb[c]);c.startsWith("origin")?(s=!0,a[c]=u):r[c]=u}}if(e.transform||(o||n?r.transform=VU(e,t.transform,n):r.transform&&(r.transform="none")),s){const{originX:c="50%",originY:l="50%",originZ:u=0}=a;r.transformOrigin=`${c} ${l} ${u}`}}function AP(t,{style:e,vars:n},r,i){const a=t.style;let o;for(o in e)a[o]=e[o];i==null||i.applyProjectionStyles(a,r);for(o in n)a.setProperty(o,n[o])}function S1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Kc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(je.test(t))t=parseFloat(t);else return t;const n=S1(t,e.target.x),r=S1(t,e.target.y);return`${n}% ${r}%`}},qU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ua.parse(t);if(i.length>5)return r;const a=ua.createTransformer(t),o=typeof i[0]!="number"?1:0,s=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=s,i[1+o]/=c;const l=Lt(s,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=l),typeof i[3+o]=="number"&&(i[3+o]/=l),a(i)}},sy={borderRadius:{...Kc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kc,borderTopRightRadius:Kc,borderBottomLeftRadius:Kc,borderBottomRightRadius:Kc,boxShadow:qU};function TP(t,{layout:e,layoutId:n}){return uc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!sy[t]||t==="opacity")}function Xb(t,e,n){var o;const r=t.style,i=e==null?void 0:e.style,a={};if(!r)return a;for(const s in r)(Tn(r[s])||i&&Tn(i[s])||TP(s,t)||((o=n==null?void 0:n.getValue(s))==null?void 0:o.liveStyle)!==void 0)&&(a[s]=r[s]);return a}function KU(t){return window.getComputedStyle(t)}class zU extends bP{constructor(){super(...arguments),this.type="html",this.renderInstance=AP}readValueFromInstance(e,n){var r;if(uc.has(n))return(r=this.projection)!=null&&r.isProjecting?Hg(n):x4(e,n);{const i=KU(e),a=(Dk(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return _P(e,n)}build(e,n,r){Yb(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Xb(e,n,r)}}const WU={offset:"stroke-dashoffset",array:"stroke-dasharray"},GU={offset:"strokeDashoffset",array:"strokeDasharray"};function HU(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?WU:GU;t[a.offset]=je.transform(-r);const o=je.transform(e),s=je.transform(n);t[a.array]=`${o} ${s}`}const YU=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function OP(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...s},c,l,u){if(Yb(t,s,l),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:h}=t;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox);for(const m of YU)d[m]!==void 0&&(h[m]=d[m],delete d[m]);e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&HU(d,i,a,o,!1)}const jP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),kP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function XU(t,e,n,r){AP(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(jP.has(i)?i:qb(i),e.attrs[i])}function PP(t,e,n){const r=Xb(t,e,n);for(const i in t)if(Tn(t[i])||Tn(e[i])){const a=lc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}class JU extends bP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=en}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(uc.has(n)){const r=sP(n);return r&&r.default||0}return n=jP.has(n)?n:qb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return PP(e,n,r)}build(e,n,r){OP(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){XU(e,n,r,i)}mount(e){this.isSVGTag=kP(e.tagName),super.mount(e)}}const ZU=Hb.length;function EP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?EP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ZU;n++){const r=Hb[n],i=t.props[r];(Dl(i)||i===!1)&&(e[r]=i)}return e}function CP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const QU=[...Gb].reverse(),e3=Gb.length;function t3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>uU(t,n,r)))}function n3(t){let e=t3(t),n=_1(),r=!0;const i=c=>(l,u)=>{var h;const d=ds(t,u,c==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:m,transitionEnd:y,...v}=d;l={...l,...v,...y}}return l};function a(c){e=c(t)}function o(c){const{props:l}=t,u=EP(t.parent)||{},d=[],h=new Set;let m={},y=1/0;for(let b=0;b<e3;b++){const w=QU[b],_=n[w],S=l[w]!==void 0?l[w]:u[w],k=Dl(S),A=w===c?_.isActive:null;A===!1&&(y=b);let j=S===u[w]&&S!==l[w]&&k;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),_.protectedKeys={...m},!_.isActive&&A===null||!S&&!_.prevProp||Ih(S)||typeof S=="boolean")continue;const E=r3(_.prevProp,S);let N=E||w===c&&_.isActive&&!j&&k||b>y&&k,R=!1;const q=Array.isArray(S)?S:[S];let L=q.reduce(i(w),{});A===!1&&(L={});const{prevResolvedValues:D={}}=_,X={...D,...L},ee=te=>{N=!0,h.has(te)&&(R=!0,h.delete(te)),_.needsAnimating[te]=!0;const ae=t.getValue(te);ae&&(ae.liveStyle=!1)};for(const te in X){const ae=L[te],re=D[te];if(m.hasOwnProperty(te))continue;let de=!1;ey(ae)&&ey(re)?de=!CP(ae,re):de=ae!==re,de?ae!=null?ee(te):h.add(te):ae!==void 0&&h.has(te)?ee(te):_.protectedKeys[te]=!0}_.prevProp=S,_.prevResolvedValues=L,_.isActive&&(m={...m,...L}),r&&t.blockInitialAnimation&&(N=!1);const W=j&&E;N&&(!W||R)&&d.push(...q.map(te=>{const ae={type:w};if(typeof te=="string"&&r&&!W&&t.manuallyAnimateOnMount&&t.parent){const{parent:re}=t,de=ds(re,te);if(re.enteringChildren&&de){const{delayChildren:_e}=de.transition||{};ae.delay=Qk(re.enteringChildren,t,_e)}}return{animation:te,options:ae}}))}if(h.size){const b={};if(typeof l.initial!="boolean"){const w=ds(t,Array.isArray(l.initial)?l.initial[0]:l.initial);w&&w.transition&&(b.transition=w.transition)}h.forEach(w=>{const _=t.getBaseTarget(w),S=t.getValue(w);S&&(S.liveStyle=!0),b[w]=_??null}),d.push({animation:b})}let v=!!d.length;return r&&(l.initial===!1||l.initial===l.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(d):Promise.resolve()}function s(c,l){var d;if(n[c].isActive===l)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,l)}),n[c].isActive=l;const u=o(c);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>n,reset:()=>{n=_1()}}}function r3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!CP(e,t):!1}function Ia(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _1(){return{animate:Ia(!0),whileInView:Ia(),whileHover:Ia(),whileTap:Ia(),whileDrag:Ia(),whileFocus:Ia(),exit:Ia()}}function A1(t,e){t.min=e.min,t.max=e.max}function _r(t,e){A1(t.x,e.x),A1(t.y,e.y)}function T1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const NP=1e-4,i3=1-NP,a3=1+NP,$P=.01,o3=0-$P,s3=0+$P;function Cn(t){return t.max-t.min}function c3(t,e,n){return Math.abs(t-e)<=n}function O1(t,e,n,r=.5){t.origin=r,t.originPoint=Lt(e.min,e.max,t.origin),t.scale=Cn(n)/Cn(e),t.translate=Lt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=i3&&t.scale<=a3||isNaN(t.scale))&&(t.scale=1),(t.translate>=o3&&t.translate<=s3||isNaN(t.translate))&&(t.translate=0)}function fl(t,e,n,r){O1(t.x,e.x,n.x,r?r.originX:void 0),O1(t.y,e.y,n.y,r?r.originY:void 0)}function j1(t,e,n){t.min=n.min+e.min,t.max=t.min+Cn(e)}function l3(t,e,n){j1(t.x,e.x,n.x),j1(t.y,e.y,n.y)}function k1(t,e,n){t.min=e.min-n.min,t.max=t.min+Cn(e)}function mf(t,e,n){k1(t.x,e.x,n.x),k1(t.y,e.y,n.y)}function P1(t,e,n,r,i){return t-=e,t=pf(t,1/n,r),i!==void 0&&(t=pf(t,1/i,r)),t}function u3(t,e=0,n=1,r=.5,i,a=t,o=t){if(Zr.test(e)&&(e=parseFloat(e),e=Lt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let s=Lt(a.min,a.max,r);t===a&&(s-=e),t.min=P1(t.min,e,n,s,i),t.max=P1(t.max,e,n,s,i)}function E1(t,e,[n,r,i],a,o){u3(t,e[n],e[r],e[i],e.scale,a,o)}const d3=["x","scaleX","originX"],f3=["y","scaleY","originY"];function C1(t,e,n,r){E1(t.x,e,d3,n?n.x:void 0,r?r.x:void 0),E1(t.y,e,f3,n?n.y:void 0,r?r.y:void 0)}function N1(t){return t.translate===0&&t.scale===1}function IP(t){return N1(t.x)&&N1(t.y)}function $1(t,e){return t.min===e.min&&t.max===e.max}function h3(t,e){return $1(t.x,e.x)&&$1(t.y,e.y)}function I1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function RP(t,e){return I1(t.x,e.x)&&I1(t.y,e.y)}function R1(t){return Cn(t.x)/Cn(t.y)}function D1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function lr(t){return[t("x"),t("y")]}function p3(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:l,rotate:u,rotateX:d,rotateY:h,skewX:m,skewY:y}=n;l&&(r=`perspective(${l}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const s=t.x.scale*e.x,c=t.y.scale*e.y;return(s!==1||c!==1)&&(r+=`scale(${s}, ${c})`),r||"none"}const DP=["TopLeft","TopRight","BottomLeft","BottomRight"],m3=DP.length,M1=t=>typeof t=="string"?parseFloat(t):t,L1=t=>typeof t=="number"||je.test(t);function g3(t,e,n,r,i,a){i?(t.opacity=Lt(0,n.opacity??1,y3(r)),t.opacityExit=Lt(e.opacity??1,0,v3(r))):a&&(t.opacity=Lt(e.opacity??1,n.opacity??1,r));for(let o=0;o<m3;o++){const s=`border${DP[o]}Radius`;let c=B1(e,s),l=B1(n,s);if(c===void 0&&l===void 0)continue;c||(c=0),l||(l=0),c===0||l===0||L1(c)===L1(l)?(t[s]=Math.max(Lt(M1(c),M1(l),r),0),(Zr.test(l)||Zr.test(c))&&(t[s]+="%")):t[s]=l}(e.rotate||n.rotate)&&(t.rotate=Lt(e.rotate||0,n.rotate||0,r))}function B1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const y3=MP(0,.5,Ek),v3=MP(.5,.95,mr);function MP(t,e,n){return r=>r<t?0:r>e?1:n($l(t,e,r))}function b3(t,e,n){const r=Tn(t)?t:Es(t);return r.start(Ub("",r,e,n)),r.animation}function Ml(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const x3=(t,e)=>t.depth-e.depth;class w3{constructor(){this.children=[],this.isDirty=!1}add(e){Tb(this.children,e),this.isDirty=!0}remove(e){Ob(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(x3),this.isDirty=!1,this.children.forEach(e)}}function S3(t,e){const n=En.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(la(r),t(a-e))};return Ct.setup(r,!0),()=>la(r)}function Xd(t){return Tn(t)?t.get():t}class _3{constructor(){this.members=[]}add(e){Tb(this.members,e),e.scheduleRender()}remove(e){if(Ob(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Jd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Lm=["","X","Y","Z"],A3=1e3;let T3=0;function Bm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function LP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=rP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ct,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&LP(r)}function BP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},s=e==null?void 0:e()){this.id=T3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(k3),this.nodes.forEach(N3),this.nodes.forEach($3),this.nodes.forEach(P3)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new w3)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new kb),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const c=this.eventHandlers.get(o);c&&c.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=mP(o)&&!jU(o),this.instance=o;const{layoutId:s,layout:c,visualElement:l}=this.options;if(l&&!l.current&&l.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||s)&&(this.isLayoutDirty=!0),t){let u,d=0;const h=()=>this.root.updateBlockedByResize=!1;Ct.read(()=>{d=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==d&&(d=m,this.root.updateBlockedByResize=!0,u&&u(),u=S3(h,250),Jd.hasAnimatedSinceResize&&(Jd.hasAnimatedSinceResize=!1,this.nodes.forEach(V1)))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&l&&(s||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||l.getDefaultTransition()||L3,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=l.getProps(),w=!this.targetLayout||!RP(this.targetLayout,m),_=!d&&h;if(this.options.layoutRoot||this.resumeFrom||_||d&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...Fb(y,"layout"),onPlay:v,onComplete:b};(l.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(u,_)}else d||V1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),la(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(I3),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&LP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:s,layout:c}=this.options;if(s===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(U1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(C3),this.nodes.forEach(O3),this.nodes.forEach(j3)):this.nodes.forEach(U1),this.clearAllSnapshots();const s=En.now();yn.delta=ni(0,1e3/60,s-yn.timestamp),yn.timestamp=s,yn.isProcessing=!0,Em.update.process(yn),Em.preRender.process(yn),Em.render.process(yn),yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(E3),this.sharedNodes.forEach(R3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cn(this.snapshot.measuredBox.x)&&!Cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=en(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!IP(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;o&&this.instance&&(s||Ba(this.latestValues)||u)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let c=this.removeElementScroll(s);return o&&(c=this.removeTransform(c)),B3(c),{animationId:this.root.animationId,measuredBox:s,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:o}=this.options;if(!o)return en();const s=o.measureViewportBox();if(!(((l=this.scroll)==null?void 0:l.wasRoot)||this.path.some(F3))){const{scroll:u}=this.root;u&&(ns(s.x,u.offset.x),ns(s.y,u.offset.y))}return s}removeElementScroll(o){var c;const s=en();if(_r(s,o),(c=this.scroll)!=null&&c.wasRoot)return s;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&_r(s,o),ns(s.x,d.offset.x),ns(s.y,d.offset.y))}return s}applyTransform(o,s=!1){const c=en();_r(c,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];!s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&rs(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ba(u.latestValues)&&rs(c,u.latestValues)}return Ba(this.latestValues)&&rs(c,this.latestValues),c}removeTransform(o){const s=en();_r(s,o);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!Ba(l.latestValues))continue;ay(l.latestValues)&&l.updateSnapshot();const u=en(),d=l.measurePageBox();_r(u,d),C1(s,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return Ba(this.latestValues)&&C1(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==s;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!this.layout||!(u||d))return;this.resolvedRelativeTargetAt=yn.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=en(),this.targetWithTransforms=en()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),l3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_r(this.target,this.layout.layoutBox),SP(this.target,this.targetDelta)):_r(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ay(this.parent.latestValues)||wP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,s,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=en(),this.relativeTargetOrigin=en(),mf(this.relativeTargetOrigin,s,c),_r(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var y;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(c=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===yn.timestamp&&(c=!1),c)return;const{layout:l,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||u))return;_r(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;LU(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=en());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(T1(this.prevProjectionDelta.x,this.projectionDelta.x),T1(this.prevProjectionDelta.y,this.projectionDelta.y)),fl(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!D1(this.projectionDelta.x,this.prevProjectionDelta.x)||!D1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var s;if((s=this.options.visualElement)==null||s.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ts(),this.projectionDelta=ts(),this.projectionDeltaWithTransform=ts()}setAnimationOrigin(o,s=!1){const c=this.snapshot,l=c?c.latestValues:{},u={...this.latestValues},d=ts();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const h=en(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,v=m!==y,b=this.getStack(),w=!b||b.members.length<=1,_=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(M3));this.animationProgress=0;let S;this.mixTargetDelta=k=>{const A=k/1e3;q1(d.x,o.x,A),q1(d.y,o.y,A),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mf(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),D3(this.relativeTarget,this.relativeTargetOrigin,h,A),S&&h3(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=en()),_r(S,this.relativeTarget)),v&&(this.animationValues=u,g3(u,l,this.latestValues,A,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var s,c,l;this.notifyListeners("animationStart"),(s=this.currentAnimation)==null||s.stop(),(l=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||l.stop(),this.pendingAnimation&&(la(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ct.update(()=>{Jd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Es(0)),this.currentAnimation=b3(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(A3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:c,layout:l,latestValues:u}=o;if(!(!s||!c||!l)){if(this!==o&&this.layout&&l&&FP(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||en();const d=Cn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const h=Cn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}_r(s,c),rs(s,u),fl(this.projectionDeltaWithTransform,this.layoutCorrected,s,u)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new _3),this.sharedNodes.get(o).add(s);const l=s.options.initialPromotionConfig;s.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())==null?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())==null?void 0:s.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(s=!0),!s)return;const l={};c.z&&Bm("z",o,l,this.animationValues);for(let u=0;u<Lm.length;u++)Bm(`rotate${Lm[u]}`,o,l,this.animationValues),Bm(`skew${Lm[u]}`,o,l,this.animationValues);o.render();for(const u in l)o.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);o.scheduleRender()}applyProjectionStyles(o,s){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Xd(s==null?void 0:s.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Xd(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Ba(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=l.animationValues||l.latestValues;this.applyTransformsToTarget();let d=p3(this.projectionDeltaWithTransform,this.treeScale,u);c&&(d=c(u,d)),o.transform=d;const{x:h,y:m}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,l.animationValues?o.opacity=l===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=l===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const y in sy){if(u[y]===void 0)continue;const{correct:v,applyTo:b,isCSSVariable:w}=sy[y],_=d==="none"?u[y]:v(u[y],l);if(b){const S=b.length;for(let k=0;k<S;k++)o[b[k]]=_}else w?this.options.visualElement.renderState.vars[y]=_:o[y]=_}this.options.layoutId&&(o.pointerEvents=l===this?Xd(s==null?void 0:s.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)==null?void 0:s.stop()}),this.root.nodes.forEach(F1),this.root.sharedNodes.clear()}}}function O3(t){t.updateLayout()}function j3(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?lr(d=>{const h=o?e.measuredBox[d]:e.layoutBox[d],m=Cn(h);h.min=r[d].min,h.max=h.min+m}):FP(a,e.layoutBox,r)&&lr(d=>{const h=o?e.measuredBox[d]:e.layoutBox[d],m=Cn(r[d]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const s=ts();fl(s,r,e.layoutBox);const c=ts();o?fl(c,t.applyTransform(i,!0),e.measuredBox):fl(c,r,e.layoutBox);const l=!IP(s);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:m}=d;if(h&&m){const y=en();mf(y,e.layoutBox,h.layoutBox);const v=en();mf(v,r,m.layoutBox),RP(y,v)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function k3(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function P3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function E3(t){t.clearSnapshot()}function F1(t){t.clearMeasurements()}function U1(t){t.isLayoutDirty=!1}function C3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function V1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function N3(t){t.resolveTargetDelta()}function $3(t){t.calcProjection()}function I3(t){t.resetSkewAndRotation()}function R3(t){t.removeLeadSnapshot()}function q1(t,e,n){t.translate=Lt(e.translate,0,n),t.scale=Lt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function K1(t,e,n,r){t.min=Lt(e.min,n.min,r),t.max=Lt(e.max,n.max,r)}function D3(t,e,n,r){K1(t.x,e.x,n.x,r),K1(t.y,e.y,n.y,r)}function M3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const L3={duration:.45,ease:[.4,0,.1,1]},z1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),W1=z1("applewebkit/")&&!z1("chrome/")?Math.round:mr;function G1(t){t.min=W1(t.min),t.max=W1(t.max)}function B3(t){G1(t.x),G1(t.y)}function FP(t,e,n){return t==="position"||t==="preserve-aspect"&&!c3(R1(e),R1(n),.2)}function F3(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const U3=BP({attachResizeListener:(t,e)=>Ml(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fm={current:void 0},UP=BP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fm.current){const t=new U3({});t.mount(window),t.setOptions({layoutScroll:!0}),Fm.current=t}return Fm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Jb=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function H1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function V3(...t){return e=>{let n=!1;const r=t.map(i=>{const a=H1(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():H1(t[i],null)}}}}function q3(...t){return O.useCallback(V3(...t),t)}class K3 extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=uP(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function z3({children:t,isPresent:e,anchorX:n,root:r}){var u;const i=O.useId(),a=O.useRef(null),o=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=O.useContext(Jb),c=((u=t.props)==null?void 0:u.ref)??(t==null?void 0:t.ref),l=q3(a,c);return O.useInsertionEffect(()=>{const{width:d,height:h,top:m,left:y,right:v}=o.current;if(e||!a.current||!d||!h)return;const b=n==="left"?`left: ${y}`:`right: ${v}`;a.current.dataset.motionPopId=i;const w=document.createElement("style");s&&(w.nonce=s);const _=r??document.head;return _.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${b}px !important;
            top: ${m}px !important;
          }
        `),()=>{_.contains(w)&&_.removeChild(w)}},[e]),f.jsx(K3,{isPresent:e,childRef:a,sizeRef:o,children:O.cloneElement(t,{ref:l})})}const W3=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:s,root:c})=>{const l=Ab(G3),u=O.useId();let d=!0,h=O.useMemo(()=>(d=!1,{id:u,initial:e,isPresent:n,custom:i,onExitComplete:m=>{l.set(m,!0);for(const y of l.values())if(!y)return;r&&r()},register:m=>(l.set(m,!1),()=>l.delete(m))}),[n,l,r]);return a&&d&&(h={...h}),O.useMemo(()=>{l.forEach((m,y)=>l.set(y,!1))},[n]),O.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=f.jsx(z3,{isPresent:n,anchorX:s,root:c,children:t})),f.jsx(Nh.Provider,{value:h,children:t})};function G3(){return new Map}function VP(t=!0){const e=O.useContext(Nh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=O.useId();O.useEffect(()=>{if(t)return i(a)},[t]);const o=O.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,o]:[!0]}const kd=t=>t.key||"";function Y1(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const Zn=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:s="left",root:c})=>{const[l,u]=VP(o),d=O.useMemo(()=>Y1(t),[t]),h=o&&!l?[]:d.map(kd),m=O.useRef(!0),y=O.useRef(d),v=Ab(()=>new Map),b=O.useRef(new Set),[w,_]=O.useState(d),[S,k]=O.useState(d);bk(()=>{m.current=!1,y.current=d;for(let E=0;E<S.length;E++){const N=kd(S[E]);h.includes(N)?(v.delete(N),b.current.delete(N)):v.get(N)!==!0&&v.set(N,!1)}},[S,h.length,h.join("-")]);const A=[];if(d!==w){let E=[...d];for(let N=0;N<S.length;N++){const R=S[N],q=kd(R);h.includes(q)||(E.splice(N,0,R),A.push(R))}return a==="wait"&&A.length&&(E=A),k(Y1(E)),_(d),null}const{forceRender:j}=O.useContext(_b);return f.jsx(f.Fragment,{children:S.map(E=>{const N=kd(E),R=o&&!l?!1:d===S||h.includes(N),q=()=>{if(b.current.has(N))return;if(b.current.add(N),v.has(N))v.set(N,!0);else return;let L=!0;v.forEach(D=>{D||(L=!1)}),L&&(j==null||j(),k(y.current),o&&(u==null||u()),r&&r())};return f.jsx(W3,{isPresent:R,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:c,onExitComplete:R?void 0:q,anchorX:s,children:E},N)})})},qP=O.createContext({strict:!1}),X1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let J1=!1;function H3(){if(J1)return;const t={};for(const e in X1)t[e]={isEnabled:n=>X1[e].some(r=>!!n[r])};vP(t),J1=!0}function KP(){return H3(),IU()}function Y3(t){const e=KP();for(const n in t)e[n]={...e[n],...t[n]};vP(e)}const X3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||X3.has(t)}let zP=t=>!gf(t);function J3(t){typeof t=="function"&&(zP=e=>e.startsWith("on")?!gf(e):t(e))}try{J3(require("@emotion/is-prop-valid").default)}catch{}function Z3(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(zP(i)||n===!0&&gf(i)||!e&&!gf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Dh=O.createContext({});function Q3(t,e){if(Rh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Dl(n)?n:void 0,animate:Dl(r)?r:void 0}}return t.inherit!==!1?e:{}}function eV(t){const{initial:e,animate:n}=Q3(t,O.useContext(Dh));return O.useMemo(()=>({initial:e,animate:n}),[Z1(e),Z1(n)])}function Z1(t){return Array.isArray(t)?t.join(" "):t}const Zb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WP(t,e,n){for(const r in e)!Tn(e[r])&&!TP(r,n)&&(t[r]=e[r])}function tV({transformTemplate:t},e){return O.useMemo(()=>{const n=Zb();return Yb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function nV(t,e){const n=t.style||{},r={};return WP(r,n,t),Object.assign(r,tV(t,e)),r}function rV(t,e){const n={},r=nV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const GP=()=>({...Zb(),attrs:{}});function iV(t,e,n,r){const i=O.useMemo(()=>{const a=GP();return OP(a,e,kP(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};WP(a,t.style,t),i.style={...a,...i.style}}return i}const aV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qb(t){return typeof t!="string"||t.includes("-")?!1:!!(aV.indexOf(t)>-1||/[A-Z]/u.test(t))}function oV(t,e,n,{latestValues:r},i,a=!1,o){const c=(o??Qb(t)?iV:rV)(e,r,i,t),l=Z3(e,typeof t=="string",a),u=t!==O.Fragment?{...l,...c,ref:n}:{},{children:d}=e,h=O.useMemo(()=>Tn(d)?d.get():d,[d]);return O.createElement(t,{...u,children:h})}function sV({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:cV(n,r,i,t),renderState:e()}}function cV(t,e,n,r){const i={},a=r(t,{});for(const h in a)i[h]=Xd(a[h]);let{initial:o,animate:s}=t;const c=Rh(t),l=yP(t);e&&l&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),s===void 0&&(s=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?s:o;if(d&&typeof d!="boolean"&&!Ih(d)){const h=Array.isArray(d)?d:[d];for(let m=0;m<h.length;m++){const y=Vb(t,h[m]);if(y){const{transitionEnd:v,transition:b,...w}=y;for(const _ in w){let S=w[_];if(Array.isArray(S)){const k=u?S.length-1:0;S=S[k]}S!==null&&(i[_]=S)}for(const _ in v)i[_]=v[_]}}}return i}const HP=t=>(e,n)=>{const r=O.useContext(Dh),i=O.useContext(Nh),a=()=>sV(t,e,r,i);return n?a():Ab(a)},lV=HP({scrapeMotionValuesFromProps:Xb,createRenderState:Zb}),uV=HP({scrapeMotionValuesFromProps:PP,createRenderState:GP}),dV=Symbol.for("motionComponentSymbol");function fV(t,e,n){const r=O.useRef(n);O.useInsertionEffect(()=>{r.current=n});const i=O.useRef(null);return O.useCallback(a=>{var s;a&&((s=t.onMount)==null||s.call(t,a)),e&&(a?e.mount(a):e.unmount());const o=r.current;if(typeof o=="function")if(a){const c=o(a);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):o(a);else o&&(o.current=a)},[e])}const YP=O.createContext({});function il(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function hV(t,e,n,r,i,a){var b,w;const{visualElement:o}=O.useContext(Dh),s=O.useContext(qP),c=O.useContext(Nh),l=O.useContext(Jb).reducedMotion,u=O.useRef(null);r=r||s.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:l,isSVG:a}));const d=u.current,h=O.useContext(YP);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&pV(u.current,n,i,h);const m=O.useRef(!1);O.useInsertionEffect(()=>{d&&m.current&&d.update(n,c)});const y=n[nP],v=O.useRef(!!y&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,y))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,y)));return bk(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),O.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,y)}),v.current=!1),d.enteringChildren=void 0)}),d}function pV(t,e,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:c,layoutRoot:l,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:XP(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&il(s),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:l})}function XP(t){if(t)return t.options.allowProjection!==!1?t.projection:XP(t.parent)}function Um(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&Y3(r);const a=n?n==="svg":Qb(t),o=a?uV:lV;function s(l,u){let d;const h={...O.useContext(Jb),...l,layoutId:mV(l)},{isStatic:m}=h,y=eV(l),v=o(l,m);if(!m&&vk){gV();const b=yV(h);d=b.MeasureLayout,y.visualElement=hV(t,v,h,i,b.ProjectionNode,a)}return f.jsxs(Dh.Provider,{value:y,children:[d&&y.visualElement?f.jsx(d,{visualElement:y.visualElement,...h}):null,oV(t,l,fV(v,y.visualElement,u),v,m,e,a)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=O.forwardRef(s);return c[dV]=t,c}function mV({layoutId:t}){const e=O.useContext(_b).id;return e&&t!==void 0?e+"-"+t:t}function gV(t,e){O.useContext(qP).strict}function yV(t){const e=KP(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(t)||r!=null&&r.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function vV(t,e){if(typeof Proxy>"u")return Um;const n=new Map,r=(a,o)=>Um(a,o,t,e),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(n.has(o)||n.set(o,Um(o,void 0,t,e)),n.get(o))})}const bV=(t,e)=>e.isSVG??Qb(t)?new JU(e):new zU(e,{allowProjection:t!==O.Fragment});class xV extends ha{constructor(e){super(e),e.animationState||(e.animationState=n3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ih(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let wV=0;class SV extends ha{constructor(){super(...arguments),this.id=wV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const _V={animation:{Feature:xV},exit:{Feature:SV}};function Eu(t){return{point:{x:t.pageX,y:t.pageY}}}const AV=t=>e=>Wb(e)&&t(e,Eu(e));function hl(t,e,n,r){return Ml(t,e,AV(n),r)}const JP=({current:t})=>t?t.ownerDocument.defaultView:null,Q1=(t,e)=>Math.abs(t-e);function TV(t,e){const n=Q1(t.x,e.x),r=Q1(t.y,e.y);return Math.sqrt(n**2+r**2)}const eS=new Set(["auto","scroll"]);class ZP{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3,element:s}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=qm(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=TV(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!v)return;const{point:b}=m,{timestamp:w}=yn;this.history.push({...b,timestamp:w});const{onStart:_,onMove:S}=this.handlers;y||(_&&_(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Vm(y,this.transformPagePoint),Ct.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:v,onSessionEnd:b,resumeAnimation:w}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=qm(m.type==="pointercancel"?this.lastMoveEventInfo:Vm(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(m,_),b&&b(m,_)},!Wb(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const c=Eu(e),l=Vm(c,this.transformPagePoint),{point:u}=l,{timestamp:d}=yn;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,qm(l,this.history)),this.removeListeners=ju(hl(this.contextWindow,"pointermove",this.handlePointerMove),hl(this.contextWindow,"pointerup",this.handlePointerUp),hl(this.contextWindow,"pointercancel",this.handlePointerUp)),s&&this.startScrollTracking(s)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(eS.has(r.overflowX)||eS.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:i.x-n.x,y:i.y-n.y};a.x===0&&a.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,i),Ct.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),la(this.updatePoint)}}function Vm(t,e){return e?{point:e(t.point)}:t}function tS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qm({point:t},e){return{point:t,delta:tS(t,QP(e)),offset:tS(t,OV(e)),velocity:jV(e,.1)}}function OV(t){return t[0]}function QP(t){return t[t.length-1]}function jV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=QP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Jr(e)));)n--;if(!r)return{x:0,y:0};const a=hr(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function kV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Lt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Lt(n,t,r.max):Math.min(t,n)),t}function nS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function PV(t,{top:e,left:n,bottom:r,right:i}){return{x:nS(t.x,n,i),y:nS(t.y,e,r)}}function rS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function EV(t,e){return{x:rS(t.x,e.x),y:rS(t.y,e.y)}}function CV(t,e){let n=.5;const r=Cn(t),i=Cn(e);return i>r?n=$l(e.min,e.max-r,t.min):r>i&&(n=$l(t.min,t.max-i,e.min)),ni(0,1,n)}function NV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const cy=.35;function $V(t=cy){return t===!1?t=0:t===!0&&(t=cy),{x:iS(t,"left","right"),y:iS(t,"top","bottom")}}function iS(t,e,n){return{min:aS(t,e),max:aS(t,n)}}function aS(t,e){return typeof t=="number"?t:t[e]||0}const IV=new WeakMap;class RV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=en(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=d=>{n?(this.stopAnimation(),this.snapToCursor(Eu(d).point)):this.pauseAnimation()},o=(d,h)=>{this.stopAnimation();const{drag:m,dragPropagation:y,onDragStart:v}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=SU(m),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),lr(w=>{let _=this.getAxisMotionValue(w).get()||0;if(Zr.test(_)){const{projection:S}=this.visualElement;if(S&&S.layout){const k=S.layout.layoutBox[w];k&&(_=Cn(k)*(parseFloat(_)/100))}}this.originPoint[w]=_}),v&&Ct.postRender(()=>v(d,h)),ty(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},s=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:v,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:w}=h;if(y&&this.currentDirection===null){this.currentDirection=DV(w),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),b&&b(d,h)},c=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h,this.stop(d,h),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>lr(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ZP(e,{onSessionStart:a,onStart:o,onMove:s,onSessionEnd:c,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:JP(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&Ct.postRender(()=>s(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Pd(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=kV(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&il(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=PV(r.layoutBox,e):this.constraints=!1,this.elastic=$V(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&lr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=NV(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!il(e))return!1;const r=e.current;Ps(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=BU(r,i.root,this.visualElement.getTransformPagePoint());let o=EV(i.layout.layoutBox,a);if(n){const s=n(DU(o));this.hasMutatedConstraints=!!s,s&&(o=xP(s))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),c=this.constraints||{},l=lr(u=>{if(!Pd(u,n,this.currentDirection))return;let d=c&&c[u]||{};o&&(d={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...d};return this.startAxisValueAnimation(u,y)});return Promise.all(l).then(s)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ty(this.visualElement,e),r.start(Ub(e,r,0,n,this.visualElement,!1))}stopAnimation(){lr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){lr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){lr(n=>{const{drag:r}=this.getProps();if(!Pd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[n],c=a.get()||0;a.set(e[n]-Lt(o,s,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!il(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};lr(o=>{const s=this.getAxisMotionValue(o);if(s&&this.constraints!==!1){const c=s.get();i[o]=CV({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),lr(o=>{if(!Pd(o,e,null))return;const s=this.getAxisMotionValue(o),{min:c,max:l}=this.constraints[o];s.set(Lt(c,l,i[o]))})}addListeners(){if(!this.visualElement.current)return;IV.set(this.visualElement,this);const e=this.visualElement.current,n=hl(e,"pointerdown",c=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&!pP(c.target)&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();il(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ct.read(r);const o=Ml(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(lr(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=c[u].translate,d.set(d.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=cy,dragMomentum:s=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:s}}}function Pd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function DV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class MV extends ha{constructor(e){super(e),this.removeGroupControls=mr,this.removeListeners=mr,this.controls=new RV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mr}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const oS=t=>(e,n)=>{t&&Ct.postRender(()=>t(e,n))};class LV extends ha{constructor(){super(...arguments),this.removePointerDownListener=mr}onPointerDown(e){this.session=new ZP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:oS(e),onStart:oS(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&Ct.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=hl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Km=!1;class BV extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),Km&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Jd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,Km=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Ct.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Km=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eE(t){const[e,n]=VP(),r=O.useContext(_b);return f.jsx(BV,{...t,layoutGroup:r,switchLayoutGroup:O.useContext(YP),isPresent:e,safeToRemove:n})}const FV={pan:{Feature:LV},drag:{Feature:MV,ProjectionNode:UP,MeasureLayout:eE}};function sS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Ct.postRender(()=>a(e,Eu(e)))}class UV extends ha{mount(){const{current:e}=this.node;e&&(this.unmount=_U(e,(n,r)=>(sS(this.node,r,"Start"),i=>sS(this.node,i,"End"))))}unmount(){}}class VV extends ha{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ju(Ml(this.node.current,"focus",()=>this.onFocus()),Ml(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Ct.postRender(()=>a(e,Eu(e)))}class qV extends ha{mount(){const{current:e}=this.node;e&&(this.unmount=OU(e,(n,r)=>(cS(this.node,r,"Start"),(i,{success:a})=>cS(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ly=new WeakMap,zm=new WeakMap,KV=t=>{const e=ly.get(t.target);e&&e(t)},zV=t=>{t.forEach(KV)};function WV({root:t,...e}){const n=t||document;zm.has(n)||zm.set(n,{});const r=zm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(zV,{root:t,...e})),r[i]}function GV(t,e,n){const r=WV(e);return ly.set(t,n),r.observe(t),()=>{ly.delete(t),r.unobserve(t)}}const HV={some:0,all:1};class YV extends ha{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:HV[i]},s=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,a&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=l?u:d;h&&h(c)};return GV(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(XV(e,n))&&this.startObserver()}unmount(){}}function XV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const JV={inView:{Feature:YV},tap:{Feature:qV},focus:{Feature:VV},hover:{Feature:UV}},ZV={layout:{ProjectionNode:UP,MeasureLayout:eE}},QV={..._V,...JV,...FV,...ZV},Je=vV(QV,bV),e0=Su("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Re=O.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const o=r?D2:"button";return f.jsx(o,{className:he(e0({variant:e,size:n,className:t})),ref:a,...i})});Re.displayName="Button";const{slice:eq,forEach:tq}=[];function nq(t){return tq.call(eq.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function rq(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const lS=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,iq=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${t}=${i}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!lS.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!lS.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a},uS={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=iq(t,e,i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var aq={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return uS.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:a}=e;n&&typeof document<"u"&&uS.create(n,t,r,i,a)}},oq={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let s=0;s<o.length;s++){const c=o[s].indexOf("=");c>0&&o[s].substring(0,c)===e&&(n=o[s].substring(c+1))}}return n}},sq={name:"hash",lookup(t){var i;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const o=a.substring(1);if(e){const s=o.split("&");for(let c=0;c<s.length;c++){const l=s[c].indexOf("=");l>0&&s[c].substring(0,l)===e&&(r=s[c].substring(l+1))}}if(r)return r;if(!r&&n>-1){const s=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?(i=s[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let Vo=null;const dS=()=>{if(Vo!==null)return Vo;try{if(Vo=typeof window<"u"&&window.localStorage!==null,!Vo)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Vo=!1}return Vo};var cq={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&dS())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&dS()&&window.localStorage.setItem(n,t)}};let qo=null;const fS=()=>{if(qo!==null)return qo;try{if(qo=typeof window<"u"&&window.sessionStorage!==null,!qo)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{qo=!1}return qo};var lq={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&fS())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&fS()&&window.sessionStorage.setItem(n,t)}},uq={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let a=0;a<n.length;a++)e.push(n[a]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},dq={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},fq={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},hq={name:"subdomain",lookup(t){var i,a;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let tE=!1;try{document.cookie,tE=!0}catch{}const nE=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];tE||nE.splice(1,1);const pq=()=>({order:nE,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class rE{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=nq(n,this.options||{},pq()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(aq),this.addDetector(oq),this.addDetector(cq),this.addDetector(lq),this.addDetector(uq),this.addDetector(dq),this.addDetector(fq),this.addDetector(hq),this.addDetector(sq)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!rq(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}rE.type="languageDetector";const mq={name:"KopiMaster",greeting:"Hello! "},gq={home:"Home",budgets:"Budgets",recurring:"Recurring",analytics:"Analytics",achievements:"Achievements"},yq={addIncome:"Add Income",addExpense:"Add Expense",addGoal:"Add Goal",addBudget:"Add Budget",addRecurring:"Add Recurring"},vq={add:"Add",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",saving:"Saving...",processing:"Processing...",amount:"Amount",all:"All"},bq={title:"Accounts",add:"Add Account",edit:"Edit Account",addFirst:"Add Your First Account",empty:"No accounts yet",emptyDescription:"Add an account to start tracking your finances",name:"Account Name",namePlaceholder:"E.g.: Main Card",type:"Account Type",currency:"Currency",balance:"Balance",totalBalance:"Total Balance",initialBalance:"Initial Balance",transfer:"Transfer",transferFrom:"From Account",transferTo:"To Account",selectAccount:"Select account",available:"Available",allAccounts:"All Accounts",setDefault:"Set as Default",confirmDelete:"Are you sure you want to delete this account?",types:{checking:"Checking",savings:"Savings",credit:"Credit Card",investment:"Investment",cash:"Cash"}},xq={title:"Total Balance",income:"Income",expense:"Expense"},wq={income:"Income",expense:"Expense",goal:"Goal",bank:"Bank",stats:"Stats",export:"Export"},Sq={title:"Recent Transactions",all:"All",empty:{title:"No transactions yet",description:"Add your first income or expense"},addIncome:"Add Income",addExpense:"Add Expense",today:"Today",yesterday:"Yesterday"},_q={title:"Savings Goals",all:"All",new:"New Goal",create:"Create Goal",addFunds:"Add Funds",remaining:"Remaining to save",fundAmount:"Amount to add",completed:"Goal achieved!",progress:"{{percent}}% completed",icon:"Icon",name:"Goal Name",namePlaceholder:"E.g.: New iPhone",targetAmount:"Target Amount"},Aq={title:"Statistics",incomes:"Incomes",expenses:"Expenses",byCategory:"Expenses by Category",noData:"No expense data for this month",ofTotal:"{{percent}}% of total expenses"},Tq={amount:"Amount",category:"Category",description:"Description (optional)",descriptionPlaceholder:"Add a note..."},Oq={expense:{food:"Food",transport:"Transport",entertainment:"Entertainment",shopping:"Shopping",health:"Health",utilities:"Utilities",education:"Education",other:"Other"},income:{salary:"Salary",freelance:"Freelance",investments:"Investments",gifts:"Gifts",other:"Other"}},jq={exportSuccess:"Transactions exported to CSV",exportError:"No transactions to export"},kq={title:"Settings",language:"Language",theme:"Theme",currency:"Currency",searchCurrency:"Search currency...",popular:"Popular",allCurrencies:"All Currencies",noCurrencyFound:"No currency found",logout:"Log out"},Pq={sponsored:"Sponsored",ad:"Ad",supportUs:"Support us",promo:{premium:{title:"Upgrade to Premium",description:"Unlock unlimited budgets, advanced analytics & more",cta:"Learn more"},tips:{title:"Smart Saving Tips",description:"Track expenses to save up to 20% more each month"},security:{title:"Your Data is Safe",description:"Bank-level encryption protects all your information"},goals:{title:"Reach Your Goals Faster",description:"Users who set goals save 3x more than those who don't"}}},Eq={signIn:"Sign In",signInWithGoogle:"Sign in with Google",signOut:"Sign Out",welcome:"Welcome to KopiMaster",description:"Smart personal finance tracker"},Cq={installTitle:"Install KopiMaster",installDescription:"Install the app for quick access and offline support",install:"Install",later:"Later",updateTitle:"Update Available",updateDescription:"A new version is available. Update now for the latest features.",update:"Update",offlineReady:"App ready to work offline",offline:"Offline",syncing:"Syncing...",synced:"Synced",pendingSync:"{{count}} changes pending sync"},Nq={title:"Budgets",add:"Add Budget",edit:"Edit Budget",empty:"No budgets set",emptyDescription:"Create budgets to track spending by category",addFirst:"Create Your First Budget",monthlyLimit:"Monthly Limit",alertThreshold:"Alert Threshold",alertThresholdHelp:"Get notified when spending reaches this percentage",category:"Category",selectCategory:"Select category",spent:"Spent",remaining:"Remaining",exceeded:"Exceeded",overBudget:"over budget",progress:"{{percent}}% used",warningAlert:"{{category}} budget at {{percent}}%! {{remaining}} remaining",exceededAlert:"{{category}} budget exceeded! You've spent {{spent}} of {{limit}}",health:{title:"Budget Health",healthy:"Healthy",warning:"Warning",exceeded:"Exceeded",total:"Total Budgeted",totalSpent:"Total Spent",totalRemaining:"Total Remaining"},pause:"Pause Budget",resume:"Resume Budget",paused:"Paused",active:"Active",categoryExists:"Budget for this category already exists",totalBudgeted:"Total Budgeted",totalSpent:"Total Spent",exceededCount:"{{count}} budget(s) exceeded",warningCount:"{{count}} budget(s) at warning level"},$q={title:"Recurring Transactions",add:"Add Recurring",edit:"Edit Recurring",empty:"No recurring transactions",emptyDescription:"Set up recurring income or expenses to automate tracking",addFirst:"Add Your First Recurring",frequency:"Frequency",frequencies:{daily:"Daily",weekly:"Weekly",biweekly:"Biweekly",monthly:"Monthly",yearly:"Yearly"},startDate:"Start Date",endDate:"End Date (Optional)",nextOccurrence:"Next",lastCreated:"Last Created",reminderDays:"Reminder Days",reminderDaysHelp:"Days before due date to show reminder",dueSoon:"Due Soon",dueIn:"Due in {{days}} days",dueToday:"Due today",overdue:"Overdue",pause:"Pause",resume:"Resume",paused:"Paused",active:"Active",income:"Income",expense:"Expense",type:"Type",processedCount:"{{count}} transactions auto-created",activeCount:"{{count}} active",remindersCount:"{{count}} reminders",all:"All recurring",dueTomorrow:"Due tomorrow",daysUntil:"Due in {{count}} days"},Iq={title:"Analytics",monthlyTrends:"Monthly Trends",budgetComparison:"Budget vs Actual",income:"Income",expense:"Expenses",balance:"Balance",budgeted:"Budgeted",spent:"Spent",usage:"Usage",monthlyIncome:"Monthly Income",monthlyExpense:"Monthly Expenses",monthlySavings:"Monthly Savings",budgetUsage:"Budget Usage",savingsRate:"Savings Rate",goalsProgress:"Goals Progress",financialStats:"Financial Stats",last30Days:"Last 30 days",level:"Level",dayStreak:"day streak",generatedAt:"Generated on",poweredBy:"Powered by",notFound:"Stats not found",noData:"No data available",noDataDescription:"Add transactions to see your analytics",periods:{"1m":"1 Month","3m":"3 Months","6m":"6 Months","12m":"1 Year",all:"All Time"}},Rq={title:"Bank Connections",connectBank:"Connect Bank",addConnection:"Add Bank",empty:"No bank connections",emptyDescription:"Connect your bank to automatically import transactions",connectFirst:"Connect Your First Bank",syncAll:"Sync All",disconnect:"Disconnect",disconnectTitle:"Disconnect Bank",disconnectDescription:"Are you sure you want to disconnect {{bank}}? All linked accounts will be removed.",connect:"Connect",selectBank:"Select Bank",connectWithPlaid:"Connect with Plaid",neverSynced:"Never synced",justNow:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",daysAgo:"{{count}}d ago",syncing:"Syncing...",syncingDescription:"Fetching latest transactions from your bank",syncSuccess:"Sync Complete",syncSuccessDescription:"Synced {{accounts}} accounts, imported {{transactions}} new transactions",syncFailed:"Sync Failed",status:{active:"Connected",expired:"Needs reconnection",error:"Error",disconnected:"Disconnected"},monobankInfo:"Connect your Monobank account using a personal API token. Your token is stored securely and only used to sync transactions.",monobankToken:"Monobank API Token",tokenPlaceholder:"Enter your token",getToken:"Get token from api.monobank.ua",nordigenInfo:"Connect to thousands of EU banks through Nordigen's secure open banking platform (PSD2).",nordigenCountries:"Supported countries:",nordigenCountriesList:"Austria, Belgium, Bulgaria, Croatia, Czech Republic, Denmark, Estonia, Finland, France, Germany, Greece, Hungary, Ireland, Italy, Latvia, Lithuania, Luxembourg, Netherlands, Norway, Poland, Portugal, Romania, Slovakia, Slovenia, Spain, Sweden, UK, Switzerland",nordigenNotConfigured:"EU Banks integration requires server configuration. This feature will be available in a future update.",plaidInfo:"Connect to US, UK, and Canadian banks through Plaid's secure banking platform.",plaidCountries:"Supported countries:",plaidCountriesList:"United States, Canada, United Kingdom",plaidNotConfigured:"Plaid integration requires server configuration. This feature will be available in a future update."},Dq={achievements:"Achievements",level:"Level",xpProgress:"XP Progress",toNextLevel:"to next level",transactions:"Transactions",totalSaved:"Total Saved",dayStreak:"day streak",days:"days",longestStreak:"Best Streak",lastActive:"Last Active",startStreak:"Start your streak today!",buildingStreak:"Building momentum!",keepItUp:"Amazing streak! Keep it up!",unlocked:"Unlocked",locked:"Locked",secretAchievement:"Secret Achievement",secretDescription:"Keep exploring to unlock!",noUnlocked:"No achievements unlocked yet",allUnlocked:"All achievements unlocked!",levelUp:"Level Up",reachedLevel:"You reached Level {{level}}",keepGoing:"Keep tracking your finances to level up!",awesome:"Awesome!",inviteFriends:"Invite Friends",earnXPPerReferral:"Earn {{xp}} XP per referral",referred:"Referred",shareText:"Join KopiMaster with my code: {{code}}",bothGetReward:"You and your friend both get 100 XP!",levels:{beginner:"Beginner",apprentice:"Apprentice",intermediate:"Intermediate",advanced:"Advanced",expert:"Expert",master:"Master",legend:"Legend"},categories:{savings:"Savings",spending:"Spending",streak:"Streak",social:"Social",milestone:"Milestone"}},Mq={first_transaction:{name:"First Step",description:"Record your first transaction"},transaction_10:{name:"Getting Started",description:"Record 10 transactions"},transaction_100:{name:"Dedicated Tracker",description:"Record 100 transactions"},transaction_500:{name:"Finance Pro",description:"Record 500 transactions"},first_goal:{name:"Goal Setter",description:"Create your first savings goal"},goal_achieved:{name:"Goal Crusher",description:"Complete a savings goal"},saved_1000:{name:"Saver",description:"Save $1,000 total"},saved_10000:{name:"Super Saver",description:"Save $10,000 total"},first_budget:{name:"Budget Beginner",description:"Create your first budget"},budget_master:{name:"Budget Master",description:"Stay under budget for 3 months"},streak_7:{name:"Week Warrior",description:"Maintain a 7-day streak"},streak_30:{name:"Monthly Champion",description:"Maintain a 30-day streak"},streak_100:{name:"Streak Legend",description:"Maintain a 100-day streak"},first_referral:{name:"Friendly Invite",description:"Invite your first friend"},referral_5:{name:"Social Butterfly",description:"Invite 5 friends"},level_5:{name:"Rising Star",description:"Reach Level 5"},level_10:{name:"Double Digits",description:"Reach Level 10"},level_25:{name:"Quarter Century",description:"Reach Level 25"},night_owl:{name:"Night Owl",description:"Use the app between midnight and 4 AM"},early_bird:{name:"Early Bird",description:"Use the app between 5 AM and 7 AM"}},Lq={app:mq,nav:gq,fab:yq,common:vq,accounts:bq,balance:xq,actions:wq,transactions:Sq,goals:_q,stats:Aq,form:Tq,categories:Oq,toast:jq,settings:kq,ads:Pq,auth:Eq,pwa:Cq,budgets:Nq,recurring:$q,analytics:Iq,banking:Rq,gamification:Dq,achievements:Mq},Bq={name:"",greeting:"! "},Fq={home:"",budgets:"",recurring:"",analytics:"",achievements:""},Uq={addIncome:" ",addExpense:" ",addGoal:" ",addBudget:" ",addRecurring:" "},Vq={add:"",edit:"",delete:"",save:"",cancel:"",saving:"...",processing:"...",amount:"",all:""},qq={title:"",add:" ",edit:" ",addFirst:"  ",empty:"  ",emptyDescription:" ,    ",name:" ",namePlaceholder:":  ",type:" ",currency:"",balance:"",totalBalance:" ",initialBalance:" ",transfer:"",transferFrom:" ",transferTo:" ",selectAccount:" ",available:"",allAccounts:" ",setDefault:" ",confirmDelete:" ,     ?",types:{checking:"",savings:"",credit:" ",investment:"",cash:""}},Kq={title:" ",income:"",expense:""},zq={income:"",expense:"",goal:"",bank:"",stats:"",export:""},Wq={title:" ",all:"",empty:{title:"  ",description:"    "},addIncome:" ",addExpense:" ",today:"",yesterday:""},Gq={title:" ",all:"",new:" ",create:" ",addFunds:"",remaining:" ",fundAmount:" ",completed:" !",progress:"{{percent}}% ",icon:"",name:" ",namePlaceholder:":  iPhone",targetAmount:" "},Hq={title:"",incomes:"",expenses:"",byCategory:"  ",noData:"      ",ofTotal:"{{percent}}%   "},Yq={amount:"",category:"",description:" (')",descriptionPlaceholder:" ..."},Xq={expense:{food:"",transport:"",entertainment:"",shopping:"",health:"'",utilities:"",education:"",other:""},income:{salary:"",freelance:"",investments:"",gifts:"",other:""}},Jq={exportSuccess:"   CSV",exportError:"   "},Zq={title:"",language:"",theme:"",currency:"",searchCurrency:" ...",popular:"",allCurrencies:" ",noCurrencyFound:"  ",logout:""},Qq={sponsored:"",ad:"",supportUs:" ",promo:{premium:{title:" ",description:" ,    ",cta:""},tips:{title:" ",description:"     20% "},security:{title:"   ",description:"     "},goals:{title:"  ",description:"     3  "}}},eK={signIn:"",signInWithGoogle:"  Google",signOut:"",welcome:"   ",description:"   "},tK={installTitle:" ",installDescription:"       ",install:"",later:"",updateTitle:" ",updateDescription:"  .     .",update:"",offlineReady:"    ",offline:"",syncing:"...",synced:"",pendingSync:"{{count}}   "},nK={title:"",add:" ",edit:" ",empty:"  ",emptyDescription:"      ",addFirst:"  ",monthlyLimit:" ",alertThreshold:" ",alertThresholdHelp:" ,     ",category:"",selectCategory:" ",spent:"",remaining:"",exceeded:"",overBudget:" ",progress:"{{percent}}% ",warningAlert:" {{category}}  {{percent}}%!  {{remaining}}",exceededAlert:" {{category}} !   {{spent}}  {{limit}}",health:{title:"' ",healthy:"",warning:"",exceeded:"",total:" ",totalSpent:" ",totalRemaining:" "},pause:" ",resume:" ",paused:"",active:"",categoryExists:"     ",totalBudgeted:" ",totalSpent:" ",exceededCount:"{{count}} () ",warningCount:"{{count}} ()   "},rK={title:" ",add:" ",edit:" ",empty:"  ",emptyDescription:"       ",addFirst:"   ",frequency:"",frequencies:{daily:"",weekly:"",biweekly:"   ",monthly:"",yearly:""},startDate:" ",endDate:"  (')",nextOccurrence:"",lastCreated:" ",reminderDays:" ",reminderDaysHelp:"      ",dueSoon:"",dueIn:" {{days}} ",dueToday:"",overdue:"",pause:"",resume:"",paused:"",active:"",income:"",expense:"",type:"",processedCount:"{{count}}   ",activeCount:"{{count}} ",remindersCount:"{{count}} ",all:" ",dueTomorrow:"",daysUntil:" {{count}} "},iK={title:"",monthlyTrends:" ",budgetComparison:" vs ",income:"",expense:"",balance:"",budgeted:"",spent:"",usage:"",monthlyIncome:" ",monthlyExpense:" ",monthlySavings:" ",budgetUsage:" ",savingsRate:" ",goalsProgress:" ",financialStats:" ",last30Days:" 30 ",level:"",dayStreak:" ",generatedAt:"",poweredBy:" ",notFound:"  ",noData:" ",noDataDescription:" ,   ",periods:{"1m":"1 ","3m":"3 ","6m":"6 ","12m":"1 ",all:" "}},aK={title:" ",connectBank:" ",addConnection:" ",empty:"  ",emptyDescription:"     ",connectFirst:"  ",syncAll:" ",disconnect:"",disconnectTitle:" ",disconnectDescription:" ,    {{bank}}?  '   .",connect:"",selectBank:" ",connectWithPlaid:"  Plaid",neverSynced:"  ",justNow:"",minutesAgo:"{{count}}  ",hoursAgo:"{{count}}  ",daysAgo:"{{count}}  ",syncing:"...",syncingDescription:"     ",syncSuccess:" ",syncSuccessDescription:" {{accounts}} ,  {{transactions}}  ",syncFailed:" ",status:{active:"",expired:" ",error:"",disconnected:""},monobankInfo:"   Monobank    API .          .",monobankToken:"API  Monobank",tokenPlaceholder:"  ",getToken:"   api.monobank.ua",nordigenInfo:"        Nordigen (PSD2).",nordigenCountries:" :",nordigenCountriesList:", , , , , , , , , , , , , , , , , , , , , , , , , , , ",nordigenNotConfigured:"      .       .",plaidInfo:"   ,       Plaid.",plaidCountries:" :",plaidCountriesList:" , , ",plaidNotConfigured:"  Plaid   .       ."},oK={achievements:"",level:"",xpProgress:" XP",toNextLevel:"  ",transactions:"",totalSaved:" ",dayStreak:" ",days:"",longestStreak:" ",lastActive:" ",startStreak:"   !",buildingStreak:" !",keepItUp:" !  !",unlocked:"",locked:"",secretAchievement:" ",secretDescription:" !",noUnlocked:"  ",allUnlocked:"  !",levelUp:" ",reachedLevel:"  {{level}} ",keepGoing:"  !",awesome:"!",inviteFriends:" ",earnXPPerReferral:" {{xp}} XP  ",referred:"",shareText:"  KopiMaster   : {{code}}",bothGetReward:"      100 XP!",levels:{beginner:"",apprentice:"",intermediate:"",advanced:"",expert:"",master:"",legend:""},categories:{savings:"",spending:"",streak:"",social:"",milestone:""}},sK={first_transaction:{name:" ",description:"  "},transaction_10:{name:"",description:" 10 "},transaction_100:{name:" ",description:" 100 "},transaction_500:{name:" ",description:" 500 "},first_goal:{name:"",description:"   "},goal_achieved:{name:" ",description:"  "},saved_1000:{name:"",description:" $1,000"},saved_10000:{name:" ",description:" $10,000"},first_budget:{name:" ",description:"  "},budget_master:{name:" ",description:"   3 "},streak_7:{name:" ",description:"  7 "},streak_30:{name:" ",description:"  30 "},streak_100:{name:" ",description:"  100 "},first_referral:{name:" ",description:"  "},referral_5:{name:" ",description:" 5 "},level_5:{name:",  ",description:" 5 "},level_10:{name:" ",description:" 10 "},level_25:{name:" ",description:" 25 "},night_owl:{name:" ",description:"   00:00  04:00"},early_bird:{name:" ",description:"   05:00  07:00"}},cK={app:Bq,nav:Fq,fab:Uq,common:Vq,accounts:qq,balance:Kq,actions:zq,transactions:Wq,goals:Gq,stats:Hq,form:Yq,categories:Xq,toast:Jq,settings:Zq,ads:Qq,auth:eK,pwa:tK,budgets:nK,recurring:rK,analytics:iK,banking:aK,gamification:oK,achievements:sK},lK={name:"KopiMaster",greeting:"Bonjour! "},uK={title:"Solde Total",income:"Revenus",expense:"Dpenses"},dK={income:"Revenus",expense:"Dpenses",goal:"Objectif",stats:"Stats",export:"Exporter"},fK={title:"Transactions Rcentes",all:"Tout",empty:{title:"Pas encore de transactions",description:"Ajoutez votre premier revenu ou dpense"},addIncome:"Ajouter un Revenu",addExpense:"Ajouter une Dpense",today:"Aujourd'hui",yesterday:"Hier"},hK={title:"Objectifs d'pargne",all:"Tout",new:"Nouvel Objectif",create:"Crer l'Objectif",addFunds:"Ajouter",remaining:"Reste  conomiser",fundAmount:"Montant  ajouter",completed:"Objectif atteint!",progress:"{{percent}}% complt",icon:"Icne",name:"Nom de l'Objectif",namePlaceholder:"Ex: Nouvel iPhone",targetAmount:"Montant Cible"},pK={title:"Statistiques",incomes:"Revenus",expenses:"Dpenses",byCategory:"Dpenses par Catgorie",noData:"Aucune donne de dpenses ce mois-ci",ofTotal:"{{percent}}% des dpenses totales"},mK={amount:"Montant",category:"Catgorie",description:"Description (optionnel)",descriptionPlaceholder:"Ajouter une note..."},gK={expense:{food:"Alimentation",transport:"Transport",entertainment:"Loisirs",shopping:"Shopping",health:"Sant",utilities:"Services",education:"ducation",other:"Autre"},income:{salary:"Salaire",freelance:"Freelance",investments:"Investissements",gifts:"Cadeaux",other:"Autre"}},yK={exportSuccess:"Transactions exportes en CSV",exportError:"Aucune transaction  exporter"},vK={title:"Paramtres",language:"Langue",theme:"Thme",logout:"Dconnexion"},bK={signIn:"Connexion",signInWithGoogle:"Se connecter avec Google",signOut:"Dconnexion",welcome:"Bienvenue sur KopiMaster",description:"Gestionnaire de finances personnel intelligent"},xK={app:lK,balance:uK,actions:dK,transactions:fK,goals:hK,stats:pK,form:mK,categories:gK,toast:yK,settings:vK,auth:bK},wK={name:"KopiMaster",greeting:"Hallo! "},SK={title:"Gesamtguthaben",income:"Einnahmen",expense:"Ausgaben"},_K={income:"Einnahmen",expense:"Ausgaben",goal:"Ziel",stats:"Statistik",export:"Export"},AK={title:"Letzte Transaktionen",all:"Alle",empty:{title:"Noch keine Transaktionen",description:"Fgen Sie Ihre erste Einnahme oder Ausgabe hinzu"},addIncome:"Einnahme hinzufgen",addExpense:"Ausgabe hinzufgen",today:"Heute",yesterday:"Gestern"},TK={title:"Sparziele",all:"Alle",new:"Neues Ziel",create:"Ziel erstellen",addFunds:"Einzahlen",remaining:"Noch zu sparen",fundAmount:"Einzahlungsbetrag",completed:"Ziel erreicht!",progress:"{{percent}}% abgeschlossen",icon:"Symbol",name:"Zielname",namePlaceholder:"Z.B.: Neues iPhone",targetAmount:"Zielbetrag"},OK={title:"Statistik",incomes:"Einnahmen",expenses:"Ausgaben",byCategory:"Ausgaben nach Kategorie",noData:"Keine Ausgabendaten fr diesen Monat",ofTotal:"{{percent}}% der Gesamtausgaben"},jK={amount:"Betrag",category:"Kategorie",description:"Beschreibung (optional)",descriptionPlaceholder:"Notiz hinzufgen..."},kK={expense:{food:"Essen",transport:"Transport",entertainment:"Unterhaltung",shopping:"Einkaufen",health:"Gesundheit",utilities:"Nebenkosten",education:"Bildung",other:"Sonstiges"},income:{salary:"Gehalt",freelance:"Freiberuflich",investments:"Investitionen",gifts:"Geschenke",other:"Sonstiges"}},PK={exportSuccess:"Transaktionen als CSV exportiert",exportError:"Keine Transaktionen zum Exportieren"},EK={title:"Einstellungen",language:"Sprache",theme:"Design",logout:"Abmelden"},CK={signIn:"Anmelden",signInWithGoogle:"Mit Google anmelden",signOut:"Abmelden",welcome:"Willkommen bei KopiMaster",description:"Intelligenter persnlicher Finanztracker"},NK={app:wK,balance:SK,actions:_K,transactions:AK,goals:TK,stats:OK,form:jK,categories:kK,toast:PK,settings:EK,auth:CK},$K={name:"KopiMaster",greeting:"Hola! "},IK={title:"Saldo Total",income:"Ingresos",expense:"Gastos"},RK={income:"Ingreso",expense:"Gasto",goal:"Meta",stats:"Estadsticas",export:"Exportar"},DK={title:"Transacciones Recientes",all:"Todas",empty:{title:"An no hay transacciones",description:"Agrega tu primer ingreso o gasto"},addIncome:"Agregar Ingreso",addExpense:"Agregar Gasto",today:"Hoy",yesterday:"Ayer"},MK={title:"Metas de Ahorro",all:"Todas",new:"Nueva Meta",create:"Crear Meta",addFunds:"Agregar",remaining:"Falta por ahorrar",fundAmount:"Cantidad a agregar",completed:"Meta alcanzada!",progress:"{{percent}}% completado",icon:"Icono",name:"Nombre de la Meta",namePlaceholder:"Ej: Nuevo iPhone",targetAmount:"Monto Objetivo"},LK={title:"Estadsticas",incomes:"Ingresos",expenses:"Gastos",byCategory:"Gastos por Categora",noData:"Sin datos de gastos este mes",ofTotal:"{{percent}}% del total de gastos"},BK={amount:"Cantidad",category:"Categora",description:"Descripcin (opcional)",descriptionPlaceholder:"Agregar una nota..."},FK={expense:{food:"Comida",transport:"Transporte",entertainment:"Entretenimiento",shopping:"Compras",health:"Salud",utilities:"Servicios",education:"Educacin",other:"Otro"},income:{salary:"Salario",freelance:"Freelance",investments:"Inversiones",gifts:"Regalos",other:"Otro"}},UK={exportSuccess:"Transacciones exportadas a CSV",exportError:"No hay transacciones para exportar"},VK={title:"Configuracin",language:"Idioma",theme:"Tema",logout:"Cerrar sesin"},qK={signIn:"Iniciar Sesin",signInWithGoogle:"Iniciar sesin con Google",signOut:"Cerrar Sesin",welcome:"Bienvenido a KopiMaster",description:"Rastreador de finanzas personal inteligente"},KK={app:$K,balance:IK,actions:RK,transactions:DK,goals:MK,stats:LK,form:BK,categories:FK,toast:UK,settings:VK,auth:qK},zK={name:"",greeting:""},WK={title:"",income:"",expense:""},GK={income:"",expense:"",goal:"",stats:"",export:""},HK={title:"",all:"",empty:{title:"",description:""},addIncome:"",addExpense:"",today:"",yesterday:""},YK={title:"",all:"",new:"",create:"",addFunds:"",remaining:"",fundAmount:"",completed:"",progress:"{{percent}}% ",icon:"",name:"",namePlaceholder:"iPhone",targetAmount:""},XK={title:"",incomes:"",expenses:"",byCategory:"",noData:"",ofTotal:"{{percent}}%"},JK={amount:"",category:"",description:"",descriptionPlaceholder:"..."},ZK={expense:{food:"",transport:"",entertainment:"",shopping:"",health:"",utilities:"",education:"",other:""},income:{salary:"",freelance:"",investments:"",gifts:"",other:""}},QK={exportSuccess:"CSV",exportError:""},e8={title:"",language:"",theme:"",logout:""},t8={signIn:"",signInWithGoogle:"Google",signOut:"",welcome:"",description:""},n8={app:zK,balance:WK,actions:GK,transactions:HK,goals:YK,stats:XK,form:JK,categories:ZK,toast:QK,settings:e8,auth:t8},Wm=[{code:"en",name:"English",flag:""},{code:"uk",name:"",flag:""},{code:"fr",name:"Franais",flag:""},{code:"de",name:"Deutsch",flag:""},{code:"es",name:"Espaol",flag:""},{code:"ja",name:"",flag:""}],r8={en:{translation:Lq},uk:{translation:cK},fr:{translation:xK},de:{translation:NK},es:{translation:KK},ja:{translation:n8}};Y2.use(rE).use(X2).init({resources:r8,fallbackLng:"en",defaultNS:"translation",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"],lookupLocalStorage:"kopimaster_language"}});const Mh=L2,Lh=B2,i8=O.forwardRef(({className:t,inset:e,children:n,...r},i)=>f.jsxs(KO,{ref:i,className:he("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,f.jsx(Ag,{className:"ml-auto h-4 w-4"})]}));i8.displayName=KO.displayName;const a8=O.forwardRef(({className:t,...e},n)=>f.jsx(zO,{ref:n,className:he("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));a8.displayName=zO.displayName;const Cu=O.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(M2,{children:f.jsx(WO,{ref:r,sideOffset:e,className:he("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Cu.displayName=WO.displayName;const xi=O.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(GO,{ref:r,className:he("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));xi.displayName=GO.displayName;const o8=O.forwardRef(({className:t,children:e,checked:n,...r},i)=>f.jsxs(HO,{ref:i,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(YO,{children:f.jsx(_l,{className:"h-4 w-4"})})}),e]}));o8.displayName=HO.displayName;const s8=O.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(XO,{ref:r,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(YO,{children:f.jsx(dD,{className:"h-2 w-2 fill-current"})})}),e]}));s8.displayName=XO.displayName;const c8=O.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(JO,{ref:r,className:he("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));c8.displayName=JO.displayName;const iE=O.forwardRef(({className:t,...e},n)=>f.jsx(ZO,{ref:n,className:he("-mx-1 my-1 h-px bg-muted",t),...e}));iE.displayName=ZO.displayName;function aE(){const{i18n:t}=it(),e=Wm.find(r=>r.code===t.language)||Wm[0],n=r=>{t.changeLanguage(r)};return f.jsxs(Mh,{children:[f.jsx(Lh,{asChild:!0,children:f.jsx(Re,{variant:"ghost",size:"icon",className:"rounded-full",children:f.jsx("span",{className:"text-lg",children:e.flag})})}),f.jsx(Cu,{align:"end",className:"w-40",children:Wm.map(r=>f.jsxs(xi,{onClick:()=>n(r.code),className:`flex items-center gap-2 cursor-pointer ${t.language===r.code?"bg-accent":""}`,children:[f.jsx("span",{className:"text-lg",children:r.flag}),f.jsx("span",{children:r.name})]},r.code))})]})}function l8(){const{t}=it(),{signInWithGoogle:e,loading:n}=yr(),r=async()=>{try{await e()}catch(i){console.error("Failed to sign in:",i)}};return f.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-6",children:[f.jsx("div",{className:"absolute top-6 right-6",children:f.jsx(aE,{})}),f.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-sm text-center",children:[f.jsx(Je.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.1},className:"w-20 h-20 rounded-full gradient-primary flex items-center justify-center text-white text-4xl mx-auto mb-6 shadow-glow",children:""}),f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[f.jsx(_u,{className:"w-5 h-5 text-primary"}),f.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:t("app.name")})]}),f.jsx("h1",{className:"text-3xl font-display font-bold text-foreground mb-2",children:t("auth.welcome")}),f.jsx("p",{className:"text-muted-foreground mb-8",children:t("auth.description")}),f.jsxs(Re,{onClick:r,disabled:n,className:"w-full h-14 text-lg font-semibold rounded-xl bg-white hover:bg-gray-50 text-gray-900 border border-gray-200 shadow-sm flex items-center justify-center gap-3",children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),t("auth.signInWithGoogle")]})]})]})}const $t=O.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:he("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));$t.displayName="Card";const Bh=O.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:he("flex flex-col space-y-1.5 p-6",t),...e}));Bh.displayName="CardHeader";const Fh=O.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:he("text-2xl font-semibold leading-none tracking-tight",t),...e}));Fh.displayName="CardTitle";const u8=O.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:he("text-sm text-muted-foreground",t),...e}));u8.displayName="CardDescription";const It=O.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:he("p-6 pt-0",t),...e}));It.displayName="CardContent";const d8=O.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:he("flex items-center p-6 pt-0",t),...e}));d8.displayName="CardFooter";function f8(){const{t}=it(),[e,n]=O.useState(null),[r,i]=O.useState(!1),[a,o]=O.useState(!1);O.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){o(!0);return}const l=localStorage.getItem("pwa-install-dismissed");if(l){const h=parseInt(l,10);if(Date.now()-h<7*24*60*60*1e3)return}const u=h=>{h.preventDefault(),n(h),setTimeout(()=>i(!0),3e3)},d=()=>{o(!0),i(!1),n(null)};return window.addEventListener("beforeinstallprompt",u),window.addEventListener("appinstalled",d),()=>{window.removeEventListener("beforeinstallprompt",u),window.removeEventListener("appinstalled",d)}},[]);const s=async()=>{if(e){try{await e.prompt();const{outcome:l}=await e.userChoice;l==="accepted"&&i(!1)}catch(l){console.error("Install prompt error:",l)}n(null)}},c=()=>{i(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};return a||!r||!e?null:f.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 animate-in slide-in-from-bottom-4 md:left-auto md:right-4 md:max-w-sm",children:f.jsx($t,{className:"border-primary/20 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80",children:f.jsx(It,{className:"p-4",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary/10",children:f.jsx(AD,{className:"h-5 w-5 text-primary"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-semibold",children:t("pwa.installTitle")}),f.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:t("pwa.installDescription")}),f.jsxs("div",{className:"mt-3 flex gap-2",children:[f.jsxs(Re,{size:"sm",onClick:s,children:[f.jsx(mj,{className:"mr-2 h-4 w-4"}),t("pwa.install")]}),f.jsx(Re,{size:"sm",variant:"ghost",onClick:c,children:t("pwa.later")})]})]}),f.jsx(Re,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:c,children:f.jsx(Qn,{className:"h-4 w-4"})})]})})})})}const h8=Su("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function fs({className:t,variant:e,...n}){return f.jsx("div",{className:he(h8({variant:e}),t),...n})}var oE={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Zo,function(){var n=function(p,g){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,T){x.__proto__=T}||function(x,T){for(var P in T)Object.prototype.hasOwnProperty.call(T,P)&&(x[P]=T[P])})(p,g)},r=function(){return(r=Object.assign||function(p){for(var g,x=1,T=arguments.length;x<T;x++)for(var P in g=arguments[x])Object.prototype.hasOwnProperty.call(g,P)&&(p[P]=g[P]);return p}).apply(this,arguments)};function i(p,g,x){for(var T,P=0,C=g.length;P<C;P++)!T&&P in g||((T=T||Array.prototype.slice.call(g,0,P))[P]=g[P]);return p.concat(T||Array.prototype.slice.call(g))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Zo,o=Object.keys,s=Array.isArray;function c(p,g){return typeof g!="object"||o(g).forEach(function(x){p[x]=g[x]}),p}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var l=Object.getPrototypeOf,u={}.hasOwnProperty;function d(p,g){return u.call(p,g)}function h(p,g){typeof g=="function"&&(g=g(l(p))),(typeof Reflect>"u"?o:Reflect.ownKeys)(g).forEach(function(x){y(p,x,g[x])})}var m=Object.defineProperty;function y(p,g,x,T){m(p,g,c(x&&d(x,"get")&&typeof x.get=="function"?{get:x.get,set:x.set,configurable:!0}:{value:x,configurable:!0,writable:!0},T))}function v(p){return{from:function(g){return p.prototype=Object.create(g.prototype),y(p.prototype,"constructor",p),{extend:h.bind(null,p.prototype)}}}}var b=Object.getOwnPropertyDescriptor,w=[].slice;function _(p,g,x){return w.call(p,g,x)}function S(p,g){return g(p)}function k(p){if(!p)throw new Error("Assertion Failed")}function A(p){a.setImmediate?setImmediate(p):setTimeout(p,0)}function j(p,g){if(typeof g=="string"&&d(p,g))return p[g];if(!g)return p;if(typeof g!="string"){for(var x=[],T=0,P=g.length;T<P;++T){var C=j(p,g[T]);x.push(C)}return x}var I=g.indexOf(".");if(I!==-1){var M=p[g.substr(0,I)];return M==null?void 0:j(M,g.substr(I+1))}}function E(p,g,x){if(p&&g!==void 0&&!("isFrozen"in Object&&Object.isFrozen(p)))if(typeof g!="string"&&"length"in g){k(typeof x!="string"&&"length"in x);for(var T=0,P=g.length;T<P;++T)E(p,g[T],x[T])}else{var C,I,M=g.indexOf(".");M!==-1?(C=g.substr(0,M),(I=g.substr(M+1))===""?x===void 0?s(p)&&!isNaN(parseInt(C))?p.splice(C,1):delete p[C]:p[C]=x:E(M=!(M=p[C])||!d(p,C)?p[C]={}:M,I,x)):x===void 0?s(p)&&!isNaN(parseInt(g))?p.splice(g,1):delete p[g]:p[g]=x}}function N(p){var g,x={};for(g in p)d(p,g)&&(x[g]=p[g]);return x}var R=[].concat;function q(p){return R.apply([],p)}var Wt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(q([8,16,32,64].map(function(p){return["Int","Uint","Float"].map(function(g){return g+p+"Array"})}))).filter(function(p){return a[p]}),L=new Set(Wt.map(function(p){return a[p]})),D=null;function X(p){return D=new WeakMap,p=function g(x){if(!x||typeof x!="object")return x;var T=D.get(x);if(T)return T;if(s(x)){T=[],D.set(x,T);for(var P=0,C=x.length;P<C;++P)T.push(g(x[P]))}else if(L.has(x.constructor))T=x;else{var I,M=l(x);for(I in T=M===Object.prototype?{}:Object.create(M),D.set(x,T),x)d(x,I)&&(T[I]=g(x[I]))}return T}(p),D=null,p}var ee={}.toString;function W(p){return ee.call(p).slice(8,-1)}var Q=typeof Symbol<"u"?Symbol.iterator:"@@iterator",te=typeof Q=="symbol"?function(p){var g;return p!=null&&(g=p[Q])&&g.apply(p)}:function(){return null};function ae(p,g){return g=p.indexOf(g),0<=g&&p.splice(g,1),0<=g}var re={};function de(p){var g,x,T,P;if(arguments.length===1){if(s(p))return p.slice();if(this===re&&typeof p=="string")return[p];if(P=te(p)){for(x=[];!(T=P.next()).done;)x.push(T.value);return x}if(p==null)return[p];if(typeof(g=p.length)!="number")return[p];for(x=new Array(g);g--;)x[g]=p[g];return x}for(g=arguments.length,x=new Array(g);g--;)x[g]=arguments[g];return x}var _e=typeof Symbol<"u"?function(p){return p[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ur=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ar=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ur),ue={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function pe(p,g){this.name=p,this.message=g}function Ce(p,g){return p+". Errors: "+Object.keys(g).map(function(x){return g[x].toString()}).filter(function(x,T,P){return P.indexOf(x)===T}).join(`
`)}function Ee(p,g,x,T){this.failures=g,this.failedKeys=T,this.successCount=x,this.message=Ce(p,g)}function Qe(p,g){this.name="BulkError",this.failures=Object.keys(g).map(function(x){return g[x]}),this.failuresByPos=g,this.message=Ce(p,this.failures)}v(pe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),v(Ee).from(pe),v(Qe).from(pe);var be=ar.reduce(function(p,g){return p[g]=g+"Error",p},{}),Ve=pe,ie=ar.reduce(function(p,g){var x=g+"Error";function T(P,C){this.name=x,P?typeof P=="string"?(this.message="".concat(P).concat(C?`
 `+C:""),this.inner=C||null):typeof P=="object"&&(this.message="".concat(P.name," ").concat(P.message),this.inner=P):(this.message=ue[g]||x,this.inner=null)}return v(T).from(Ve),p[g]=T,p},{});ie.Syntax=SyntaxError,ie.Type=TypeError,ie.Range=RangeError;var Te=Ur.reduce(function(p,g){return p[g+"Error"]=ie[g],p},{}),Ae=ar.reduce(function(p,g){return["Syntax","Type","Range"].indexOf(g)===-1&&(p[g+"Error"]=ie[g]),p},{});function Z(){}function et(p){return p}function qe(p,g){return p==null||p===et?g:function(x){return g(p(x))}}function ot(p,g){return function(){p.apply(this,arguments),g.apply(this,arguments)}}function vt(p,g){return p===Z?g:function(){var x=p.apply(this,arguments);x!==void 0&&(arguments[0]=x);var T=this.onsuccess,P=this.onerror;this.onsuccess=null,this.onerror=null;var C=g.apply(this,arguments);return T&&(this.onsuccess=this.onsuccess?ot(T,this.onsuccess):T),P&&(this.onerror=this.onerror?ot(P,this.onerror):P),C!==void 0?C:x}}function Bt(p,g){return p===Z?g:function(){p.apply(this,arguments);var x=this.onsuccess,T=this.onerror;this.onsuccess=this.onerror=null,g.apply(this,arguments),x&&(this.onsuccess=this.onsuccess?ot(x,this.onsuccess):x),T&&(this.onerror=this.onerror?ot(T,this.onerror):T)}}function Rn(p,g){return p===Z?g:function(x){var T=p.apply(this,arguments);c(x,T);var P=this.onsuccess,C=this.onerror;return this.onsuccess=null,this.onerror=null,x=g.apply(this,arguments),P&&(this.onsuccess=this.onsuccess?ot(P,this.onsuccess):P),C&&(this.onerror=this.onerror?ot(C,this.onerror):C),T===void 0?x===void 0?void 0:x:c(T,x)}}function Fr(p,g){return p===Z?g:function(){return g.apply(this,arguments)!==!1&&p.apply(this,arguments)}}function xr(p,g){return p===Z?g:function(){var x=p.apply(this,arguments);if(x&&typeof x.then=="function"){for(var T=this,P=arguments.length,C=new Array(P);P--;)C[P]=arguments[P];return x.then(function(){return g.apply(T,C)})}return g.apply(this,arguments)}}Ae.ModifyError=Ee,Ae.DexieError=pe,Ae.BulkError=Qe;var Nt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Fn(p){Nt=p}var hn={},Sa=100,Wt=typeof Promise>"u"?[]:function(){var p=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[p,l(p),p];var g=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[g,l(g),p]}(),Ur=Wt[0],ar=Wt[1],Wt=Wt[2],ar=ar&&ar.then,Dn=Ur&&Ur.constructor,Ec=!!Wt,_a=function(p,g){Aa.push([p,g]),ko&&(queueMicrotask(St),ko=!1)},Ri=!0,ko=!0,Vr=[],Di=[],qr=et,wr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Z,pgp:!1,env:{},finalize:Z},Pe=wr,Aa=[],ci=0,Ta=[];function Se(p){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var g=this._PSD=Pe;if(typeof p!="function"){if(p!==hn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&nr(this,this._value))}this._state=null,this._value=null,++g.ref,function x(T,P){try{P(function(C){if(T._state===null){if(C===T)throw new TypeError("A promise cannot be resolved with itself.");var I=T._lib&&on();C&&typeof C.then=="function"?x(T,function(M,F){C instanceof Se?C._then(M,F):C.then(M,F)}):(T._state=!0,T._value=C,Yu(T)),I&&sn()}},nr.bind(null,T))}catch(C){nr(T,C)}}(this,p)}var Cc={get:function(){var p=Pe,g=Zu;function x(T,P){var C=this,I=!p.global&&(p!==Pe||g!==Zu),M=I&&!Li(),F=new Se(function(U,G){Fe(C,new Po(Ox(T,p,I,M),Ox(P,p,I,M),U,G,p))});return this._consoleTask&&(F._consoleTask=this._consoleTask),F}return x.prototype=hn,x},set:function(p){y(this,"then",p&&p.prototype===hn?Cc:{get:function(){return p},set:Cc.set})}};function Po(p,g,x,T,P){this.onFulfilled=typeof p=="function"?p:null,this.onRejected=typeof g=="function"?g:null,this.resolve=x,this.reject=T,this.psd=P}function nr(p,g){var x,T;Di.push(g),p._state===null&&(x=p._lib&&on(),g=qr(g),p._state=!1,p._value=g,T=p,Vr.some(function(P){return P._value===T._value})||Vr.push(T),Yu(p),x&&sn())}function Yu(p){var g=p._listeners;p._listeners=[];for(var x=0,T=g.length;x<T;++x)Fe(p,g[x]);var P=p._PSD;--P.ref||P.finalize(),ci===0&&(++ci,_a(function(){--ci==0&&rr()},[]))}function Fe(p,g){if(p._state!==null){var x=p._state?g.onFulfilled:g.onRejected;if(x===null)return(p._state?g.resolve:g.reject)(p._value);++g.psd.ref,++ci,_a(ht,[x,p,g])}else p._listeners.push(g)}function ht(p,g,x){try{var T,P=g._value;!g._state&&Di.length&&(Di=[]),T=Nt&&g._consoleTask?g._consoleTask.run(function(){return p(P)}):p(P),g._state||Di.indexOf(P)!==-1||function(C){for(var I=Vr.length;I;)if(Vr[--I]._value===C._value)return Vr.splice(I,1)}(g),x.resolve(T)}catch(C){x.reject(C)}finally{--ci==0&&rr(),--x.psd.ref||x.psd.finalize()}}function St(){Oa(wr,function(){on()&&sn()})}function on(){var p=Ri;return ko=Ri=!1,p}function sn(){var p,g,x;do for(;0<Aa.length;)for(p=Aa,Aa=[],x=p.length,g=0;g<x;++g){var T=p[g];T[0].apply(null,T[1])}while(0<Aa.length);ko=Ri=!0}function rr(){var p=Vr;Vr=[],p.forEach(function(T){T._PSD.onunhandled.call(null,T._value,T)});for(var g=Ta.slice(0),x=g.length;x;)g[--x]()}function ir(p){return new Se(hn,!1,p)}function rt(p,g){var x=Pe;return function(){var T=on(),P=Pe;try{return Bi(x,!0),p.apply(this,arguments)}catch(C){g&&g(C)}finally{Bi(P,!1),T&&sn()}}}h(Se.prototype,{then:Cc,_then:function(p,g){Fe(this,new Po(null,null,p,g,Pe))},catch:function(p){if(arguments.length===1)return this.then(null,p);var g=p,x=arguments[1];return typeof g=="function"?this.then(null,function(T){return(T instanceof g?x:ir)(T)}):this.then(null,function(T){return(T&&T.name===g?x:ir)(T)})},finally:function(p){return this.then(function(g){return Se.resolve(p()).then(function(){return g})},function(g){return Se.resolve(p()).then(function(){return ir(g)})})},timeout:function(p,g){var x=this;return p<1/0?new Se(function(T,P){var C=setTimeout(function(){return P(new ie.Timeout(g))},p);x.then(T,P).finally(clearTimeout.bind(null,C))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&y(Se.prototype,Symbol.toStringTag,"Dexie.Promise"),wr.env=Tx(),h(Se,{all:function(){var p=de.apply(null,arguments).map(Qu);return new Se(function(g,x){p.length===0&&g([]);var T=p.length;p.forEach(function(P,C){return Se.resolve(P).then(function(I){p[C]=I,--T||g(p)},x)})})},resolve:function(p){return p instanceof Se?p:p&&typeof p.then=="function"?new Se(function(g,x){p.then(g,x)}):new Se(hn,!0,p)},reject:ir,race:function(){var p=de.apply(null,arguments).map(Qu);return new Se(function(g,x){p.map(function(T){return Se.resolve(T).then(g,x)})})},PSD:{get:function(){return Pe},set:function(p){return Pe=p}},totalEchoes:{get:function(){return Zu}},newPSD:Mi,usePSD:Oa,scheduler:{get:function(){return _a},set:function(p){_a=p}},rejectionMapper:{get:function(){return qr},set:function(p){qr=p}},follow:function(p,g){return new Se(function(x,T){return Mi(function(P,C){var I=Pe;I.unhandleds=[],I.onunhandled=C,I.finalize=ot(function(){var M,F=this;M=function(){F.unhandleds.length===0?P():C(F.unhandleds[0])},Ta.push(function U(){M(),Ta.splice(Ta.indexOf(U),1)}),++ci,_a(function(){--ci==0&&rr()},[])},I.finalize),p()},g,x,T)})}}),Dn&&(Dn.allSettled&&y(Se,"allSettled",function(){var p=de.apply(null,arguments).map(Qu);return new Se(function(g){p.length===0&&g([]);var x=p.length,T=new Array(x);p.forEach(function(P,C){return Se.resolve(P).then(function(I){return T[C]={status:"fulfilled",value:I}},function(I){return T[C]={status:"rejected",reason:I}}).then(function(){return--x||g(T)})})})}),Dn.any&&typeof AggregateError<"u"&&y(Se,"any",function(){var p=de.apply(null,arguments).map(Qu);return new Se(function(g,x){p.length===0&&x(new AggregateError([]));var T=p.length,P=new Array(T);p.forEach(function(C,I){return Se.resolve(C).then(function(M){return g(M)},function(M){P[I]=M,--T||x(new AggregateError(P))})})})}),Dn.withResolvers&&(Se.withResolvers=Dn.withResolvers));var xt={awaits:0,echoes:0,id:0},c2=0,Xu=[],Ju=0,Zu=0,l2=0;function Mi(p,g,x,T){var P=Pe,C=Object.create(P);return C.parent=P,C.ref=0,C.global=!1,C.id=++l2,wr.env,C.env=Ec?{Promise:Se,PromiseProp:{value:Se,configurable:!0,writable:!0},all:Se.all,race:Se.race,allSettled:Se.allSettled,any:Se.any,resolve:Se.resolve,reject:Se.reject}:{},g&&c(C,g),++P.ref,C.finalize=function(){--this.parent.ref||this.parent.finalize()},T=Oa(C,p,x,T),C.ref===0&&C.finalize(),T}function Eo(){return xt.id||(xt.id=++c2),++xt.awaits,xt.echoes+=Sa,xt.id}function Li(){return!!xt.awaits&&(--xt.awaits==0&&(xt.id=0),xt.echoes=xt.awaits*Sa,!0)}function Qu(p){return xt.echoes&&p&&p.constructor===Dn?(Eo(),p.then(function(g){return Li(),g},function(g){return Li(),Kt(g)})):p}function u2(){var p=Xu[Xu.length-1];Xu.pop(),Bi(p,!1)}function Bi(p,g){var x,T=Pe;(g?!xt.echoes||Ju++&&p===Pe:!Ju||--Ju&&p===Pe)||queueMicrotask(g?(function(P){++Zu,xt.echoes&&--xt.echoes!=0||(xt.echoes=xt.awaits=xt.id=0),Xu.push(Pe),Bi(P,!0)}).bind(null,p):u2),p!==Pe&&(Pe=p,T===wr&&(wr.env=Tx()),Ec&&(x=wr.env.Promise,g=p.env,(T.global||p.global)&&(Object.defineProperty(a,"Promise",g.PromiseProp),x.all=g.all,x.race=g.race,x.resolve=g.resolve,x.reject=g.reject,g.allSettled&&(x.allSettled=g.allSettled),g.any&&(x.any=g.any))))}function Tx(){var p=a.Promise;return Ec?{Promise:p,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:p.all,race:p.race,allSettled:p.allSettled,any:p.any,resolve:p.resolve,reject:p.reject}:{}}function Oa(p,g,x,T,P){var C=Pe;try{return Bi(p,!0),g(x,T,P)}finally{Bi(C,!1)}}function Ox(p,g,x,T){return typeof p!="function"?p:function(){var P=Pe;x&&Eo(),Bi(g,!0);try{return p.apply(this,arguments)}finally{Bi(P,!1),T&&queueMicrotask(Li)}}}function qp(p){Promise===Dn&&xt.echoes===0?Ju===0?p():enqueueNativeMicroTask(p):setTimeout(p,0)}(""+ar).indexOf("[native code]")===-1&&(Eo=Li=Z);var Kt=Se.reject,ja="",li="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",jx="String expected.",Co=[],ed="__dbnames",Kp="readonly",zp="readwrite";function ka(p,g){return p?g?function(){return p.apply(this,arguments)&&g.apply(this,arguments)}:p:g}var kx={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function td(p){return typeof p!="string"||/\./.test(p)?function(g){return g}:function(g){return g[p]===void 0&&p in g&&delete(g=X(g))[p],g}}function Px(){throw ie.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function at(p,g){try{var x=Ex(p),T=Ex(g);if(x!==T)return x==="Array"?1:T==="Array"?-1:x==="binary"?1:T==="binary"?-1:x==="string"?1:T==="string"?-1:x==="Date"?1:T!=="Date"?NaN:-1;switch(x){case"number":case"Date":case"string":return g<p?1:p<g?-1:0;case"binary":return function(P,C){for(var I=P.length,M=C.length,F=I<M?I:M,U=0;U<F;++U)if(P[U]!==C[U])return P[U]<C[U]?-1:1;return I===M?0:I<M?-1:1}(Cx(p),Cx(g));case"Array":return function(P,C){for(var I=P.length,M=C.length,F=I<M?I:M,U=0;U<F;++U){var G=at(P[U],C[U]);if(G!==0)return G}return I===M?0:I<M?-1:1}(p,g)}}catch{}return NaN}function Ex(p){var g=typeof p;return g!="object"?g:ArrayBuffer.isView(p)?"binary":(p=W(p),p==="ArrayBuffer"?"binary":p)}function Cx(p){return p instanceof Uint8Array?p:ArrayBuffer.isView(p)?new Uint8Array(p.buffer,p.byteOffset,p.byteLength):new Uint8Array(p)}function nd(p,g,x){var T=p.schema.yProps;return T?(g&&0<x.numFailures&&(g=g.filter(function(P,C){return!x.failures[C]})),Promise.all(T.map(function(P){return P=P.updatesTable,g?p.db.table(P).where("k").anyOf(g).delete():p.db.table(P).clear()})).then(function(){return x})):x}var Nc=(Nx.prototype.execute=function(p){var g=this["@@propmod"];if(g.add!==void 0){var x=g.add;if(s(x))return i(i([],s(p)?p:[],!0),x).sort();if(typeof x=="number")return(Number(p)||0)+x;if(typeof x=="bigint")try{return BigInt(p)+x}catch{return BigInt(0)+x}throw new TypeError("Invalid term ".concat(x))}if(g.remove!==void 0){var T=g.remove;if(s(T))return s(p)?p.filter(function(P){return!T.includes(P)}).sort():[];if(typeof T=="number")return Number(p)-T;if(typeof T=="bigint")try{return BigInt(p)-T}catch{return BigInt(0)-T}throw new TypeError("Invalid subtrahend ".concat(T))}return x=(x=g.replacePrefix)===null||x===void 0?void 0:x[0],x&&typeof p=="string"&&p.startsWith(x)?g.replacePrefix[1]+p.substring(x.length):p},Nx);function Nx(p){this["@@propmod"]=p}function $x(p,g){for(var x=o(g),T=x.length,P=!1,C=0;C<T;++C){var I=x[C],M=g[I],F=j(p,I);M instanceof Nc?(E(p,I,M.execute(F)),P=!0):F!==M&&(E(p,I,M),P=!0)}return P}var Ix=(_t.prototype._trans=function(p,g,x){var T=this._tx||Pe.trans,P=this.name,C=Nt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(p==="readonly"?"read":"write"," ").concat(this.name));function I(U,G,B){if(!B.schema[P])throw new ie.NotFound("Table "+P+" not part of transaction");return g(B.idbtrans,B)}var M=on();try{var F=T&&T.db._novip===this.db._novip?T===Pe.trans?T._promise(p,I,x):Mi(function(){return T._promise(p,I,x)},{trans:T,transless:Pe.transless||Pe}):function U(G,B,Y,V){if(G.idbdb&&(G._state.openComplete||Pe.letThrough||G._vip)){var K=G._createTransaction(B,Y,G._dbSchema);try{K.create(),G._state.PR1398_maxLoop=3}catch(z){return z.name===be.InvalidState&&G.isOpen()&&0<--G._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),G.close({disableAutoOpen:!1}),G.open().then(function(){return U(G,B,Y,V)})):Kt(z)}return K._promise(B,function(z,H){return Mi(function(){return Pe.trans=K,V(z,H,K)})}).then(function(z){if(B==="readwrite")try{K.idbtrans.commit()}catch{}return B==="readonly"?z:K._completion.then(function(){return z})})}if(G._state.openComplete)return Kt(new ie.DatabaseClosed(G._state.dbOpenError));if(!G._state.isBeingOpened){if(!G._state.autoOpen)return Kt(new ie.DatabaseClosed);G.open().catch(Z)}return G._state.dbReadyPromise.then(function(){return U(G,B,Y,V)})}(this.db,p,[this.name],I);return C&&(F._consoleTask=C,F=F.catch(function(U){return console.trace(U),Kt(U)})),F}finally{M&&sn()}},_t.prototype.get=function(p,g){var x=this;return p&&p.constructor===Object?this.where(p).first(g):p==null?Kt(new ie.Type("Invalid argument to Table.get()")):this._trans("readonly",function(T){return x.core.get({trans:T,key:p}).then(function(P){return x.hook.reading.fire(P)})}).then(g)},_t.prototype.where=function(p){if(typeof p=="string")return new this.db.WhereClause(this,p);if(s(p))return new this.db.WhereClause(this,"[".concat(p.join("+"),"]"));var g=o(p);if(g.length===1)return this.where(g[0]).equals(p[g[0]]);var x=this.schema.indexes.concat(this.schema.primKey).filter(function(M){if(M.compound&&g.every(function(U){return 0<=M.keyPath.indexOf(U)})){for(var F=0;F<g.length;++F)if(g.indexOf(M.keyPath[F])===-1)return!1;return!0}return!1}).sort(function(M,F){return M.keyPath.length-F.keyPath.length})[0];if(x&&this.db._maxKey!==ja){var C=x.keyPath.slice(0,g.length);return this.where(C).equals(C.map(function(F){return p[F]}))}!x&&Nt&&console.warn("The query ".concat(JSON.stringify(p)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(g.join("+"),"]"));var T=this.schema.idxByName;function P(M,F){return at(M,F)===0}var I=g.reduce(function(B,F){var U=B[0],G=B[1],B=T[F],Y=p[F];return[U||B,U||!B?ka(G,B&&B.multi?function(V){return V=j(V,F),s(V)&&V.some(function(K){return P(Y,K)})}:function(V){return P(Y,j(V,F))}):G]},[null,null]),C=I[0],I=I[1];return C?this.where(C.name).equals(p[C.keyPath]).filter(I):x?this.filter(I):this.where(g).equals("")},_t.prototype.filter=function(p){return this.toCollection().and(p)},_t.prototype.count=function(p){return this.toCollection().count(p)},_t.prototype.offset=function(p){return this.toCollection().offset(p)},_t.prototype.limit=function(p){return this.toCollection().limit(p)},_t.prototype.each=function(p){return this.toCollection().each(p)},_t.prototype.toArray=function(p){return this.toCollection().toArray(p)},_t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},_t.prototype.orderBy=function(p){return new this.db.Collection(new this.db.WhereClause(this,s(p)?"[".concat(p.join("+"),"]"):p))},_t.prototype.reverse=function(){return this.toCollection().reverse()},_t.prototype.mapToClass=function(p){var g,x=this.db,T=this.name;function P(){return g!==null&&g.apply(this,arguments)||this}(this.schema.mappedClass=p).prototype instanceof Px&&(function(F,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");function G(){this.constructor=F}n(F,U),F.prototype=U===null?Object.create(U):(G.prototype=U.prototype,new G)}(P,g=p),Object.defineProperty(P.prototype,"db",{get:function(){return x},enumerable:!1,configurable:!0}),P.prototype.table=function(){return T},p=P);for(var C=new Set,I=p.prototype;I;I=l(I))Object.getOwnPropertyNames(I).forEach(function(F){return C.add(F)});function M(F){if(!F)return F;var U,G=Object.create(p.prototype);for(U in F)if(!C.has(U))try{G[U]=F[U]}catch{}return G}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=M,this.hook("reading",M),p},_t.prototype.defineClass=function(){return this.mapToClass(function(p){c(this,p)})},_t.prototype.add=function(p,g){var x=this,T=this.schema.primKey,P=T.auto,C=T.keyPath,I=p;return C&&P&&(I=td(C)(p)),this._trans("readwrite",function(M){return x.core.mutate({trans:M,type:"add",keys:g!=null?[g]:null,values:[I]})}).then(function(M){return M.numFailures?Se.reject(M.failures[0]):M.lastResult}).then(function(M){if(C)try{E(p,C,M)}catch{}return M})},_t.prototype.upsert=function(p,g){var x=this,T=this.schema.primKey.keyPath;return this._trans("readwrite",function(P){return x.core.get({trans:P,key:p}).then(function(C){var I=C??{};return $x(I,g),T&&E(I,T,p),x.core.mutate({trans:P,type:"put",values:[I],keys:[p],upsert:!0,updates:{keys:[p],changeSpecs:[g]}}).then(function(M){return M.numFailures?Se.reject(M.failures[0]):!!C})})})},_t.prototype.update=function(p,g){return typeof p!="object"||s(p)?this.where(":id").equals(p).modify(g):(p=j(p,this.schema.primKey.keyPath),p===void 0?Kt(new ie.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(p).modify(g))},_t.prototype.put=function(p,g){var x=this,T=this.schema.primKey,P=T.auto,C=T.keyPath,I=p;return C&&P&&(I=td(C)(p)),this._trans("readwrite",function(M){return x.core.mutate({trans:M,type:"put",values:[I],keys:g!=null?[g]:null})}).then(function(M){return M.numFailures?Se.reject(M.failures[0]):M.lastResult}).then(function(M){if(C)try{E(p,C,M)}catch{}return M})},_t.prototype.delete=function(p){var g=this;return this._trans("readwrite",function(x){return g.core.mutate({trans:x,type:"delete",keys:[p]}).then(function(T){return nd(g,[p],T)}).then(function(T){return T.numFailures?Se.reject(T.failures[0]):void 0})})},_t.prototype.clear=function(){var p=this;return this._trans("readwrite",function(g){return p.core.mutate({trans:g,type:"deleteRange",range:kx}).then(function(x){return nd(p,null,x)})}).then(function(g){return g.numFailures?Se.reject(g.failures[0]):void 0})},_t.prototype.bulkGet=function(p){var g=this;return this._trans("readonly",function(x){return g.core.getMany({keys:p,trans:x}).then(function(T){return T.map(function(P){return g.hook.reading.fire(P)})})})},_t.prototype.bulkAdd=function(p,g,x){var T=this,P=Array.isArray(g)?g:void 0,C=(x=x||(P?void 0:g))?x.allKeys:void 0;return this._trans("readwrite",function(I){var U=T.schema.primKey,M=U.auto,U=U.keyPath;if(U&&P)throw new ie.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(P&&P.length!==p.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");var F=p.length,U=U&&M?p.map(td(U)):p;return T.core.mutate({trans:I,type:"add",keys:P,values:U,wantResults:C}).then(function(K){var B=K.numFailures,Y=K.results,V=K.lastResult,K=K.failures;if(B===0)return C?Y:V;throw new Qe("".concat(T.name,".bulkAdd(): ").concat(B," of ").concat(F," operations failed"),K)})})},_t.prototype.bulkPut=function(p,g,x){var T=this,P=Array.isArray(g)?g:void 0,C=(x=x||(P?void 0:g))?x.allKeys:void 0;return this._trans("readwrite",function(I){var U=T.schema.primKey,M=U.auto,U=U.keyPath;if(U&&P)throw new ie.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(P&&P.length!==p.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");var F=p.length,U=U&&M?p.map(td(U)):p;return T.core.mutate({trans:I,type:"put",keys:P,values:U,wantResults:C}).then(function(K){var B=K.numFailures,Y=K.results,V=K.lastResult,K=K.failures;if(B===0)return C?Y:V;throw new Qe("".concat(T.name,".bulkPut(): ").concat(B," of ").concat(F," operations failed"),K)})})},_t.prototype.bulkUpdate=function(p){var g=this,x=this.core,T=p.map(function(I){return I.key}),P=p.map(function(I){return I.changes}),C=[];return this._trans("readwrite",function(I){return x.getMany({trans:I,keys:T,cache:"clone"}).then(function(M){var F=[],U=[];p.forEach(function(B,Y){var V=B.key,K=B.changes,z=M[Y];if(z){for(var H=0,J=Object.keys(K);H<J.length;H++){var ne=J[H],oe=K[ne];if(ne===g.schema.primKey.keyPath){if(at(oe,V)!==0)throw new ie.Constraint("Cannot update primary key in bulkUpdate()")}else E(z,ne,oe)}C.push(Y),F.push(V),U.push(z)}});var G=F.length;return x.mutate({trans:I,type:"put",keys:F,values:U,updates:{keys:T,changeSpecs:P}}).then(function(B){var Y=B.numFailures,V=B.failures;if(Y===0)return G;for(var K=0,z=Object.keys(V);K<z.length;K++){var H,J=z[K],ne=C[Number(J)];ne!=null&&(H=V[J],delete V[J],V[ne]=H)}throw new Qe("".concat(g.name,".bulkUpdate(): ").concat(Y," of ").concat(G," operations failed"),V)})})})},_t.prototype.bulkDelete=function(p){var g=this,x=p.length;return this._trans("readwrite",function(T){return g.core.mutate({trans:T,type:"delete",keys:p}).then(function(P){return nd(g,p,P)})}).then(function(I){var P=I.numFailures,C=I.lastResult,I=I.failures;if(P===0)return C;throw new Qe("".concat(g.name,".bulkDelete(): ").concat(P," of ").concat(x," operations failed"),I)})},_t);function _t(){}function $c(p){function g(I,M){if(M){for(var F=arguments.length,U=new Array(F-1);--F;)U[F-1]=arguments[F];return x[I].subscribe.apply(null,U),p}if(typeof I=="string")return x[I]}var x={};g.addEventType=C;for(var T=1,P=arguments.length;T<P;++T)C(arguments[T]);return g;function C(I,M,F){if(typeof I!="object"){var U;M=M||Fr;var G={subscribers:[],fire:F=F||Z,subscribe:function(B){G.subscribers.indexOf(B)===-1&&(G.subscribers.push(B),G.fire=M(G.fire,B))},unsubscribe:function(B){G.subscribers=G.subscribers.filter(function(Y){return Y!==B}),G.fire=G.subscribers.reduce(M,F)}};return x[I]=g[I]=G}o(U=I).forEach(function(B){var Y=U[B];if(s(Y))C(B,U[B][0],U[B][1]);else{if(Y!=="asap")throw new ie.InvalidArgument("Invalid event config");var V=C(B,et,function(){for(var K=arguments.length,z=new Array(K);K--;)z[K]=arguments[K];V.subscribers.forEach(function(H){A(function(){H.apply(null,z)})})})}})}}function Ic(p,g){return v(g).from({prototype:p}),g}function No(p,g){return!(p.filter||p.algorithm||p.or)&&(g?p.justLimit:!p.replayFilter)}function Wp(p,g){p.filter=ka(p.filter,g)}function Gp(p,g,x){var T=p.replayFilter;p.replayFilter=T?function(){return ka(T(),g())}:g,p.justLimit=x&&!T}function rd(p,g){if(p.isPrimKey)return g.primaryKey;var x=g.getIndexByKeyPath(p.index);if(!x)throw new ie.Schema("KeyPath "+p.index+" on object store "+g.name+" is not indexed");return x}function Rx(p,g,x){var T=rd(p,g.schema);return g.openCursor({trans:x,values:!p.keysOnly,reverse:p.dir==="prev",unique:!!p.unique,query:{index:T,range:p.range}})}function id(p,g,x,T){var P=p.replayFilter?ka(p.filter,p.replayFilter()):p.filter;if(p.or){var C={},I=function(M,F,U){var G,B;P&&!P(F,U,function(Y){return F.stop(Y)},function(Y){return F.fail(Y)})||((B=""+(G=F.primaryKey))=="[object ArrayBuffer]"&&(B=""+new Uint8Array(G)),d(C,B)||(C[B]=!0,g(M,F,U)))};return Promise.all([p.or._iterate(I,x),Dx(Rx(p,T,x),p.algorithm,I,!p.keysOnly&&p.valueMapper)])}return Dx(Rx(p,T,x),ka(p.algorithm,P),g,!p.keysOnly&&p.valueMapper)}function Dx(p,g,x,T){var P=rt(T?function(C,I,M){return x(T(C),I,M)}:x);return p.then(function(C){if(C)return C.start(function(){var I=function(){return C.continue()};g&&!g(C,function(M){return I=M},function(M){C.stop(M),I=Z},function(M){C.fail(M),I=Z})||P(C.value,C,function(M){return I=M}),I()})})}var d2=(st.prototype._read=function(p,g){var x=this._ctx;return x.error?x.table._trans(null,Kt.bind(null,x.error)):x.table._trans("readonly",p).then(g)},st.prototype._write=function(p){var g=this._ctx;return g.error?g.table._trans(null,Kt.bind(null,g.error)):g.table._trans("readwrite",p,"locked")},st.prototype._addAlgorithm=function(p){var g=this._ctx;g.algorithm=ka(g.algorithm,p)},st.prototype._iterate=function(p,g){return id(this._ctx,p,g,this._ctx.table.core)},st.prototype.clone=function(p){var g=Object.create(this.constructor.prototype),x=Object.create(this._ctx);return p&&c(x,p),g._ctx=x,g},st.prototype.raw=function(){return this._ctx.valueMapper=null,this},st.prototype.each=function(p){var g=this._ctx;return this._read(function(x){return id(g,p,x,g.table.core)})},st.prototype.count=function(p){var g=this;return this._read(function(x){var T=g._ctx,P=T.table.core;if(No(T,!0))return P.count({trans:x,query:{index:rd(T,P.schema),range:T.range}}).then(function(I){return Math.min(I,T.limit)});var C=0;return id(T,function(){return++C,!1},x,P).then(function(){return C})}).then(p)},st.prototype.sortBy=function(p,g){var x=p.split(".").reverse(),T=x[0],P=x.length-1;function C(F,U){return U?C(F[x[U]],U-1):F[T]}var I=this._ctx.dir==="next"?1:-1;function M(F,U){return at(C(F,P),C(U,P))*I}return this.toArray(function(F){return F.sort(M)}).then(g)},st.prototype.toArray=function(p){var g=this;return this._read(function(x){var T=g._ctx;if(T.dir==="next"&&No(T,!0)&&0<T.limit){var P=T.valueMapper,C=rd(T,T.table.core.schema);return T.table.core.query({trans:x,limit:T.limit,values:!0,query:{index:C,range:T.range}}).then(function(M){return M=M.result,P?M.map(P):M})}var I=[];return id(T,function(M){return I.push(M)},x,T.table.core).then(function(){return I})},p)},st.prototype.offset=function(p){var g=this._ctx;return p<=0||(g.offset+=p,No(g)?Gp(g,function(){var x=p;return function(T,P){return x===0||(x===1?--x:P(function(){T.advance(x),x=0}),!1)}}):Gp(g,function(){var x=p;return function(){return--x<0}})),this},st.prototype.limit=function(p){return this._ctx.limit=Math.min(this._ctx.limit,p),Gp(this._ctx,function(){var g=p;return function(x,T,P){return--g<=0&&T(P),0<=g}},!0),this},st.prototype.until=function(p,g){return Wp(this._ctx,function(x,T,P){return!p(x.value)||(T(P),g)}),this},st.prototype.first=function(p){return this.limit(1).toArray(function(g){return g[0]}).then(p)},st.prototype.last=function(p){return this.reverse().first(p)},st.prototype.filter=function(p){var g;return Wp(this._ctx,function(x){return p(x.value)}),(g=this._ctx).isMatch=ka(g.isMatch,p),this},st.prototype.and=function(p){return this.filter(p)},st.prototype.or=function(p){return new this.db.WhereClause(this._ctx.table,p,this)},st.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},st.prototype.desc=function(){return this.reverse()},st.prototype.eachKey=function(p){var g=this._ctx;return g.keysOnly=!g.isMatch,this.each(function(x,T){p(T.key,T)})},st.prototype.eachUniqueKey=function(p){return this._ctx.unique="unique",this.eachKey(p)},st.prototype.eachPrimaryKey=function(p){var g=this._ctx;return g.keysOnly=!g.isMatch,this.each(function(x,T){p(T.primaryKey,T)})},st.prototype.keys=function(p){var g=this._ctx;g.keysOnly=!g.isMatch;var x=[];return this.each(function(T,P){x.push(P.key)}).then(function(){return x}).then(p)},st.prototype.primaryKeys=function(p){var g=this._ctx;if(g.dir==="next"&&No(g,!0)&&0<g.limit)return this._read(function(T){var P=rd(g,g.table.core.schema);return g.table.core.query({trans:T,values:!1,limit:g.limit,query:{index:P,range:g.range}})}).then(function(T){return T.result}).then(p);g.keysOnly=!g.isMatch;var x=[];return this.each(function(T,P){x.push(P.primaryKey)}).then(function(){return x}).then(p)},st.prototype.uniqueKeys=function(p){return this._ctx.unique="unique",this.keys(p)},st.prototype.firstKey=function(p){return this.limit(1).keys(function(g){return g[0]}).then(p)},st.prototype.lastKey=function(p){return this.reverse().firstKey(p)},st.prototype.distinct=function(){var p=this._ctx,p=p.index&&p.table.schema.idxByName[p.index];if(!p||!p.multi)return this;var g={};return Wp(this._ctx,function(P){var T=P.primaryKey.toString(),P=d(g,T);return g[T]=!0,!P}),this},st.prototype.modify=function(p){var g=this,x=this._ctx;return this._write(function(T){var P=typeof p=="function"?p:function(z){return $x(z,p)},C=x.table.core,U=C.schema.primaryKey,I=U.outbound,M=U.extractKey,F=200,U=g.db._options.modifyChunkSize;U&&(F=typeof U=="object"?U[C.name]||U["*"]||200:U);function G(z,ne){var J=ne.failures,ne=ne.numFailures;Y+=z-ne;for(var oe=0,le=o(J);oe<le.length;oe++){var me=le[oe];B.push(J[me])}}var B=[],Y=0,V=[],K=p===Mx;return g.clone().primaryKeys().then(function(z){function H(ne){var oe=Math.min(F,z.length-ne),le=z.slice(ne,ne+oe);return(K?Promise.resolve([]):C.getMany({trans:T,keys:le,cache:"immutable"})).then(function(me){var xe=[],fe=[],ye=I?[]:null,we=K?le:[];if(!K)for(var ve=0;ve<oe;++ve){var Oe=me[ve],He={value:X(Oe),primKey:z[ne+ve]};P.call(He,He.value,He)!==!1&&(He.value==null?we.push(z[ne+ve]):I||at(M(Oe),M(He.value))===0?(fe.push(He.value),I&&ye.push(z[ne+ve])):(we.push(z[ne+ve]),xe.push(He.value)))}return Promise.resolve(0<xe.length&&C.mutate({trans:T,type:"add",values:xe}).then(function(Ze){for(var tt in Ze.failures)we.splice(parseInt(tt),1);G(xe.length,Ze)})).then(function(){return(0<fe.length||J&&typeof p=="object")&&C.mutate({trans:T,type:"put",keys:ye,values:fe,criteria:J,changeSpec:typeof p!="function"&&p,isAdditionalChunk:0<ne}).then(function(Ze){return G(fe.length,Ze)})}).then(function(){return(0<we.length||J&&K)&&C.mutate({trans:T,type:"delete",keys:we,criteria:J,isAdditionalChunk:0<ne}).then(function(Ze){return nd(x.table,we,Ze)}).then(function(Ze){return G(we.length,Ze)})}).then(function(){return z.length>ne+oe&&H(ne+F)})})}var J=No(x)&&x.limit===1/0&&(typeof p!="function"||K)&&{index:x.index,range:x.range};return H(0).then(function(){if(0<B.length)throw new Ee("Error modifying one or more objects",B,Y,V);return z.length})})})},st.prototype.delete=function(){var p=this._ctx,g=p.range;return!No(p)||p.table.schema.yProps||!p.isPrimKey&&g.type!==3?this.modify(Mx):this._write(function(x){var T=p.table.core.schema.primaryKey,P=g;return p.table.core.count({trans:x,query:{index:T,range:P}}).then(function(C){return p.table.core.mutate({trans:x,type:"deleteRange",range:P}).then(function(F){var M=F.failures,F=F.numFailures;if(F)throw new Ee("Could not delete some values",Object.keys(M).map(function(U){return M[U]}),C-F);return C-F})})})},st);function st(){}var Mx=function(p,g){return g.value=null};function f2(p,g){return p<g?-1:p===g?0:1}function h2(p,g){return g<p?-1:p===g?0:1}function Un(p,g,x){return p=p instanceof Bx?new p.Collection(p):p,p._ctx.error=new(x||TypeError)(g),p}function $o(p){return new p.Collection(p,function(){return Lx("")}).limit(0)}function ad(p,g,x,T){var P,C,I,M,F,U,G,B=x.length;if(!x.every(function(K){return typeof K=="string"}))return Un(p,jx);function Y(K){P=K==="next"?function(H){return H.toUpperCase()}:function(H){return H.toLowerCase()},C=K==="next"?function(H){return H.toLowerCase()}:function(H){return H.toUpperCase()},I=K==="next"?f2:h2;var z=x.map(function(H){return{lower:C(H),upper:P(H)}}).sort(function(H,J){return I(H.lower,J.lower)});M=z.map(function(H){return H.upper}),F=z.map(function(H){return H.lower}),G=(U=K)==="next"?"":T}Y("next"),p=new p.Collection(p,function(){return Fi(M[0],F[B-1]+T)}),p._ondirectionchange=function(K){Y(K)};var V=0;return p._addAlgorithm(function(K,z,H){var J=K.key;if(typeof J!="string")return!1;var ne=C(J);if(g(ne,F,V))return!0;for(var oe=null,le=V;le<B;++le){var me=function(xe,fe,ye,we,ve,Oe){for(var He=Math.min(xe.length,we.length),Ze=-1,tt=0;tt<He;++tt){var Vn=fe[tt];if(Vn!==we[tt])return ve(xe[tt],ye[tt])<0?xe.substr(0,tt)+ye[tt]+ye.substr(tt+1):ve(xe[tt],we[tt])<0?xe.substr(0,tt)+we[tt]+ye.substr(tt+1):0<=Ze?xe.substr(0,Ze)+fe[Ze]+ye.substr(Ze+1):null;ve(xe[tt],Vn)<0&&(Ze=tt)}return He<we.length&&Oe==="next"?xe+ye.substr(xe.length):He<xe.length&&Oe==="prev"?xe.substr(0,ye.length):Ze<0?null:xe.substr(0,Ze)+we[Ze]+ye.substr(Ze+1)}(J,ne,M[le],F[le],I,U);me===null&&oe===null?V=le+1:(oe===null||0<I(oe,me))&&(oe=me)}return z(oe!==null?function(){K.continue(oe+G)}:H),!1}),p}function Fi(p,g,x,T){return{type:2,lower:p,upper:g,lowerOpen:x,upperOpen:T}}function Lx(p){return{type:1,lower:p,upper:p}}var Bx=(Object.defineProperty(cn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),cn.prototype.between=function(p,g,x,T){x=x!==!1,T=T===!0;try{return 0<this._cmp(p,g)||this._cmp(p,g)===0&&(x||T)&&(!x||!T)?$o(this):new this.Collection(this,function(){return Fi(p,g,!x,!T)})}catch{return Un(this,li)}},cn.prototype.equals=function(p){return p==null?Un(this,li):new this.Collection(this,function(){return Lx(p)})},cn.prototype.above=function(p){return p==null?Un(this,li):new this.Collection(this,function(){return Fi(p,void 0,!0)})},cn.prototype.aboveOrEqual=function(p){return p==null?Un(this,li):new this.Collection(this,function(){return Fi(p,void 0,!1)})},cn.prototype.below=function(p){return p==null?Un(this,li):new this.Collection(this,function(){return Fi(void 0,p,!1,!0)})},cn.prototype.belowOrEqual=function(p){return p==null?Un(this,li):new this.Collection(this,function(){return Fi(void 0,p)})},cn.prototype.startsWith=function(p){return typeof p!="string"?Un(this,jx):this.between(p,p+ja,!0,!0)},cn.prototype.startsWithIgnoreCase=function(p){return p===""?this.startsWith(p):ad(this,function(g,x){return g.indexOf(x[0])===0},[p],ja)},cn.prototype.equalsIgnoreCase=function(p){return ad(this,function(g,x){return g===x[0]},[p],"")},cn.prototype.anyOfIgnoreCase=function(){var p=de.apply(re,arguments);return p.length===0?$o(this):ad(this,function(g,x){return x.indexOf(g)!==-1},p,"")},cn.prototype.startsWithAnyOfIgnoreCase=function(){var p=de.apply(re,arguments);return p.length===0?$o(this):ad(this,function(g,x){return x.some(function(T){return g.indexOf(T)===0})},p,ja)},cn.prototype.anyOf=function(){var p=this,g=de.apply(re,arguments),x=this._cmp;try{g.sort(x)}catch{return Un(this,li)}if(g.length===0)return $o(this);var T=new this.Collection(this,function(){return Fi(g[0],g[g.length-1])});T._ondirectionchange=function(C){x=C==="next"?p._ascending:p._descending,g.sort(x)};var P=0;return T._addAlgorithm(function(C,I,M){for(var F=C.key;0<x(F,g[P]);)if(++P===g.length)return I(M),!1;return x(F,g[P])===0||(I(function(){C.continue(g[P])}),!1)}),T},cn.prototype.notEqual=function(p){return this.inAnyRange([[-1/0,p],[p,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},cn.prototype.noneOf=function(){var p=de.apply(re,arguments);if(p.length===0)return new this.Collection(this);try{p.sort(this._ascending)}catch{return Un(this,li)}var g=p.reduce(function(x,T){return x?x.concat([[x[x.length-1][1],T]]):[[-1/0,T]]},null);return g.push([p[p.length-1],this.db._maxKey]),this.inAnyRange(g,{includeLowers:!1,includeUppers:!1})},cn.prototype.inAnyRange=function(J,g){var x=this,T=this._cmp,P=this._ascending,C=this._descending,I=this._min,M=this._max;if(J.length===0)return $o(this);if(!J.every(function(ne){return ne[0]!==void 0&&ne[1]!==void 0&&P(ne[0],ne[1])<=0}))return Un(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ie.InvalidArgument);var F=!g||g.includeLowers!==!1,U=g&&g.includeUppers===!0,G,B=P;function Y(ne,oe){return B(ne[0],oe[0])}try{(G=J.reduce(function(ne,oe){for(var le=0,me=ne.length;le<me;++le){var xe=ne[le];if(T(oe[0],xe[1])<0&&0<T(oe[1],xe[0])){xe[0]=I(xe[0],oe[0]),xe[1]=M(xe[1],oe[1]);break}}return le===me&&ne.push(oe),ne},[])).sort(Y)}catch{return Un(this,li)}var V=0,K=U?function(ne){return 0<P(ne,G[V][1])}:function(ne){return 0<=P(ne,G[V][1])},z=F?function(ne){return 0<C(ne,G[V][0])}:function(ne){return 0<=C(ne,G[V][0])},H=K,J=new this.Collection(this,function(){return Fi(G[0][0],G[G.length-1][1],!F,!U)});return J._ondirectionchange=function(ne){B=ne==="next"?(H=K,P):(H=z,C),G.sort(Y)},J._addAlgorithm(function(ne,oe,le){for(var me,xe=ne.key;H(xe);)if(++V===G.length)return oe(le),!1;return!K(me=xe)&&!z(me)||(x._cmp(xe,G[V][1])===0||x._cmp(xe,G[V][0])===0||oe(function(){B===P?ne.continue(G[V][0]):ne.continue(G[V][1])}),!1)}),J},cn.prototype.startsWithAnyOf=function(){var p=de.apply(re,arguments);return p.every(function(g){return typeof g=="string"})?p.length===0?$o(this):this.inAnyRange(p.map(function(g){return[g,g+ja]})):Un(this,"startsWithAnyOf() only works with strings")},cn);function cn(){}function Kr(p){return rt(function(g){return Rc(g),p(g.target.error),!1})}function Rc(p){p.stopPropagation&&p.stopPropagation(),p.preventDefault&&p.preventDefault()}var Dc="storagemutated",Hp="x-storagemutated-1",Ui=$c(null,Dc),p2=(zr.prototype._lock=function(){return k(!Pe.global),++this._reculock,this._reculock!==1||Pe.global||(Pe.lockOwnerFor=this),this},zr.prototype._unlock=function(){if(k(!Pe.global),--this._reculock==0)for(Pe.global||(Pe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var p=this._blockedFuncs.shift();try{Oa(p[1],p[0])}catch{}}return this},zr.prototype._locked=function(){return this._reculock&&Pe.lockOwnerFor!==this},zr.prototype.create=function(p){var g=this;if(!this.mode)return this;var x=this.db.idbdb,T=this.db._state.dbOpenError;if(k(!this.idbtrans),!p&&!x)switch(T&&T.name){case"DatabaseClosedError":throw new ie.DatabaseClosed(T);case"MissingAPIError":throw new ie.MissingAPI(T.message,T);default:throw new ie.OpenFailed(T)}if(!this.active)throw new ie.TransactionInactive;return k(this._completion._state===null),(p=this.idbtrans=p||(this.db.core||x).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=rt(function(P){Rc(P),g._reject(p.error)}),p.onabort=rt(function(P){Rc(P),g.active&&g._reject(new ie.Abort(p.error)),g.active=!1,g.on("abort").fire(P)}),p.oncomplete=rt(function(){g.active=!1,g._resolve(),"mutatedParts"in p&&Ui.storagemutated.fire(p.mutatedParts)}),this},zr.prototype._promise=function(p,g,x){var T=this;if(p==="readwrite"&&this.mode!=="readwrite")return Kt(new ie.ReadOnly("Transaction is readonly"));if(!this.active)return Kt(new ie.TransactionInactive);if(this._locked())return new Se(function(C,I){T._blockedFuncs.push([function(){T._promise(p,g,x).then(C,I)},Pe])});if(x)return Mi(function(){var C=new Se(function(I,M){T._lock();var F=g(I,M,T);F&&F.then&&F.then(I,M)});return C.finally(function(){return T._unlock()}),C._lib=!0,C});var P=new Se(function(C,I){var M=g(C,I,T);M&&M.then&&M.then(C,I)});return P._lib=!0,P},zr.prototype._root=function(){return this.parent?this.parent._root():this},zr.prototype.waitFor=function(p){var g,x=this._root(),T=Se.resolve(p);x._waitingFor?x._waitingFor=x._waitingFor.then(function(){return T}):(x._waitingFor=T,x._waitingQueue=[],g=x.idbtrans.objectStore(x.storeNames[0]),function C(){for(++x._spinCount;x._waitingQueue.length;)x._waitingQueue.shift()();x._waitingFor&&(g.get(-1/0).onsuccess=C)}());var P=x._waitingFor;return new Se(function(C,I){T.then(function(M){return x._waitingQueue.push(rt(C.bind(null,M)))},function(M){return x._waitingQueue.push(rt(I.bind(null,M)))}).finally(function(){x._waitingFor===P&&(x._waitingFor=null)})})},zr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ie.Abort))},zr.prototype.table=function(p){var g=this._memoizedTables||(this._memoizedTables={});if(d(g,p))return g[p];var x=this.schema[p];if(!x)throw new ie.NotFound("Table "+p+" not part of transaction");return x=new this.db.Table(p,x,this),x.core=this.db.core.table(p),g[p]=x},zr);function zr(){}function Yp(p,g,x,T,P,C,I,M){return{name:p,keyPath:g,unique:x,multi:T,auto:P,compound:C,src:(x&&!I?"&":"")+(T?"*":"")+(P?"++":"")+Fx(g),type:M}}function Fx(p){return typeof p=="string"?p:p?"["+[].join.call(p,"+")+"]":""}function Xp(p,g,x){return{name:p,primKey:g,indexes:x,mappedClass:null,idxByName:(T=function(P){return[P.name,P]},x.reduce(function(P,C,I){return I=T(C,I),I&&(P[I[0]]=I[1]),P},{}))};var T}var Mc=function(p){try{return p.only([[]]),Mc=function(){return[[]]},[[]]}catch{return Mc=function(){return ja},ja}};function Jp(p){return p==null?function(){}:typeof p=="string"?(g=p).split(".").length===1?function(x){return x[g]}:function(x){return j(x,g)}:function(x){return j(x,p)};var g}function Ux(p){return[].slice.call(p)}var m2=0;function Lc(p){return p==null?":id":typeof p=="string"?p:"[".concat(p.join("+"),"]")}function g2(p,g,F){function T(H){if(H.type===3)return null;if(H.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var V=H.lower,K=H.upper,z=H.lowerOpen,H=H.upperOpen;return V===void 0?K===void 0?null:g.upperBound(K,!!H):K===void 0?g.lowerBound(V,!!z):g.bound(V,K,!!z,!!H)}function P(Y){var V,K=Y.name;return{name:K,schema:Y,mutate:function(z){var H=z.trans,J=z.type,ne=z.keys,oe=z.values,le=z.range;return new Promise(function(me,xe){me=rt(me);var fe=H.objectStore(K),ye=fe.keyPath==null,we=J==="put"||J==="add";if(!we&&J!=="delete"&&J!=="deleteRange")throw new Error("Invalid operation type: "+J);var ve,Oe=(ne||oe||{length:1}).length;if(ne&&oe&&ne.length!==oe.length)throw new Error("Given keys array must have same length as given values array.");if(Oe===0)return me({numFailures:0,failures:{},results:[],lastResult:void 0});function He(On){++Vn,Rc(On)}var Ze=[],tt=[],Vn=0;if(J==="deleteRange"){if(le.type===4)return me({numFailures:Vn,failures:tt,results:[],lastResult:void 0});le.type===3?Ze.push(ve=fe.clear()):Ze.push(ve=fe.delete(T(le)))}else{var ye=we?ye?[oe,ne]:[oe,null]:[ne,null],ze=ye[0],bn=ye[1];if(we)for(var xn=0;xn<Oe;++xn)Ze.push(ve=bn&&bn[xn]!==void 0?fe[J](ze[xn],bn[xn]):fe[J](ze[xn])),ve.onerror=He;else for(xn=0;xn<Oe;++xn)Ze.push(ve=fe[J](ze[xn])),ve.onerror=He}function yd(On){On=On.target.result,Ze.forEach(function(Ca,mm){return Ca.error!=null&&(tt[mm]=Ca.error)}),me({numFailures:Vn,failures:tt,results:J==="delete"?ne:Ze.map(function(Ca){return Ca.result}),lastResult:On})}ve.onerror=function(On){He(On),yd(On)},ve.onsuccess=yd})},getMany:function(z){var H=z.trans,J=z.keys;return new Promise(function(ne,oe){ne=rt(ne);for(var le,me=H.objectStore(K),xe=J.length,fe=new Array(xe),ye=0,we=0,ve=function(Ze){Ze=Ze.target,fe[Ze._pos]=Ze.result,++we===ye&&ne(fe)},Oe=Kr(oe),He=0;He<xe;++He)J[He]!=null&&((le=me.get(J[He]))._pos=He,le.onsuccess=ve,le.onerror=Oe,++ye);ye===0&&ne(fe)})},get:function(z){var H=z.trans,J=z.key;return new Promise(function(ne,oe){ne=rt(ne);var le=H.objectStore(K).get(J);le.onsuccess=function(me){return ne(me.target.result)},le.onerror=Kr(oe)})},query:(V=U,function(z){return new Promise(function(H,J){H=rt(H);var ne,oe,le,ye=z.trans,me=z.values,xe=z.limit,ve=z.query,fe=xe===1/0?void 0:xe,we=ve.index,ve=ve.range,ye=ye.objectStore(K),we=we.isPrimaryKey?ye:ye.index(we.name),ve=T(ve);if(xe===0)return H({result:[]});V?((fe=me?we.getAll(ve,fe):we.getAllKeys(ve,fe)).onsuccess=function(Oe){return H({result:Oe.target.result})},fe.onerror=Kr(J)):(ne=0,oe=!me&&"openKeyCursor"in we?we.openKeyCursor(ve):we.openCursor(ve),le=[],oe.onsuccess=function(Oe){var He=oe.result;return He?(le.push(me?He.value:He.primaryKey),++ne===xe?H({result:le}):void He.continue()):H({result:le})},oe.onerror=Kr(J))})}),openCursor:function(z){var H=z.trans,J=z.values,ne=z.query,oe=z.reverse,le=z.unique;return new Promise(function(me,xe){me=rt(me);var we=ne.index,fe=ne.range,ye=H.objectStore(K),ye=we.isPrimaryKey?ye:ye.index(we.name),we=oe?le?"prevunique":"prev":le?"nextunique":"next",ve=!J&&"openKeyCursor"in ye?ye.openKeyCursor(T(fe),we):ye.openCursor(T(fe),we);ve.onerror=Kr(xe),ve.onsuccess=rt(function(Oe){var He,Ze,tt,Vn,ze=ve.result;ze?(ze.___id=++m2,ze.done=!1,He=ze.continue.bind(ze),Ze=(Ze=ze.continuePrimaryKey)&&Ze.bind(ze),tt=ze.advance.bind(ze),Vn=function(){throw new Error("Cursor not stopped")},ze.trans=H,ze.stop=ze.continue=ze.continuePrimaryKey=ze.advance=function(){throw new Error("Cursor not started")},ze.fail=rt(xe),ze.next=function(){var bn=this,xn=1;return this.start(function(){return xn--?bn.continue():bn.stop()}).then(function(){return bn})},ze.start=function(bn){function xn(){if(ve.result)try{bn()}catch(On){ze.fail(On)}else ze.done=!0,ze.start=function(){throw new Error("Cursor behind last entry")},ze.stop()}var yd=new Promise(function(On,Ca){On=rt(On),ve.onerror=Kr(Ca),ze.fail=Ca,ze.stop=function(mm){ze.stop=ze.continue=ze.continuePrimaryKey=ze.advance=Vn,On(mm)}});return ve.onsuccess=rt(function(On){ve.onsuccess=xn,xn()}),ze.continue=He,ze.continuePrimaryKey=Ze,ze.advance=tt,xn(),yd},me(ze)):me(null)},xe)})},count:function(z){var H=z.query,J=z.trans,ne=H.index,oe=H.range;return new Promise(function(le,me){var xe=J.objectStore(K),fe=ne.isPrimaryKey?xe:xe.index(ne.name),xe=T(oe),fe=xe?fe.count(xe):fe.count();fe.onsuccess=rt(function(ye){return le(ye.target.result)}),fe.onerror=Kr(me)})}}}var C,I,M,G=(I=F,M=Ux((C=p).objectStoreNames),{schema:{name:C.name,tables:M.map(function(Y){return I.objectStore(Y)}).map(function(Y){var V=Y.keyPath,H=Y.autoIncrement,K=s(V),z={},H={name:Y.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:V==null,compound:K,keyPath:V,autoIncrement:H,unique:!0,extractKey:Jp(V)},indexes:Ux(Y.indexNames).map(function(J){return Y.index(J)}).map(function(le){var ne=le.name,oe=le.unique,me=le.multiEntry,le=le.keyPath,me={name:ne,compound:s(le),keyPath:le,unique:oe,multiEntry:me,extractKey:Jp(le)};return z[Lc(le)]=me}),getIndexByKeyPath:function(J){return z[Lc(J)]}};return z[":id"]=H.primaryKey,V!=null&&(z[Lc(V)]=H.primaryKey),H})},hasGetAll:0<M.length&&"getAll"in I.objectStore(M[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),F=G.schema,U=G.hasGetAll,G=F.tables.map(P),B={};return G.forEach(function(Y){return B[Y.name]=Y}),{stack:"dbcore",transaction:p.transaction.bind(p),table:function(Y){if(!B[Y])throw new Error("Table '".concat(Y,"' not found"));return B[Y]},MIN_KEY:-1/0,MAX_KEY:Mc(g),schema:F}}function y2(p,g,x,T){var P=x.IDBKeyRange;return x.indexedDB,{dbcore:(T=g2(g,P,T),p.dbcore.reduce(function(C,I){return I=I.create,r(r({},C),I(C))},T))}}function od(p,T){var x=T.db,T=y2(p._middlewares,x,p._deps,T);p.core=T.dbcore,p.tables.forEach(function(P){var C=P.name;p.core.schema.tables.some(function(I){return I.name===C})&&(P.core=p.core.table(C),p[C]instanceof p.Table&&(p[C].core=P.core))})}function sd(p,g,x,T){x.forEach(function(P){var C=T[P];g.forEach(function(I){var M=function F(U,G){return b(U,G)||(U=l(U))&&F(U,G)}(I,P);(!M||"value"in M&&M.value===void 0)&&(I===p.Transaction.prototype||I instanceof p.Transaction?y(I,P,{get:function(){return this.table(P)},set:function(F){m(this,P,{value:F,writable:!0,configurable:!0,enumerable:!0})}}):I[P]=new p.Table(P,C))})})}function Zp(p,g){g.forEach(function(x){for(var T in x)x[T]instanceof p.Table&&delete x[T]})}function v2(p,g){return p._cfg.version-g._cfg.version}function b2(p,g,x,T){var P=p._dbSchema;x.objectStoreNames.contains("$meta")&&!P.$meta&&(P.$meta=Xp("$meta",qx("")[0],[]),p._storeNames.push("$meta"));var C=p._createTransaction("readwrite",p._storeNames,P);C.create(x),C._completion.catch(T);var I=C._reject.bind(C),M=Pe.transless||Pe;Mi(function(){return Pe.trans=C,Pe.transless=M,g!==0?(od(p,x),U=g,((F=C).storeNames.includes("$meta")?F.table("$meta").get("version").then(function(G){return G??U}):Se.resolve(U)).then(function(G){return Y=G,V=C,K=x,z=[],G=(B=p)._versions,H=B._dbSchema=ld(0,B.idbdb,K),(G=G.filter(function(J){return J._cfg.version>=Y})).length!==0?(G.forEach(function(J){z.push(function(){var ne=H,oe=J._cfg.dbschema;ud(B,ne,K),ud(B,oe,K),H=B._dbSchema=oe;var le=Qp(ne,oe);le.add.forEach(function(we){em(K,we[0],we[1].primKey,we[1].indexes)}),le.change.forEach(function(we){if(we.recreate)throw new ie.Upgrade("Not yet support for changing primary key");var ve=K.objectStore(we.name);we.add.forEach(function(Oe){return cd(ve,Oe)}),we.change.forEach(function(Oe){ve.deleteIndex(Oe.name),cd(ve,Oe)}),we.del.forEach(function(Oe){return ve.deleteIndex(Oe)})});var me=J._cfg.contentUpgrade;if(me&&J._cfg.version>Y){od(B,K),V._memoizedTables={};var xe=N(oe);le.del.forEach(function(we){xe[we]=ne[we]}),Zp(B,[B.Transaction.prototype]),sd(B,[B.Transaction.prototype],o(xe),xe),V.schema=xe;var fe,ye=_e(me);return ye&&Eo(),le=Se.follow(function(){var we;(fe=me(V))&&ye&&(we=Li.bind(null,null),fe.then(we,we))}),fe&&typeof fe.then=="function"?Se.resolve(fe):le.then(function(){return fe})}}),z.push(function(ne){var oe,le,me=J._cfg.dbschema;oe=me,le=ne,[].slice.call(le.db.objectStoreNames).forEach(function(xe){return oe[xe]==null&&le.db.deleteObjectStore(xe)}),Zp(B,[B.Transaction.prototype]),sd(B,[B.Transaction.prototype],B._storeNames,B._dbSchema),V.schema=B._dbSchema}),z.push(function(ne){B.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(B.idbdb.version/10)===J._cfg.version?(B.idbdb.deleteObjectStore("$meta"),delete B._dbSchema.$meta,B._storeNames=B._storeNames.filter(function(oe){return oe!=="$meta"})):ne.objectStore("$meta").put(J._cfg.version,"version"))})}),function J(){return z.length?Se.resolve(z.shift()(V.idbtrans)).then(J):Se.resolve()}().then(function(){Vx(H,K)})):Se.resolve();var B,Y,V,K,z,H}).catch(I)):(o(P).forEach(function(G){em(x,G,P[G].primKey,P[G].indexes)}),od(p,x),void Se.follow(function(){return p.on.populate.fire(C)}).catch(I));var F,U})}function x2(p,g){Vx(p._dbSchema,g),g.db.version%10!=0||g.objectStoreNames.contains("$meta")||g.db.createObjectStore("$meta").add(Math.ceil(g.db.version/10-1),"version");var x=ld(0,p.idbdb,g);ud(p,p._dbSchema,g);for(var T=0,P=Qp(x,p._dbSchema).change;T<P.length;T++){var C=function(I){if(I.change.length||I.recreate)return console.warn("Unable to patch indexes of table ".concat(I.name," because it has changes on the type of index or primary key.")),{value:void 0};var M=g.objectStore(I.name);I.add.forEach(function(F){Nt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(I.name,".").concat(F.src)),cd(M,F)})}(P[T]);if(typeof C=="object")return C.value}}function Qp(p,g){var x,T={del:[],add:[],change:[]};for(x in p)g[x]||T.del.push(x);for(x in g){var P=p[x],C=g[x];if(P){var I={name:x,def:C,recreate:!1,del:[],add:[],change:[]};if(""+(P.primKey.keyPath||"")!=""+(C.primKey.keyPath||"")||P.primKey.auto!==C.primKey.auto)I.recreate=!0,T.change.push(I);else{var M=P.idxByName,F=C.idxByName,U=void 0;for(U in M)F[U]||I.del.push(U);for(U in F){var G=M[U],B=F[U];G?G.src!==B.src&&I.change.push(B):I.add.push(B)}(0<I.del.length||0<I.add.length||0<I.change.length)&&T.change.push(I)}}else T.add.push([x,C])}return T}function em(p,g,x,T){var P=p.db.createObjectStore(g,x.keyPath?{keyPath:x.keyPath,autoIncrement:x.auto}:{autoIncrement:x.auto});return T.forEach(function(C){return cd(P,C)}),P}function Vx(p,g){o(p).forEach(function(x){g.db.objectStoreNames.contains(x)||(Nt&&console.debug("Dexie: Creating missing table",x),em(g,x,p[x].primKey,p[x].indexes))})}function cd(p,g){p.createIndex(g.name,g.keyPath,{unique:g.unique,multiEntry:g.multi})}function ld(p,g,x){var T={};return _(g.objectStoreNames,0).forEach(function(P){for(var C=x.objectStore(P),I=Yp(Fx(U=C.keyPath),U||"",!0,!1,!!C.autoIncrement,U&&typeof U!="string",!0),M=[],F=0;F<C.indexNames.length;++F){var G=C.index(C.indexNames[F]),U=G.keyPath,G=Yp(G.name,U,!!G.unique,!!G.multiEntry,!1,U&&typeof U!="string",!1);M.push(G)}T[P]=Xp(P,I,M)}),T}function ud(p,g,x){for(var T=x.db.objectStoreNames,P=0;P<T.length;++P){var C=T[P],I=x.objectStore(C);p._hasGetAll="getAll"in I;for(var M=0;M<I.indexNames.length;++M){var F=I.indexNames[M],U=I.index(F).keyPath,G=typeof U=="string"?U:"["+_(U).join("+")+"]";!g[C]||(U=g[C].idxByName[G])&&(U.name=F,delete g[C].idxByName[G],g[C].idxByName[F]=U)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(p._hasGetAll=!1)}function qx(p){return p.split(",").map(function(g,x){var C=g.split(":"),T=(P=C[1])===null||P===void 0?void 0:P.trim(),P=(g=C[0].trim()).replace(/([&*]|\+\+)/g,""),C=/^\[/.test(P)?P.match(/^\[(.*)\]$/)[1].split("+"):P;return Yp(P,C||null,/\&/.test(g),/\*/.test(g),/\+\+/.test(g),s(C),x===0,T)})}var w2=(Io.prototype._createTableSchema=Xp,Io.prototype._parseIndexSyntax=qx,Io.prototype._parseStoresSpec=function(p,g){var x=this;o(p).forEach(function(T){if(p[T]!==null){var P=x._parseIndexSyntax(p[T]),C=P.shift();if(!C)throw new ie.Schema("Invalid schema for table "+T+": "+p[T]);if(C.unique=!0,C.multi)throw new ie.Schema("Primary key cannot be multiEntry*");P.forEach(function(I){if(I.auto)throw new ie.Schema("Only primary key can be marked as autoIncrement (++)");if(!I.keyPath)throw new ie.Schema("Index must have a name and cannot be an empty string")}),P=x._createTableSchema(T,C,P),g[T]=P}})},Io.prototype.stores=function(x){var g=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,x):x;var x=g._versions,T={},P={};return x.forEach(function(C){c(T,C._cfg.storesSource),P=C._cfg.dbschema={},C._parseStoresSpec(T,P)}),g._dbSchema=P,Zp(g,[g._allTables,g,g.Transaction.prototype]),sd(g,[g._allTables,g,g.Transaction.prototype,this._cfg.tables],o(P),P),g._storeNames=o(P),this},Io.prototype.upgrade=function(p){return this._cfg.contentUpgrade=xr(this._cfg.contentUpgrade||Z,p),this},Io);function Io(){}function tm(p,g){var x=p._dbNamesDB;return x||(x=p._dbNamesDB=new ui(ed,{addons:[],indexedDB:p,IDBKeyRange:g})).version(1).stores({dbnames:"name"}),x.table("dbnames")}function nm(p){return p&&typeof p.databases=="function"}function rm(p){return Mi(function(){return Pe.letThrough=!0,p()})}function im(p){return!("from"in p)}var vn=function(p,g){if(!this){var x=new vn;return p&&"d"in p&&c(x,p),x}c(this,arguments.length?{d:1,from:p,to:1<arguments.length?g:p}:{d:0})};function Bc(p,g,x){var T=at(g,x);if(!isNaN(T)){if(0<T)throw RangeError();if(im(p))return c(p,{from:g,to:x,d:1});var P=p.l,T=p.r;if(at(x,p.from)<0)return P?Bc(P,g,x):p.l={from:g,to:x,d:1,l:null,r:null},zx(p);if(0<at(g,p.to))return T?Bc(T,g,x):p.r={from:g,to:x,d:1,l:null,r:null},zx(p);at(g,p.from)<0&&(p.from=g,p.l=null,p.d=T?T.d+1:1),0<at(x,p.to)&&(p.to=x,p.r=null,p.d=p.l?p.l.d+1:1),x=!p.r,P&&!p.l&&Fc(p,P),T&&x&&Fc(p,T)}}function Fc(p,g){im(g)||function x(T,F){var C=F.from,I=F.to,M=F.l,F=F.r;Bc(T,C,I),M&&x(T,M),F&&x(T,F)}(p,g)}function Kx(p,g){var x=dd(g),T=x.next();if(T.done)return!1;for(var P=T.value,C=dd(p),I=C.next(P.from),M=I.value;!T.done&&!I.done;){if(at(M.from,P.to)<=0&&0<=at(M.to,P.from))return!0;at(P.from,M.from)<0?P=(T=x.next(M.from)).value:M=(I=C.next(P.from)).value}return!1}function dd(p){var g=im(p)?null:{s:0,n:p};return{next:function(x){for(var T=0<arguments.length;g;)switch(g.s){case 0:if(g.s=1,T)for(;g.n.l&&at(x,g.n.from)<0;)g={up:g,n:g.n.l,s:1};else for(;g.n.l;)g={up:g,n:g.n.l,s:1};case 1:if(g.s=2,!T||at(x,g.n.to)<=0)return{value:g.n,done:!1};case 2:if(g.n.r){g.s=3,g={up:g,n:g.n.r,s:0};continue}case 3:g=g.up}return{done:!0}}}}function zx(p){var g,x,T=(((g=p.r)===null||g===void 0?void 0:g.d)||0)-(((x=p.l)===null||x===void 0?void 0:x.d)||0),P=1<T?"r":T<-1?"l":"";P&&(g=P=="r"?"l":"r",x=r({},p),T=p[P],p.from=T.from,p.to=T.to,p[P]=T[P],x[P]=T[g],(p[g]=x).d=Wx(x)),p.d=Wx(p)}function Wx(x){var g=x.r,x=x.l;return(g?x?Math.max(g.d,x.d):g.d:x?x.d:0)+1}function fd(p,g){return o(g).forEach(function(x){p[x]?Fc(p[x],g[x]):p[x]=function T(P){var C,I,M={};for(C in P)d(P,C)&&(I=P[C],M[C]=!I||typeof I!="object"||L.has(I.constructor)?I:T(I));return M}(g[x])}),p}function am(p,g){return p.all||g.all||Object.keys(p).some(function(x){return g[x]&&Kx(g[x],p[x])})}h(vn.prototype,((ar={add:function(p){return Fc(this,p),this},addKey:function(p){return Bc(this,p,p),this},addKeys:function(p){var g=this;return p.forEach(function(x){return Bc(g,x,x)}),this},hasKey:function(p){var g=dd(this).next(p).value;return g&&at(g.from,p)<=0&&0<=at(g.to,p)}})[Q]=function(){return dd(this)},ar));var Pa={},om={},sm=!1;function hd(p){fd(om,p),sm||(sm=!0,setTimeout(function(){sm=!1,cm(om,!(om={}))},0))}function cm(p,g){g===void 0&&(g=!1);var x=new Set;if(p.all)for(var T=0,P=Object.values(Pa);T<P.length;T++)Gx(I=P[T],p,x,g);else for(var C in p){var I,M=/^idb\:\/\/(.*)\/(.*)\//.exec(C);M&&(C=M[1],M=M[2],(I=Pa["idb://".concat(C,"/").concat(M)])&&Gx(I,p,x,g))}x.forEach(function(F){return F()})}function Gx(p,g,x,T){for(var P=[],C=0,I=Object.entries(p.queries.query);C<I.length;C++){for(var M=I[C],F=M[0],U=[],G=0,B=M[1];G<B.length;G++){var Y=B[G];am(g,Y.obsSet)?Y.subscribers.forEach(function(H){return x.add(H)}):T&&U.push(Y)}T&&P.push([F,U])}if(T)for(var V=0,K=P;V<K.length;V++){var z=K[V],F=z[0],U=z[1];p.queries.query[F]=U}}function S2(p){var g=p._state,x=p._deps.indexedDB;if(g.isBeingOpened||p.idbdb)return g.dbReadyPromise.then(function(){return g.dbOpenError?Kt(g.dbOpenError):p});g.isBeingOpened=!0,g.dbOpenError=null,g.openComplete=!1;var T=g.openCanceller,P=Math.round(10*p.verno),C=!1;function I(){if(g.openCanceller!==T)throw new ie.DatabaseClosed("db.open() was cancelled")}function M(){return new Se(function(Y,V){if(I(),!x)throw new ie.MissingAPI;var K=p.name,z=g.autoSchema||!P?x.open(K):x.open(K,P);if(!z)throw new ie.MissingAPI;z.onerror=Kr(V),z.onblocked=rt(p._fireOnBlocked),z.onupgradeneeded=rt(function(H){var J;G=z.transaction,g.autoSchema&&!p._options.allowEmptyDB?(z.onerror=Rc,G.abort(),z.result.close(),(J=x.deleteDatabase(K)).onsuccess=J.onerror=rt(function(){V(new ie.NoSuchDatabase("Database ".concat(K," doesnt exist")))})):(G.onerror=Kr(V),H=H.oldVersion>Math.pow(2,62)?0:H.oldVersion,B=H<1,p.idbdb=z.result,C&&x2(p,G),b2(p,H/10,G,V))},V),z.onsuccess=rt(function(){G=null;var H,J,ne,oe,le,me=p.idbdb=z.result,xe=_(me.objectStoreNames);if(0<xe.length)try{var fe=me.transaction((oe=xe).length===1?oe[0]:oe,"readonly");if(g.autoSchema)J=me,ne=fe,(H=p).verno=J.version/10,ne=H._dbSchema=ld(0,J,ne),H._storeNames=_(J.objectStoreNames,0),sd(H,[H._allTables],o(ne),ne);else if(ud(p,p._dbSchema,fe),((le=Qp(ld(0,(le=p).idbdb,fe),le._dbSchema)).add.length||le.change.some(function(ye){return ye.add.length||ye.change.length}))&&!C)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),me.close(),P=me.version+1,C=!0,Y(M());od(p,fe)}catch{}Co.push(p),me.onversionchange=rt(function(ye){g.vcFired=!0,p.on("versionchange").fire(ye)}),me.onclose=rt(function(){p.close({disableAutoOpen:!1})}),B&&(le=p._deps,fe=K,me=le.indexedDB,le=le.IDBKeyRange,nm(me)||fe===ed||tm(me,le).put({name:fe}).catch(Z)),Y()},V)}).catch(function(Y){switch(Y==null?void 0:Y.name){case"UnknownError":if(0<g.PR1398_maxLoop)return g.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),M();break;case"VersionError":if(0<P)return P=0,M()}return Se.reject(Y)})}var F,U=g.dbReadyResolve,G=null,B=!1;return Se.race([T,(typeof navigator>"u"?Se.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Y){function V(){return indexedDB.databases().finally(Y)}F=setInterval(V,100),V()}).finally(function(){return clearInterval(F)}):Promise.resolve()).then(M)]).then(function(){return I(),g.onReadyBeingFired=[],Se.resolve(rm(function(){return p.on.ready.fire(p.vip)})).then(function Y(){if(0<g.onReadyBeingFired.length){var V=g.onReadyBeingFired.reduce(xr,Z);return g.onReadyBeingFired=[],Se.resolve(rm(function(){return V(p.vip)})).then(Y)}})}).finally(function(){g.openCanceller===T&&(g.onReadyBeingFired=null,g.isBeingOpened=!1)}).catch(function(Y){g.dbOpenError=Y;try{G&&G.abort()}catch{}return T===g.openCanceller&&p._close(),Kt(Y)}).finally(function(){g.openComplete=!0,U()}).then(function(){var Y;return B&&(Y={},p.tables.forEach(function(V){V.schema.indexes.forEach(function(K){K.name&&(Y["idb://".concat(p.name,"/").concat(V.name,"/").concat(K.name)]=new vn(-1/0,[[[]]]))}),Y["idb://".concat(p.name,"/").concat(V.name,"/")]=Y["idb://".concat(p.name,"/").concat(V.name,"/:dels")]=new vn(-1/0,[[[]]])}),Ui(Dc).fire(Y),cm(Y,!0)),p})}function lm(p){function g(C){return p.next(C)}var x=P(g),T=P(function(C){return p.throw(C)});function P(C){return function(F){var M=C(F),F=M.value;return M.done?F:F&&typeof F.then=="function"?F.then(x,T):s(F)?Promise.all(F).then(x,T):x(F)}}return P(g)()}function pd(p,g,x){for(var T=s(p)?p.slice():[p],P=0;P<x;++P)T.push(g);return T}var _2={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(p){return r(r({},p),{table:function(g){var x=p.table(g),T=x.schema,P={},C=[];function I(B,Y,V){var K=Lc(B),z=P[K]=P[K]||[],H=B==null?0:typeof B=="string"?1:B.length,J=0<Y,J=r(r({},V),{name:J?"".concat(K,"(virtual-from:").concat(V.name,")"):V.name,lowLevelIndex:V,isVirtual:J,keyTail:Y,keyLength:H,extractKey:Jp(B),unique:!J&&V.unique});return z.push(J),J.isPrimaryKey||C.push(J),1<H&&I(H===2?B[0]:B.slice(0,H-1),Y+1,V),z.sort(function(ne,oe){return ne.keyTail-oe.keyTail}),J}g=I(T.primaryKey.keyPath,0,T.primaryKey),P[":id"]=[g];for(var M=0,F=T.indexes;M<F.length;M++){var U=F[M];I(U.keyPath,0,U)}function G(B){var Y,V=B.query.index;return V.isVirtual?r(r({},B),{query:{index:V.lowLevelIndex,range:(Y=B.query.range,V=V.keyTail,{type:Y.type===1?2:Y.type,lower:pd(Y.lower,Y.lowerOpen?p.MAX_KEY:p.MIN_KEY,V),lowerOpen:!0,upper:pd(Y.upper,Y.upperOpen?p.MIN_KEY:p.MAX_KEY,V),upperOpen:!0})}}):B}return r(r({},x),{schema:r(r({},T),{primaryKey:g,indexes:C,getIndexByKeyPath:function(B){return(B=P[Lc(B)])&&B[0]}}),count:function(B){return x.count(G(B))},query:function(B){return x.query(G(B))},openCursor:function(B){var Y=B.query.index,V=Y.keyTail,K=Y.isVirtual,z=Y.keyLength;return K?x.openCursor(G(B)).then(function(J){return J&&H(J)}):x.openCursor(B);function H(J){return Object.create(J,{continue:{value:function(ne){ne!=null?J.continue(pd(ne,B.reverse?p.MAX_KEY:p.MIN_KEY,V)):B.unique?J.continue(J.key.slice(0,z).concat(B.reverse?p.MIN_KEY:p.MAX_KEY,V)):J.continue()}},continuePrimaryKey:{value:function(ne,oe){J.continuePrimaryKey(pd(ne,p.MAX_KEY,V),oe)}},primaryKey:{get:function(){return J.primaryKey}},key:{get:function(){var ne=J.key;return z===1?ne[0]:ne.slice(0,z)}},value:{get:function(){return J.value}}})}}})}})}};function um(p,g,x,T){return x=x||{},T=T||"",o(p).forEach(function(P){var C,I,M;d(g,P)?(C=p[P],I=g[P],typeof C=="object"&&typeof I=="object"&&C&&I?(M=W(C))!==W(I)?x[T+P]=g[P]:M==="Object"?um(C,I,x,T+P+"."):C!==I&&(x[T+P]=g[P]):C!==I&&(x[T+P]=g[P])):x[T+P]=void 0}),o(g).forEach(function(P){d(p,P)||(x[T+P]=g[P])}),x}function dm(p,g){return g.type==="delete"?g.keys:g.keys||g.values.map(p.extractKey)}var A2={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(p){return r(r({},p),{table:function(g){var x=p.table(g),T=x.schema.primaryKey;return r(r({},x),{mutate:function(P){var C=Pe.trans,I=C.table(g).hook,M=I.deleting,F=I.creating,U=I.updating;switch(P.type){case"add":if(F.fire===Z)break;return C._promise("readwrite",function(){return G(P)},!0);case"put":if(F.fire===Z&&U.fire===Z)break;return C._promise("readwrite",function(){return G(P)},!0);case"delete":if(M.fire===Z)break;return C._promise("readwrite",function(){return G(P)},!0);case"deleteRange":if(M.fire===Z)break;return C._promise("readwrite",function(){return function B(Y,V,K){return x.query({trans:Y,values:!1,query:{index:T,range:V},limit:K}).then(function(z){var H=z.result;return G({type:"delete",keys:H,trans:Y}).then(function(J){return 0<J.numFailures?Promise.reject(J.failures[0]):H.length<K?{failures:[],numFailures:0,lastResult:void 0}:B(Y,r(r({},V),{lower:H[H.length-1],lowerOpen:!0}),K)})})}(P.trans,P.range,1e4)},!0)}return x.mutate(P);function G(B){var Y,V,K,z=Pe.trans,H=B.keys||dm(T,B);if(!H)throw new Error("Keys missing");return(B=B.type==="add"||B.type==="put"?r(r({},B),{keys:H}):r({},B)).type!=="delete"&&(B.values=i([],B.values)),B.keys&&(B.keys=i([],B.keys)),Y=x,K=H,((V=B).type==="add"?Promise.resolve([]):Y.getMany({trans:V.trans,keys:K,cache:"immutable"})).then(function(J){var ne=H.map(function(oe,le){var me,xe,fe,ye=J[le],we={onerror:null,onsuccess:null};return B.type==="delete"?M.fire.call(we,oe,ye,z):B.type==="add"||ye===void 0?(me=F.fire.call(we,oe,B.values[le],z),oe==null&&me!=null&&(B.keys[le]=oe=me,T.outbound||E(B.values[le],T.keyPath,oe))):(me=um(ye,B.values[le]),(xe=U.fire.call(we,me,oe,ye,z))&&(fe=B.values[le],Object.keys(xe).forEach(function(ve){d(fe,ve)?fe[ve]=xe[ve]:E(fe,ve,xe[ve])}))),we});return x.mutate(B).then(function(oe){for(var le=oe.failures,me=oe.results,xe=oe.numFailures,oe=oe.lastResult,fe=0;fe<H.length;++fe){var ye=(me||H)[fe],we=ne[fe];ye==null?we.onerror&&we.onerror(le[fe]):we.onsuccess&&we.onsuccess(B.type==="put"&&J[fe]?B.values[fe]:ye)}return{failures:le,results:me,numFailures:xe,lastResult:oe}}).catch(function(oe){return ne.forEach(function(le){return le.onerror&&le.onerror(oe)}),Promise.reject(oe)})})}}})}})}};function Hx(p,g,x){try{if(!g||g.keys.length<p.length)return null;for(var T=[],P=0,C=0;P<g.keys.length&&C<p.length;++P)at(g.keys[P],p[C])===0&&(T.push(x?X(g.values[P]):g.values[P]),++C);return T.length===p.length?T:null}catch{return null}}var T2={stack:"dbcore",level:-1,create:function(p){return{table:function(g){var x=p.table(g);return r(r({},x),{getMany:function(T){if(!T.cache)return x.getMany(T);var P=Hx(T.keys,T.trans._cache,T.cache==="clone");return P?Se.resolve(P):x.getMany(T).then(function(C){return T.trans._cache={keys:T.keys,values:T.cache==="clone"?X(C):C},C})},mutate:function(T){return T.type!=="add"&&(T.trans._cache=null),x.mutate(T)}})}}}};function Yx(p,g){return p.trans.mode==="readonly"&&!!p.subscr&&!p.trans.explicit&&p.trans.db._options.cache!=="disabled"&&!g.schema.primaryKey.outbound}function Xx(p,g){switch(p){case"query":return g.values&&!g.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var O2={stack:"dbcore",level:0,name:"Observability",create:function(p){var g=p.schema.name,x=new vn(p.MIN_KEY,p.MAX_KEY);return r(r({},p),{transaction:function(T,P,C){if(Pe.subscr&&P!=="readonly")throw new ie.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Pe.querier));return p.transaction(T,P,C)},table:function(T){var P=p.table(T),C=P.schema,I=C.primaryKey,B=C.indexes,M=I.extractKey,F=I.outbound,U=I.autoIncrement&&B.filter(function(V){return V.compound&&V.keyPath.includes(I.keyPath)}),G=r(r({},P),{mutate:function(V){function K(ve){return ve="idb://".concat(g,"/").concat(T,"/").concat(ve),oe[ve]||(oe[ve]=new vn)}var z,H,J,ne=V.trans,oe=V.mutatedParts||(V.mutatedParts={}),le=K(""),me=K(":dels"),xe=V.type,we=V.type==="deleteRange"?[V.range]:V.type==="delete"?[V.keys]:V.values.length<50?[dm(I,V).filter(function(ve){return ve}),V.values]:[],fe=we[0],ye=we[1],we=V.trans._cache;return s(fe)?(le.addKeys(fe),(we=xe==="delete"||fe.length===ye.length?Hx(fe,we):null)||me.addKeys(fe),(we||ye)&&(z=K,H=we,J=ye,C.indexes.forEach(function(ve){var Oe=z(ve.name||"");function He(tt){return tt!=null?ve.extractKey(tt):null}function Ze(tt){return ve.multiEntry&&s(tt)?tt.forEach(function(Vn){return Oe.addKey(Vn)}):Oe.addKey(tt)}(H||J).forEach(function(tt,bn){var ze=H&&He(H[bn]),bn=J&&He(J[bn]);at(ze,bn)!==0&&(ze!=null&&Ze(ze),bn!=null&&Ze(bn))})}))):fe?(ye={from:(ye=fe.lower)!==null&&ye!==void 0?ye:p.MIN_KEY,to:(ye=fe.upper)!==null&&ye!==void 0?ye:p.MAX_KEY},me.add(ye),le.add(ye)):(le.add(x),me.add(x),C.indexes.forEach(function(ve){return K(ve.name).add(x)})),P.mutate(V).then(function(ve){return!fe||V.type!=="add"&&V.type!=="put"||(le.addKeys(ve.results),U&&U.forEach(function(Oe){for(var He=V.values.map(function(ze){return Oe.extractKey(ze)}),Ze=Oe.keyPath.findIndex(function(ze){return ze===I.keyPath}),tt=0,Vn=ve.results.length;tt<Vn;++tt)He[tt][Ze]=ve.results[tt];K(Oe.name).addKeys(He)})),ne.mutatedParts=fd(ne.mutatedParts||{},oe),ve})}}),B=function(K){var z=K.query,K=z.index,z=z.range;return[K,new vn((K=z.lower)!==null&&K!==void 0?K:p.MIN_KEY,(z=z.upper)!==null&&z!==void 0?z:p.MAX_KEY)]},Y={get:function(V){return[I,new vn(V.key)]},getMany:function(V){return[I,new vn().addKeys(V.keys)]},count:B,query:B,openCursor:B};return o(Y).forEach(function(V){G[V]=function(K){var z=Pe.subscr,H=!!z,J=Yx(Pe,P)&&Xx(V,K)?K.obsSet={}:z;if(H){var ne=function(ye){return ye="idb://".concat(g,"/").concat(T,"/").concat(ye),J[ye]||(J[ye]=new vn)},oe=ne(""),le=ne(":dels"),z=Y[V](K),H=z[0],z=z[1];if((V==="query"&&H.isPrimaryKey&&!K.values?le:ne(H.name||"")).add(z),!H.isPrimaryKey){if(V!=="count"){var me=V==="query"&&F&&K.values&&P.query(r(r({},K),{values:!1}));return P[V].apply(this,arguments).then(function(ye){if(V==="query"){if(F&&K.values)return me.then(function(He){return He=He.result,oe.addKeys(He),ye});var we=K.values?ye.result.map(M):ye.result;(K.values?oe:le).addKeys(we)}else if(V==="openCursor"){var ve=ye,Oe=K.values;return ve&&Object.create(ve,{key:{get:function(){return le.addKey(ve.primaryKey),ve.key}},primaryKey:{get:function(){var He=ve.primaryKey;return le.addKey(He),He}},value:{get:function(){return Oe&&oe.addKey(ve.primaryKey),ve.value}}})}return ye})}le.add(x)}}return P[V].apply(this,arguments)}}),G}})}};function Jx(p,g,x){if(x.numFailures===0)return g;if(g.type==="deleteRange")return null;var T=g.keys?g.keys.length:"values"in g&&g.values?g.values.length:1;return x.numFailures===T?null:(g=r({},g),s(g.keys)&&(g.keys=g.keys.filter(function(P,C){return!(C in x.failures)})),"values"in g&&s(g.values)&&(g.values=g.values.filter(function(P,C){return!(C in x.failures)})),g)}function fm(p,g){return x=p,((T=g).lower===void 0||(T.lowerOpen?0<at(x,T.lower):0<=at(x,T.lower)))&&(p=p,(g=g).upper===void 0||(g.upperOpen?at(p,g.upper)<0:at(p,g.upper)<=0));var x,T}function Zx(p,g,Y,T,P,C){if(!Y||Y.length===0)return p;var I=g.query.index,M=I.multiEntry,F=g.query.range,U=T.schema.primaryKey.extractKey,G=I.extractKey,B=(I.lowLevelIndex||I).extractKey,Y=Y.reduce(function(V,K){var z=V,H=[];if(K.type==="add"||K.type==="put")for(var J=new vn,ne=K.values.length-1;0<=ne;--ne){var oe,le=K.values[ne],me=U(le);J.hasKey(me)||(oe=G(le),(M&&s(oe)?oe.some(function(ve){return fm(ve,F)}):fm(oe,F))&&(J.addKey(me),H.push(le)))}switch(K.type){case"add":var xe=new vn().addKeys(g.values?V.map(function(Oe){return U(Oe)}):V),z=V.concat(g.values?H.filter(function(Oe){return Oe=U(Oe),!xe.hasKey(Oe)&&(xe.addKey(Oe),!0)}):H.map(function(Oe){return U(Oe)}).filter(function(Oe){return!xe.hasKey(Oe)&&(xe.addKey(Oe),!0)}));break;case"put":var fe=new vn().addKeys(K.values.map(function(Oe){return U(Oe)}));z=V.filter(function(Oe){return!fe.hasKey(g.values?U(Oe):Oe)}).concat(g.values?H:H.map(function(Oe){return U(Oe)}));break;case"delete":var ye=new vn().addKeys(K.keys);z=V.filter(function(Oe){return!ye.hasKey(g.values?U(Oe):Oe)});break;case"deleteRange":var we=K.range;z=V.filter(function(Oe){return!fm(U(Oe),we)})}return z},p);return Y===p?p:(Y.sort(function(V,K){return at(B(V),B(K))||at(U(V),U(K))}),g.limit&&g.limit<1/0&&(Y.length>g.limit?Y.length=g.limit:p.length===g.limit&&Y.length<g.limit&&(P.dirty=!0)),C?Object.freeze(Y):Y)}function Qx(p,g){return at(p.lower,g.lower)===0&&at(p.upper,g.upper)===0&&!!p.lowerOpen==!!g.lowerOpen&&!!p.upperOpen==!!g.upperOpen}function j2(p,g){return function(x,T,P,C){if(x===void 0)return T!==void 0?-1:0;if(T===void 0)return 1;if((T=at(x,T))===0){if(P&&C)return 0;if(P)return 1;if(C)return-1}return T}(p.lower,g.lower,p.lowerOpen,g.lowerOpen)<=0&&0<=function(x,T,P,C){if(x===void 0)return T!==void 0?1:0;if(T===void 0)return-1;if((T=at(x,T))===0){if(P&&C)return 0;if(P)return-1;if(C)return 1}return T}(p.upper,g.upper,p.upperOpen,g.upperOpen)}function k2(p,g,x,T){p.subscribers.add(x),T.addEventListener("abort",function(){var P,C;p.subscribers.delete(x),p.subscribers.size===0&&(P=p,C=g,setTimeout(function(){P.subscribers.size===0&&ae(C,P)},3e3))})}var P2={stack:"dbcore",level:0,name:"Cache",create:function(p){var g=p.schema.name;return r(r({},p),{transaction:function(x,T,P){var C,I,M=p.transaction(x,T,P);return T==="readwrite"&&(I=(C=new AbortController).signal,P=function(F){return function(){if(C.abort(),T==="readwrite"){for(var U=new Set,G=0,B=x;G<B.length;G++){var Y=B[G],V=Pa["idb://".concat(g,"/").concat(Y)];if(V){var K=p.table(Y),z=V.optimisticOps.filter(function(Oe){return Oe.trans===M});if(M._explicit&&F&&M.mutatedParts)for(var H=0,J=Object.values(V.queries.query);H<J.length;H++)for(var ne=0,oe=(xe=J[H]).slice();ne<oe.length;ne++)am((fe=oe[ne]).obsSet,M.mutatedParts)&&(ae(xe,fe),fe.subscribers.forEach(function(Oe){return U.add(Oe)}));else if(0<z.length){V.optimisticOps=V.optimisticOps.filter(function(Oe){return Oe.trans!==M});for(var le=0,me=Object.values(V.queries.query);le<me.length;le++)for(var xe,fe,ye,we=0,ve=(xe=me[le]).slice();we<ve.length;we++)(fe=ve[we]).res!=null&&M.mutatedParts&&(F&&!fe.dirty?(ye=Object.isFrozen(fe.res),ye=Zx(fe.res,fe.req,z,K,fe,ye),fe.dirty?(ae(xe,fe),fe.subscribers.forEach(function(Oe){return U.add(Oe)})):ye!==fe.res&&(fe.res=ye,fe.promise=Se.resolve({result:ye}))):(fe.dirty&&ae(xe,fe),fe.subscribers.forEach(function(Oe){return U.add(Oe)})))}}}U.forEach(function(Oe){return Oe()})}}},M.addEventListener("abort",P(!1),{signal:I}),M.addEventListener("error",P(!1),{signal:I}),M.addEventListener("complete",P(!0),{signal:I})),M},table:function(x){var T=p.table(x),P=T.schema.primaryKey;return r(r({},T),{mutate:function(C){var I=Pe.trans;if(P.outbound||I.db._options.cache==="disabled"||I.explicit||I.idbtrans.mode!=="readwrite")return T.mutate(C);var M=Pa["idb://".concat(g,"/").concat(x)];return M?(I=T.mutate(C),C.type!=="add"&&C.type!=="put"||!(50<=C.values.length||dm(P,C).some(function(F){return F==null}))?(M.optimisticOps.push(C),C.mutatedParts&&hd(C.mutatedParts),I.then(function(F){0<F.numFailures&&(ae(M.optimisticOps,C),(F=Jx(0,C,F))&&M.optimisticOps.push(F),C.mutatedParts&&hd(C.mutatedParts))}),I.catch(function(){ae(M.optimisticOps,C),C.mutatedParts&&hd(C.mutatedParts)})):I.then(function(F){var U=Jx(0,r(r({},C),{values:C.values.map(function(G,B){var Y;return F.failures[B]?G:(G=(Y=P.keyPath)!==null&&Y!==void 0&&Y.includes(".")?X(G):r({},G),E(G,P.keyPath,F.results[B]),G)})}),F);M.optimisticOps.push(U),queueMicrotask(function(){return C.mutatedParts&&hd(C.mutatedParts)})}),I):T.mutate(C)},query:function(C){if(!Yx(Pe,T)||!Xx("query",C))return T.query(C);var I=((U=Pe.trans)===null||U===void 0?void 0:U.db._options.cache)==="immutable",B=Pe,M=B.requery,F=B.signal,U=function(K,z,H,J){var ne=Pa["idb://".concat(K,"/").concat(z)];if(!ne)return[];if(!(z=ne.queries[H]))return[null,!1,ne,null];var oe=z[(J.query?J.query.index.name:null)||""];if(!oe)return[null,!1,ne,null];switch(H){case"query":var le=oe.find(function(me){return me.req.limit===J.limit&&me.req.values===J.values&&Qx(me.req.query.range,J.query.range)});return le?[le,!0,ne,oe]:[oe.find(function(me){return("limit"in me.req?me.req.limit:1/0)>=J.limit&&(!J.values||me.req.values)&&j2(me.req.query.range,J.query.range)}),!1,ne,oe];case"count":return le=oe.find(function(me){return Qx(me.req.query.range,J.query.range)}),[le,!!le,ne,oe]}}(g,x,"query",C),G=U[0],B=U[1],Y=U[2],V=U[3];return G&&B?G.obsSet=C.obsSet:(B=T.query(C).then(function(K){var z=K.result;if(G&&(G.res=z),I){for(var H=0,J=z.length;H<J;++H)Object.freeze(z[H]);Object.freeze(z)}else K.result=X(z);return K}).catch(function(K){return V&&G&&ae(V,G),Promise.reject(K)}),G={obsSet:C.obsSet,promise:B,subscribers:new Set,type:"query",req:C,dirty:!1},V?V.push(G):(V=[G],(Y=Y||(Pa["idb://".concat(g,"/").concat(x)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[C.query.index.name||""]=V)),k2(G,V,M,F),G.promise.then(function(K){return{result:Zx(K.result,C,Y==null?void 0:Y.optimisticOps,T,G,I)}})}})}})}};function md(p,g){return new Proxy(p,{get:function(x,T,P){return T==="db"?g:Reflect.get(x,T,P)}})}var ui=(zt.prototype.version=function(p){if(isNaN(p)||p<.1)throw new ie.Type("Given version is not a positive number");if(p=Math.round(10*p)/10,this.idbdb||this._state.isBeingOpened)throw new ie.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,p);var g=this._versions,x=g.filter(function(T){return T._cfg.version===p})[0];return x||(x=new this.Version(p),g.push(x),g.sort(v2),x.stores({}),this._state.autoSchema=!1,x)},zt.prototype._whenReady=function(p){var g=this;return this.idbdb&&(this._state.openComplete||Pe.letThrough||this._vip)?p():new Se(function(x,T){if(g._state.openComplete)return T(new ie.DatabaseClosed(g._state.dbOpenError));if(!g._state.isBeingOpened){if(!g._state.autoOpen)return void T(new ie.DatabaseClosed);g.open().catch(Z)}g._state.dbReadyPromise.then(x,T)}).then(p)},zt.prototype.use=function(p){var g=p.stack,x=p.create,T=p.level,P=p.name;return P&&this.unuse({stack:g,name:P}),p=this._middlewares[g]||(this._middlewares[g]=[]),p.push({stack:g,create:x,level:T??10,name:P}),p.sort(function(C,I){return C.level-I.level}),this},zt.prototype.unuse=function(p){var g=p.stack,x=p.name,T=p.create;return g&&this._middlewares[g]&&(this._middlewares[g]=this._middlewares[g].filter(function(P){return T?P.create!==T:!!x&&P.name!==x})),this},zt.prototype.open=function(){var p=this;return Oa(wr,function(){return S2(p)})},zt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var p=this._state,g=Co.indexOf(this);if(0<=g&&Co.splice(g,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}p.isBeingOpened||(p.dbReadyPromise=new Se(function(x){p.dbReadyResolve=x}),p.openCanceller=new Se(function(x,T){p.cancelOpen=T}))},zt.prototype.close=function(x){var g=(x===void 0?{disableAutoOpen:!0}:x).disableAutoOpen,x=this._state;g?(x.isBeingOpened&&x.cancelOpen(new ie.DatabaseClosed),this._close(),x.autoOpen=!1,x.dbOpenError=new ie.DatabaseClosed):(this._close(),x.autoOpen=this._options.autoOpen||x.isBeingOpened,x.openComplete=!1,x.dbOpenError=null)},zt.prototype.delete=function(p){var g=this;p===void 0&&(p={disableAutoOpen:!0});var x=0<arguments.length&&typeof arguments[0]!="object",T=this._state;return new Se(function(P,C){function I(){g.close(p);var M=g._deps.indexedDB.deleteDatabase(g.name);M.onsuccess=rt(function(){var F,U,G;F=g._deps,U=g.name,G=F.indexedDB,F=F.IDBKeyRange,nm(G)||U===ed||tm(G,F).delete(U).catch(Z),P()}),M.onerror=Kr(C),M.onblocked=g._fireOnBlocked}if(x)throw new ie.InvalidArgument("Invalid closeOptions argument to db.delete()");T.isBeingOpened?T.dbReadyPromise.then(I):I()})},zt.prototype.backendDB=function(){return this.idbdb},zt.prototype.isOpen=function(){return this.idbdb!==null},zt.prototype.hasBeenClosed=function(){var p=this._state.dbOpenError;return p&&p.name==="DatabaseClosed"},zt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},zt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(zt.prototype,"tables",{get:function(){var p=this;return o(this._allTables).map(function(g){return p._allTables[g]})},enumerable:!1,configurable:!0}),zt.prototype.transaction=function(){var p=(function(g,x,T){var P=arguments.length;if(P<2)throw new ie.InvalidArgument("Too few arguments");for(var C=new Array(P-1);--P;)C[P-1]=arguments[P];return T=C.pop(),[g,q(C),T]}).apply(this,arguments);return this._transaction.apply(this,p)},zt.prototype._transaction=function(p,g,x){var T=this,P=Pe.trans;P&&P.db===this&&p.indexOf("!")===-1||(P=null);var C,I,M=p.indexOf("?")!==-1;p=p.replace("!","").replace("?","");try{if(I=g.map(function(U){if(U=U instanceof T.Table?U.name:U,typeof U!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return U}),p=="r"||p===Kp)C=Kp;else{if(p!="rw"&&p!=zp)throw new ie.InvalidArgument("Invalid transaction mode: "+p);C=zp}if(P){if(P.mode===Kp&&C===zp){if(!M)throw new ie.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");P=null}P&&I.forEach(function(U){if(P&&P.storeNames.indexOf(U)===-1){if(!M)throw new ie.SubTransaction("Table "+U+" not included in parent transaction.");P=null}}),M&&P&&!P.active&&(P=null)}}catch(U){return P?P._promise(null,function(G,B){B(U)}):Kt(U)}var F=(function U(G,B,Y,V,K){return Se.resolve().then(function(){var z=Pe.transless||Pe,H=G._createTransaction(B,Y,G._dbSchema,V);if(H.explicit=!0,z={trans:H,transless:z},V)H.idbtrans=V.idbtrans;else try{H.create(),H.idbtrans._explicit=!0,G._state.PR1398_maxLoop=3}catch(oe){return oe.name===be.InvalidState&&G.isOpen()&&0<--G._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),G.close({disableAutoOpen:!1}),G.open().then(function(){return U(G,B,Y,null,K)})):Kt(oe)}var J,ne=_e(K);return ne&&Eo(),z=Se.follow(function(){var oe;(J=K.call(H,H))&&(ne?(oe=Li.bind(null,null),J.then(oe,oe)):typeof J.next=="function"&&typeof J.throw=="function"&&(J=lm(J)))},z),(J&&typeof J.then=="function"?Se.resolve(J).then(function(oe){return H.active?oe:Kt(new ie.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):z.then(function(){return J})).then(function(oe){return V&&H._resolve(),H._completion.then(function(){return oe})}).catch(function(oe){return H._reject(oe),Kt(oe)})})}).bind(null,this,C,I,P,x);return P?P._promise(C,F,"lock"):Pe.trans?Oa(Pe.transless,function(){return T._whenReady(F)}):this._whenReady(F)},zt.prototype.table=function(p){if(!d(this._allTables,p))throw new ie.InvalidTable("Table ".concat(p," does not exist"));return this._allTables[p]},zt);function zt(p,g){var x=this;this._middlewares={},this.verno=0;var T=zt.dependencies;this._options=g=r({addons:zt.addons,autoOpen:!0,indexedDB:T.indexedDB,IDBKeyRange:T.IDBKeyRange,cache:"cloned"},g),this._deps={indexedDB:g.indexedDB,IDBKeyRange:g.IDBKeyRange},T=g.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var P,C,I,M,F,U={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Z,dbReadyPromise:null,cancelOpen:Z,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:g.autoOpen};U.dbReadyPromise=new Se(function(B){U.dbReadyResolve=B}),U.openCanceller=new Se(function(B,Y){U.cancelOpen=Y}),this._state=U,this.name=p,this.on=$c(this,"populate","blocked","versionchange","close",{ready:[xr,Z]}),this.once=function(B,Y){var V=function(){for(var K=[],z=0;z<arguments.length;z++)K[z]=arguments[z];x.on(B).unsubscribe(V),Y.apply(x,K)};return x.on(B,V)},this.on.ready.subscribe=S(this.on.ready.subscribe,function(B){return function(Y,V){zt.vip(function(){var K,z=x._state;z.openComplete?(z.dbOpenError||Se.resolve().then(Y),V&&B(Y)):z.onReadyBeingFired?(z.onReadyBeingFired.push(Y),V&&B(Y)):(B(Y),K=x,V||B(function H(){K.on.ready.unsubscribe(Y),K.on.ready.unsubscribe(H)}))})}}),this.Collection=(P=this,Ic(d2.prototype,function(J,H){this.db=P;var V=kx,K=null;if(H)try{V=H()}catch(ne){K=ne}var z=J._ctx,H=z.table,J=H.hook.reading.fire;this._ctx={table:H,index:z.index,isPrimKey:!z.index||H.schema.primKey.keyPath&&z.index===H.schema.primKey.name,range:V,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:K,or:z.or,valueMapper:J!==et?J:null}})),this.Table=(C=this,Ic(Ix.prototype,function(B,Y,V){this.db=C,this._tx=V,this.name=B,this.schema=Y,this.hook=C._allTables[B]?C._allTables[B].hook:$c(null,{creating:[vt,Z],reading:[qe,et],updating:[Rn,Z],deleting:[Bt,Z]})})),this.Transaction=(I=this,Ic(p2.prototype,function(B,Y,V,K,z){var H=this;B!=="readonly"&&Y.forEach(function(J){J=(J=V[J])===null||J===void 0?void 0:J.yProps,J&&(Y=Y.concat(J.map(function(ne){return ne.updatesTable})))}),this.db=I,this.mode=B,this.storeNames=Y,this.schema=V,this.chromeTransactionDurability=K,this.idbtrans=null,this.on=$c(this,"complete","error","abort"),this.parent=z||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Se(function(J,ne){H._resolve=J,H._reject=ne}),this._completion.then(function(){H.active=!1,H.on.complete.fire()},function(J){var ne=H.active;return H.active=!1,H.on.error.fire(J),H.parent?H.parent._reject(J):ne&&H.idbtrans&&H.idbtrans.abort(),Kt(J)})})),this.Version=(M=this,Ic(w2.prototype,function(B){this.db=M,this._cfg={version:B,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(F=this,Ic(Bx.prototype,function(B,Y,V){if(this.db=F,this._ctx={table:B,index:Y===":id"?null:Y,or:V},this._cmp=this._ascending=at,this._descending=function(K,z){return at(z,K)},this._max=function(K,z){return 0<at(K,z)?K:z},this._min=function(K,z){return at(K,z)<0?K:z},this._IDBKeyRange=F._deps.IDBKeyRange,!this._IDBKeyRange)throw new ie.MissingAPI})),this.on("versionchange",function(B){0<B.newVersion?console.warn("Another connection wants to upgrade database '".concat(x.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(x.name,"'. Closing db now to resume the delete request.")),x.close({disableAutoOpen:!1})}),this.on("blocked",function(B){!B.newVersion||B.newVersion<B.oldVersion?console.warn("Dexie.delete('".concat(x.name,"') was blocked")):console.warn("Upgrade '".concat(x.name,"' blocked by other connection holding version ").concat(B.oldVersion/10))}),this._maxKey=Mc(g.IDBKeyRange),this._createTransaction=function(B,Y,V,K){return new x.Transaction(B,Y,V,x._options.chromeTransactionDurability,K)},this._fireOnBlocked=function(B){x.on("blocked").fire(B),Co.filter(function(Y){return Y.name===x.name&&Y!==x&&!Y._state.vcFired}).map(function(Y){return Y.on("versionchange").fire(B)})},this.use(T2),this.use(P2),this.use(O2),this.use(_2),this.use(A2);var G=new Proxy(this,{get:function(B,Y,V){if(Y==="_vip")return!0;if(Y==="table")return function(z){return md(x.table(z),G)};var K=Reflect.get(B,Y,V);return K instanceof Ix?md(K,G):Y==="tables"?K.map(function(z){return md(z,G)}):Y==="_createTransaction"?function(){return md(K.apply(this,arguments),G)}:K}});this.vip=G,T.forEach(function(B){return B(x)})}var gd,ar=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",E2=(hm.prototype.subscribe=function(p,g,x){return this._subscribe(p&&typeof p!="function"?p:{next:p,error:g,complete:x})},hm.prototype[ar]=function(){return this},hm);function hm(p){this._subscribe=p}try{gd={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{gd={indexedDB:null,IDBKeyRange:null}}function ew(p){var g,x=!1,T=new E2(function(P){var C=_e(p),I,M=!1,F={},U={},G={get closed(){return M},unsubscribe:function(){M||(M=!0,I&&I.abort(),B&&Ui.storagemutated.unsubscribe(V))}};P.start&&P.start(G);var B=!1,Y=function(){return qp(K)},V=function(z){fd(F,z),am(U,F)&&Y()},K=function(){var z,H,J;!M&&gd.indexedDB&&(F={},z={},I&&I.abort(),I=new AbortController,J=function(ne){var oe=on();try{C&&Eo();var le=Mi(p,ne);return le=C?le.finally(Li):le}finally{oe&&sn()}}(H={subscr:z,signal:I.signal,requery:Y,querier:p,trans:null}),Promise.resolve(J).then(function(ne){x=!0,g=ne,M||H.signal.aborted||(F={},function(oe){for(var le in oe)if(d(oe,le))return;return 1}(U=z)||B||(Ui(Dc,V),B=!0),qp(function(){return!M&&P.next&&P.next(ne)}))},function(ne){x=!1,["DatabaseClosedError","AbortError"].includes(ne==null?void 0:ne.name)||M||qp(function(){M||P.error&&P.error(ne)})}))};return setTimeout(Y,0),G});return T.hasValue=function(){return x},T.getValue=function(){return g},T}var Ea=ui;function pm(p){var g=Vi;try{Vi=!0,Ui.storagemutated.fire(p),cm(p,!0)}finally{Vi=g}}h(Ea,r(r({},Ae),{delete:function(p){return new Ea(p,{addons:[]}).delete()},exists:function(p){return new Ea(p,{addons:[]}).open().then(function(g){return g.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(p){try{return g=Ea.dependencies,x=g.indexedDB,g=g.IDBKeyRange,(nm(x)?Promise.resolve(x.databases()).then(function(T){return T.map(function(P){return P.name}).filter(function(P){return P!==ed})}):tm(x,g).toCollection().primaryKeys()).then(p)}catch{return Kt(new ie.MissingAPI)}var g,x},defineClass:function(){return function(p){c(this,p)}},ignoreTransaction:function(p){return Pe.trans?Oa(Pe.transless,p):p()},vip:rm,async:function(p){return function(){try{var g=lm(p.apply(this,arguments));return g&&typeof g.then=="function"?g:Se.resolve(g)}catch(x){return Kt(x)}}},spawn:function(p,g,x){try{var T=lm(p.apply(x,g||[]));return T&&typeof T.then=="function"?T:Se.resolve(T)}catch(P){return Kt(P)}},currentTransaction:{get:function(){return Pe.trans||null}},waitFor:function(p,g){return g=Se.resolve(typeof p=="function"?Ea.ignoreTransaction(p):p).timeout(g||6e4),Pe.trans?Pe.trans.waitFor(g):g},Promise:Se,debug:{get:function(){return Nt},set:function(p){Fn(p)}},derive:v,extend:c,props:h,override:S,Events:$c,on:Ui,liveQuery:ew,extendObservabilitySet:fd,getByKeyPath:j,setByKeyPath:E,delByKeyPath:function(p,g){typeof g=="string"?E(p,g,void 0):"length"in g&&[].map.call(g,function(x){E(p,x,void 0)})},shallowClone:N,deepClone:X,getObjectDiff:um,cmp:at,asap:A,minKey:-1/0,addons:[],connections:Co,errnames:be,dependencies:gd,cache:Pa,semVer:"4.2.1",version:"4.2.1".split(".").map(function(p){return parseInt(p)}).reduce(function(p,g,x){return p+g/Math.pow(10,2*x)})})),Ea.maxKey=Mc(Ea.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ui(Dc,function(p){Vi||(p=new CustomEvent(Hp,{detail:p}),Vi=!0,dispatchEvent(p),Vi=!1)}),addEventListener(Hp,function(p){p=p.detail,Vi||pm(p)}));var Ro,Vi=!1,tw=function(){};return typeof BroadcastChannel<"u"&&((tw=function(){(Ro=new BroadcastChannel(Hp)).onmessage=function(p){return p.data&&pm(p.data)}})(),typeof Ro.unref=="function"&&Ro.unref(),Ui(Dc,function(p){Vi||Ro.postMessage(p)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(p){if(!ui.disableBfCache&&p.persisted){Nt&&console.debug("Dexie: handling persisted pagehide"),Ro!=null&&Ro.close();for(var g=0,x=Co;g<x.length;g++)x[g].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(p){!ui.disableBfCache&&p.persisted&&(Nt&&console.debug("Dexie: handling persisted pageshow"),tw(),pm({all:new vn(-1/0,[[]])}))})),Se.rejectionMapper=function(p,g){return!p||p instanceof pe||p instanceof TypeError||p instanceof SyntaxError||!p.name||!Te[p.name]?p:(g=new Te[p.name](g||p.message,p),"stack"in p&&y(g,"stack",{get:function(){return this.inner.stack}}),g)},Fn(Nt),r(ui,Object.freeze({__proto__:null,Dexie:ui,liveQuery:ew,Entity:Px,cmp:at,PropModification:Nc,replacePrefix:function(p,g){return new Nc({replacePrefix:[p,g]})},add:function(p){return new Nc({add:p})},remove:function(p){return new Nc({remove:p})},default:ui,RangeSet:vn,mergeRanges:Fc,rangesOverlap:Kx}),{default:ui}),ui})})(oE);var p8=oE.exports;const uy=gt(p8),hS=Symbol.for("Dexie"),dy=globalThis[hS]||(globalThis[hS]=uy);if(uy.semVer!==dy.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${uy.semVer} and ${dy.semVer}`);class m8 extends dy{constructor(){super("kopimaster");pt(this,"transactions");pt(this,"accounts");pt(this,"savingsGoals");pt(this,"budgets");pt(this,"recurringTransactions");pt(this,"userAchievements");pt(this,"userStats");pt(this,"syncQueue");pt(this,"bankConnections");this.version(1).stores({transactions:"id, userId, type, category, date, accountId, isSynced",accounts:"id, userId, type, isDefault",savingsGoals:"id, userId",budgets:"id, userId, category",recurringTransactions:"id, userId, nextOccurrence, isActive",userAchievements:"id, [userId+achievementId]",userStats:"userId",syncQueue:"id, userId, synced, tableName"}),this.version(2).stores({transactions:"id, userId, type, category, date, accountId, isSynced, bankTransactionId",accounts:"id, userId, type, isDefault, bankConnectionId",savingsGoals:"id, userId",budgets:"id, userId, category",recurringTransactions:"id, userId, nextOccurrence, isActive",userAchievements:"id, [userId+achievementId]",userStats:"userId",syncQueue:"id, userId, synced, tableName",bankConnections:"id, userId, provider, status"})}}const Be=new m8;async function yf(){return Be.syncQueue.where("synced").equals(0).toArray()}async function sE(t){await Be.syncQueue.update(t,{synced:!0,syncedAt:new Date().toISOString()})}async function rn(t){const e=crypto.randomUUID();return await Be.syncQueue.add({...t,id:e,synced:!1,createdAt:new Date().toISOString()}),e}class g8{constructor(){pt(this,"isOnline",typeof navigator<"u"?navigator.onLine:!0);pt(this,"isSyncing",!1);pt(this,"syncInterval",null);pt(this,"listeners",new Map);pt(this,"handleOnline",()=>{this.isOnline=!0,this.emit("online"),this.sync()});pt(this,"handleOffline",()=>{this.isOnline=!1,this.emit("offline")});typeof window<"u"&&(window.addEventListener("online",this.handleOnline),window.addEventListener("offline",this.handleOffline),this.startPeriodicSync())}on(e,n){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(n),()=>{var r;(r=this.listeners.get(e))==null||r.delete(n)}}emit(e,n){var r;(r=this.listeners.get(e))==null||r.forEach(i=>i(n))}getOnlineStatus(){return this.isOnline}getSyncingStatus(){return this.isSyncing}startPeriodicSync(){this.syncInterval=setInterval(()=>{this.isOnline&&!this.isSyncing&&this.sync()},3e4)}async sync(){if(!this.isOnline||this.isSyncing||!lt())return{success:!1,syncedCount:0};this.isSyncing=!0,this.emit("sync-start");try{const e=await yf();let n=0;for(const r of e)try{await this.syncItem(r),await sE(r.id),n++}catch(i){console.error(`Failed to sync item ${r.id}:`,i)}return this.isSyncing=!1,this.emit("sync-complete",{syncedCount:n}),{success:!0,syncedCount:n}}catch(e){this.isSyncing=!1;const n=e.message;return this.emit("sync-error",{error:n}),{success:!1,syncedCount:0,error:n}}}async syncItem(e){const r={transactions:"transactions",accounts:"accounts",savings_goals:"savings_goals",budgets:"budgets",recurring_transactions:"recurring_transactions",user_achievements:"user_achievements",user_stats:"user_stats"}[e.tableName];if(!r){console.warn(`Unknown table: ${e.tableName}`);return}const i=this.transformToSnakeCase(e.payload);switch(e.operation){case"insert":const{error:a}=await Ye.from(r).insert(i);if(a)throw a;break;case"update":const{error:o}=await Ye.from(r).update(i).eq("id",e.recordId);if(o)throw o;break;case"delete":const{error:s}=await Ye.from(r).delete().eq("id",e.recordId);if(s)throw s;break}}transformToSnakeCase(e){const n={};for(const[r,i]of Object.entries(e)){const a=r.replace(/[A-Z]/g,o=>`_${o.toLowerCase()}`);n[a]=i}return n}async getPendingCount(){return(await yf()).length}async clearSyncQueue(){await Be.syncQueue.clear()}destroy(){typeof window<"u"&&(window.removeEventListener("online",this.handleOnline),window.removeEventListener("offline",this.handleOffline)),this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),this.listeners.clear()}}const zi=new g8;function y8(){const{t}=it(),[e,n]=O.useState(zi.getOnlineStatus()),[r,i]=O.useState(!1),[a,o]=O.useState(0),[s,c]=O.useState(!1);O.useEffect(()=>{const d=zi.on("online",()=>{n(!0)}),h=zi.on("offline",()=>{n(!1)}),m=zi.on("sync-start",()=>{i(!0)}),y=zi.on("sync-complete",w=>{i(!1),w!=null&&w.syncedCount&&w.syncedCount>0&&(c(!0),setTimeout(()=>c(!1),3e3)),l()}),v=zi.on("sync-error",()=>{i(!1)});l();const b=setInterval(l,1e4);return()=>{d(),h(),m(),y(),v(),clearInterval(b)}},[]);const l=async()=>{const d=await zi.getPendingCount();o(d)},u=()=>{e&&!r&&zi.sync()};return e&&a===0&&!s?null:f.jsxs("div",{className:"fixed bottom-4 right-4 z-40 flex items-center gap-2",children:[s&&f.jsxs(fs,{variant:"outline",className:"animate-in fade-in slide-in-from-right-2 border-green-500/50 bg-green-500/10 text-green-500",children:[f.jsx(hD,{className:"mr-1 h-3 w-3"}),t("pwa.synced")]}),a>0&&e&&f.jsxs(lL,{children:[f.jsx(uL,{asChild:!0,children:f.jsxs(Re,{variant:"outline",size:"sm",onClick:u,disabled:r,className:"gap-2",children:[f.jsx(tf,{className:`h-4 w-4 ${r?"animate-spin":""}`}),a]})}),f.jsx(qj,{children:r?t("pwa.syncing"):t("pwa.pendingSync",{count:a})})]}),!e&&f.jsxs(fs,{variant:"outline",className:"animate-pulse border-yellow-500/50 bg-yellow-500/10 text-yellow-500",children:[f.jsx(kD,{className:"mr-1 h-3 w-3"}),t("pwa.offline"),a>0&&f.jsxs("span",{className:"ml-1",children:["(",a,")"]})]})]})}const v8="modulepreload",b8=function(t){return"/"+t},pS={},x8=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=b8(c),c in pS)return;pS[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":v8,l||(d.as="script"),d.crossOrigin="",d.href=c,s&&d.setAttribute("nonce",s),document.head.appendChild(d),l)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})};function w8(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:a,onRegisterError:o}=t;let s,c;const l=async(d=!0)=>{await c};async function u(){if("serviceWorker"in navigator){if(s=await x8(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:d}},[]).then(({Workbox:d})=>new d("/sw.js",{scope:"/",type:"classic"})).catch(d=>{o==null||o(d)}),!s)return;s.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),s.addEventListener("installed",d=>{d.isUpdate||r==null||r()}),s.register({immediate:e}).then(d=>{a?a("/sw.js",d):i==null||i(d)}).catch(d=>{o==null||o(d)})}}return c=u(),l}function S8(t={}){const{immediate:e=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:a,onRegisterError:o}=t,[s,c]=O.useState(!1),[l,u]=O.useState(!1),[d]=O.useState(()=>w8({immediate:e,onOfflineReady(){u(!0),r==null||r()},onNeedRefresh(){c(!0),n==null||n()},onRegistered:i,onRegisteredSW:a,onRegisterError:o}));return{needRefresh:[s,c],offlineReady:[l,u],updateServiceWorker:d}}function _8(){const[t,e]=O.useState({needRefresh:!1,offlineReady:!1,isUpdateAvailable:!1}),{needRefresh:[n,r],offlineReady:[i,a],updateServiceWorker:o}=S8({onRegistered(u){console.log("SW registered:",u),u&&setInterval(()=>{u.update()},60*60*1e3)},onRegisterError(u){console.error("SW registration error:",u)},onNeedRefresh(){e(u=>({...u,needRefresh:!0,isUpdateAvailable:!0}))},onOfflineReady(){e(u=>({...u,offlineReady:!0}))}});O.useEffect(()=>{e(u=>({...u,needRefresh:n,offlineReady:i}))},[n,i]);const s=O.useCallback(()=>{o(!0),r(!1),e(u=>({...u,needRefresh:!1,isUpdateAvailable:!1}))},[o,r]),c=O.useCallback(()=>{r(!1),e(u=>({...u,needRefresh:!1}))},[r]),l=O.useCallback(()=>{a(!1),e(u=>({...u,offlineReady:!1}))},[a]);return{...t,acceptUpdate:s,dismissUpdate:c,dismissOfflineReady:l}}function A8(){const{t}=it(),{needRefresh:e,offlineReady:n,acceptUpdate:r,dismissUpdate:i,dismissOfflineReady:a}=_8();return n?f.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 animate-in slide-in-from-bottom-4 md:left-auto md:right-4 md:max-w-sm",children:f.jsx($t,{className:"border-green-500/20 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80",children:f.jsxs(It,{className:"flex items-center gap-3 p-4",children:[f.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-green-500/10",children:f.jsx("span",{className:"text-xl",children:""})}),f.jsx("div",{className:"flex-1",children:f.jsx("p",{className:"text-sm font-medium",children:t("pwa.offlineReady")})}),f.jsx(Re,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:a,children:f.jsx(Qn,{className:"h-4 w-4"})})]})})}):e?f.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 animate-in slide-in-from-bottom-4 md:left-auto md:right-4 md:max-w-sm",children:f.jsx($t,{className:"border-primary/20 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80",children:f.jsx(It,{className:"p-4",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary/10",children:f.jsx(tf,{className:"h-5 w-5 text-primary"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-semibold",children:t("pwa.updateTitle")}),f.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:t("pwa.updateDescription")}),f.jsxs("div",{className:"mt-3 flex gap-2",children:[f.jsxs(Re,{size:"sm",onClick:r,children:[f.jsx(tf,{className:"mr-2 h-4 w-4"}),t("pwa.update")]}),f.jsx(Re,{size:"sm",variant:"ghost",onClick:i,children:t("pwa.later")})]})]}),f.jsx(Re,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:i,children:f.jsx(Qn,{className:"h-4 w-4"})})]})})})}):null}const mS=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(m=>m(e,h))}},i=()=>e,s={setState:r,getState:i,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,i,s);return s},T8=t=>t?mS(t):mS,O8=t=>t;function j8(t,e=O8){const n=$.useSyncExternalStore(t.subscribe,$.useCallback(()=>e(t.getState()),[t,e]),$.useCallback(()=>e(t.getInitialState()),[t,e]));return $.useDebugValue(n),n}const gS=t=>{const e=T8(t),n=r=>j8(e,r);return Object.assign(n,e),n},pa=t=>t?gS(t):gS;function k8(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var a;const o=c=>c===null?null:JSON.parse(c,void 0),s=(a=n.getItem(i))!=null?a:null;return s instanceof Promise?s.then(o):o(s)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const fy=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return fy(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return fy(r)(n)}}}},P8=(t,e)=>(n,r,i)=>{let a={storage:k8(()=>localStorage),partialize:b=>b,version:0,merge:(b,w)=>({...w,...b}),...e},o=!1,s=0;const c=new Set,l=new Set;let u=a.storage;if(!u)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...b)},r,i);const d=()=>{const b=a.partialize({...r()});return u.setItem(a.name,{state:b,version:a.version})},h=i.setState;i.setState=(b,w)=>(h(b,w),d());const m=t((...b)=>(n(...b),d()),r,i);i.getInitialState=()=>m;let y;const v=()=>{var b,w;if(!u)return;const _=++s;o=!1,c.forEach(k=>{var A;return k((A=r())!=null?A:m)});const S=((w=a.onRehydrateStorage)==null?void 0:w.call(a,(b=r())!=null?b:m))||void 0;return fy(u.getItem.bind(u))(a.name).then(k=>{if(k)if(typeof k.version=="number"&&k.version!==a.version){if(a.migrate){const A=a.migrate(k.state,k.version);return A instanceof Promise?A.then(j=>[!0,j]):[!0,A]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,k.state];return[!1,void 0]}).then(k=>{var A;if(_!==s)return;const[j,E]=k;if(y=a.merge(E,(A=r())!=null?A:m),n(y,!0),j)return d()}).then(()=>{_===s&&(S==null||S(y,void 0),y=r(),o=!0,l.forEach(k=>k(y)))}).catch(k=>{_===s&&(S==null||S(void 0,k))})};return i.persist={setOptions:b=>{a={...a,...b},b.storage&&(u=b.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:b=>(c.add(b),()=>{c.delete(b)}),onFinishHydration:b=>(l.add(b),()=>{l.delete(b)})},a.skipHydration||v(),y||m},So=P8,E8={checking:"",savings:"",credit:"",investment:"",cash:""},C8={checking:"hsl(200 80% 50%)",savings:"hsl(160 84% 39%)",credit:"hsl(0 72% 51%)",investment:"hsl(280 80% 55%)",cash:"hsl(45 90% 50%)"},Zd=pa()(So((t,e)=>({accounts:[],selectedAccountId:null,isLoading:!1,error:null,setAccounts:n=>t({accounts:n}),addAccount:async n=>{const r=crypto.randomUUID(),i=new Date().toISOString(),a={...n,id:r,icon:n.icon||E8[n.type],color:n.color||C8[n.type],createdAt:i,updatedAt:i};if(t(o=>({accounts:[...o.accounts,a]})),await Be.accounts.add(a),lt()){const{error:o}=await Ye.from("accounts").insert({id:a.id,user_id:a.userId,name:a.name,type:a.type,currency:a.currency,balance:a.balance,icon:a.icon,color:a.color,is_default:a.isDefault});o&&await rn({userId:a.userId,tableName:"accounts",operation:"insert",recordId:r,payload:a})}return a},updateAccount:async(n,r)=>{const i=e().accounts.find(o=>o.id===n);if(!i)return;const a={...i,...r,updatedAt:new Date().toISOString()};if(t(o=>({accounts:o.accounts.map(s=>s.id===n?a:s)})),await Be.accounts.update(n,a),lt()){const{error:o}=await Ye.from("accounts").update({name:a.name,type:a.type,currency:a.currency,balance:a.balance,icon:a.icon,color:a.color,is_default:a.isDefault,updated_at:a.updatedAt}).eq("id",n);o&&await rn({userId:i.userId,tableName:"accounts",operation:"update",recordId:n,payload:r})}},deleteAccount:async n=>{const r=e().accounts.find(i=>i.id===n);if(r&&(t(i=>({accounts:i.accounts.filter(a=>a.id!==n),selectedAccountId:i.selectedAccountId===n?null:i.selectedAccountId})),await Be.accounts.delete(n),lt())){const{error:i}=await Ye.from("accounts").delete().eq("id",n);i&&await rn({userId:r.userId,tableName:"accounts",operation:"delete",recordId:n,payload:{id:n}})}},setSelectedAccount:n=>t({selectedAccountId:n}),setDefaultAccount:async n=>{var o;const r=e().accounts,i=(o=r.find(s=>s.id===n))==null?void 0:o.userId;if(!i)return;const a=r.map(s=>({...s,isDefault:s.userId===i?s.id===n:s.isDefault}));t({accounts:a});for(const s of a.filter(c=>c.userId===i))await Be.accounts.update(s.id,{isDefault:s.isDefault});lt()&&(await Ye.from("accounts").update({is_default:!1}).eq("user_id",i),await Ye.from("accounts").update({is_default:!0}).eq("id",n))},loadAccounts:async n=>{t({isLoading:!0,error:null});try{if(lt()){const{data:i,error:a}=await Ye.from("accounts").select("*").eq("user_id",n);if(!a&&i){const o=i.map(s=>({id:s.id,userId:s.user_id,name:s.name,type:s.type,currency:s.currency,balance:parseFloat(s.balance),icon:s.icon,color:s.color,isDefault:s.is_default,bankConnectionId:s.bank_connection_id,externalAccountId:s.external_account_id,createdAt:s.created_at,updatedAt:s.updated_at}));t({accounts:o,isLoading:!1}),await Be.accounts.bulkPut(o);return}}const r=await Be.accounts.where("userId").equals(n).toArray();t({accounts:r,isLoading:!1})}catch(r){t({error:r.message,isLoading:!1})}},transferBetweenAccounts:async(n,r,i)=>{const a=e().accounts.find(s=>s.id===n),o=e().accounts.find(s=>s.id===r);!a||!o||a.balance<i||(await e().updateAccount(n,{balance:a.balance-i}),await e().updateAccount(r,{balance:o.balance+i}))},getDefaultAccount:()=>e().accounts.find(n=>n.isDefault),getAccountById:n=>e().accounts.find(r=>r.id===n),getTotalBalance:()=>e().accounts.reduce((n,r)=>{const i=r.type==="credit"?-1:1;return n+r.balance*i},0),getAccountsByType:n=>e().accounts.filter(r=>r.type===n)}),{name:"kopimaster-accounts",partialize:t=>({accounts:t.accounts,selectedAccountId:t.selectedAccountId})})),dc=pa()(So((t,e)=>({transactions:[],isLoading:!1,error:null,setTransactions:n=>t({transactions:n}),addTransaction:async n=>{const r=crypto.randomUUID(),i=new Date().toISOString(),a={...n,id:r,createdAt:i,isSynced:!1};if(t(o=>({transactions:[a,...o.transactions]})),await Be.transactions.add(a),lt()&&n.userId){const{error:o}=await Ye.from("transactions").insert({id:a.id,user_id:n.userId,type:a.type,category:a.category,amount:a.amount,description:a.description,date:a.date,account_id:a.accountId,mcc_code:a.mccCode,bank_transaction_id:a.bankTransactionId});o?await rn({userId:n.userId,tableName:"transactions",operation:"insert",recordId:r,payload:a}):(t(s=>({transactions:s.transactions.map(c=>c.id===r?{...c,isSynced:!0}:c)})),await Be.transactions.update(r,{isSynced:!0}))}return a},updateTransaction:async(n,r)=>{const i=e().transactions.find(o=>o.id===n);if(!i)return;const a={...i,...r,updatedAt:new Date().toISOString(),isSynced:!1};if(t(o=>({transactions:o.transactions.map(s=>s.id===n?a:s)})),await Be.transactions.update(n,a),lt()&&i.userId){const{error:o}=await Ye.from("transactions").update({type:a.type,category:a.category,amount:a.amount,description:a.description,date:a.date,account_id:a.accountId}).eq("id",n);o?await rn({userId:i.userId,tableName:"transactions",operation:"update",recordId:n,payload:r}):(t(s=>({transactions:s.transactions.map(c=>c.id===n?{...c,isSynced:!0}:c)})),await Be.transactions.update(n,{isSynced:!0}))}},deleteTransaction:async n=>{const r=e().transactions.find(i=>i.id===n);if(r&&(t(i=>({transactions:i.transactions.filter(a=>a.id!==n)})),await Be.transactions.delete(n),lt()&&r.userId)){const{error:i}=await Ye.from("transactions").delete().eq("id",n);i&&await rn({userId:r.userId,tableName:"transactions",operation:"delete",recordId:n,payload:{id:n}})}},loadTransactions:async n=>{t({isLoading:!0,error:null});try{if(lt()){const{data:i,error:a}=await Ye.from("transactions").select("*").eq("user_id",n).order("date",{ascending:!1});if(!a&&i){const o=i.map(s=>({id:s.id,userId:s.user_id,type:s.type,category:s.category,amount:parseFloat(s.amount),description:s.description||"",date:s.date,createdAt:s.created_at,accountId:s.account_id,mccCode:s.mcc_code,bankTransactionId:s.bank_transaction_id,isSynced:!0}));t({transactions:o,isLoading:!1}),await Be.transactions.bulkPut(o);return}}const r=await Be.transactions.where("userId").equals(n).reverse().sortBy("date");t({transactions:r,isLoading:!1})}catch(r){t({error:r.message,isLoading:!1})}},getTransactionsByAccount:n=>e().transactions.filter(r=>r.accountId===n),getTransactionsByCategory:n=>e().transactions.filter(r=>r.category===n),getTransactionsByDateRange:(n,r)=>e().transactions.filter(i=>{const a=new Date(i.date);return a>=n&&a<=r}),getMonthlyTransactions:(n,r)=>e().transactions.filter(i=>{const a=new Date(i.date);return a.getFullYear()===n&&a.getMonth()===r}),getTotalIncome:()=>e().transactions.filter(n=>n.type==="income").reduce((n,r)=>n+r.amount,0),getTotalExpense:()=>e().transactions.filter(n=>n.type==="expense").reduce((n,r)=>n+r.amount,0),getBalance:()=>e().getTotalIncome()-e().getTotalExpense(),getMonthlyIncome:()=>{const n=new Date;return e().getMonthlyTransactions(n.getFullYear(),n.getMonth()).filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0)},getMonthlyExpense:()=>{const n=new Date;return e().getMonthlyTransactions(n.getFullYear(),n.getMonth()).filter(r=>r.type==="expense").reduce((r,i)=>r+i.amount,0)},getExpensesByCategory:()=>{const n=new Date;return e().getMonthlyTransactions(n.getFullYear(),n.getMonth()).filter(r=>r.type==="expense").reduce((r,i)=>(r[i.category]=(r[i.category]||0)+i.amount,r),{})}}),{name:"kopimaster-transactions",partialize:t=>({transactions:t.transactions})})),t0=pa()(So((t,e)=>({goals:[],isLoading:!1,error:null,setGoals:n=>t({goals:n}),addGoal:async n=>{const r=crypto.randomUUID(),i=new Date().toISOString(),a={...n,id:r,createdAt:i};if(t(o=>({goals:[...o.goals,a]})),await Be.savingsGoals.add(a),lt()&&n.userId){const{error:o}=await Ye.from("savings_goals").insert({id:a.id,user_id:n.userId,name:a.name,target_amount:a.targetAmount,current_amount:a.currentAmount,icon:a.icon,color:a.color});o&&await rn({userId:n.userId,tableName:"savings_goals",operation:"insert",recordId:r,payload:a})}return a},updateGoal:async(n,r)=>{const i=e().goals.find(o=>o.id===n);if(!i)return;const a={...i,...r};if(a.currentAmount>=a.targetAmount&&!a.completedAt&&(a.completedAt=new Date().toISOString()),t(o=>({goals:o.goals.map(s=>s.id===n?a:s)})),await Be.savingsGoals.update(n,a),lt()&&i.userId){const{error:o}=await Ye.from("savings_goals").update({name:a.name,target_amount:a.targetAmount,current_amount:a.currentAmount,icon:a.icon,color:a.color,completed_at:a.completedAt}).eq("id",n);o&&await rn({userId:i.userId,tableName:"savings_goals",operation:"update",recordId:n,payload:r})}},deleteGoal:async n=>{const r=e().goals.find(i=>i.id===n);if(r&&(t(i=>({goals:i.goals.filter(a=>a.id!==n)})),await Be.savingsGoals.delete(n),lt()&&r.userId)){const{error:i}=await Ye.from("savings_goals").delete().eq("id",n);i&&await rn({userId:r.userId,tableName:"savings_goals",operation:"delete",recordId:n,payload:{id:n}})}},addToGoal:async(n,r)=>{const i=e().goals.find(o=>o.id===n);if(!i)return;const a=Math.min(i.currentAmount+r,i.targetAmount);await e().updateGoal(n,{currentAmount:a})},loadGoals:async n=>{t({isLoading:!0,error:null});try{if(lt()){const{data:i,error:a}=await Ye.from("savings_goals").select("*").eq("user_id",n);if(!a&&i){const o=i.map(s=>({id:s.id,userId:s.user_id,name:s.name,targetAmount:parseFloat(s.target_amount),currentAmount:parseFloat(s.current_amount),icon:s.icon,color:s.color,createdAt:s.created_at,completedAt:s.completed_at}));t({goals:o,isLoading:!1}),await Be.savingsGoals.bulkPut(o);return}}const r=await Be.savingsGoals.where("userId").equals(n).toArray();t({goals:r,isLoading:!1})}catch(r){t({error:r.message,isLoading:!1})}},getActiveGoals:()=>e().goals.filter(n=>!n.completedAt),getCompletedGoals:()=>e().goals.filter(n=>n.completedAt),getTotalSaved:()=>e().goals.reduce((n,r)=>n+r.currentAmount,0),getTotalTarget:()=>e().goals.reduce((n,r)=>n+r.targetAmount,0),getOverallProgress:()=>{const n=e().getTotalTarget();return n===0?0:e().getTotalSaved()/n*100}}),{name:"kopimaster-goals",partialize:t=>({goals:t.goals})})),fc=pa()(So((t,e)=>({budgets:[],isLoading:!1,error:null,setBudgets:n=>t({budgets:n}),addBudget:async n=>{const r=crypto.randomUUID(),i=new Date().toISOString(),a={...n,id:r,spent:0,createdAt:i,updatedAt:i};if(t(o=>({budgets:[...o.budgets,a]})),await Be.budgets.add(a),lt()){const{error:o}=await Ye.from("budgets").insert({id:a.id,user_id:n.userId,category:a.category,monthly_limit:a.monthlyLimit,alert_threshold:a.alertThreshold,is_active:a.isActive});o&&await rn({userId:n.userId,tableName:"budgets",operation:"insert",recordId:r,payload:a})}return a},updateBudget:async(n,r)=>{const i=e().budgets.find(o=>o.id===n);if(!i)return;const a={...i,...r,updatedAt:new Date().toISOString()};if(t(o=>({budgets:o.budgets.map(s=>s.id===n?a:s)})),await Be.budgets.update(n,a),lt()){const{error:o}=await Ye.from("budgets").update({category:a.category,monthly_limit:a.monthlyLimit,alert_threshold:a.alertThreshold,is_active:a.isActive,updated_at:a.updatedAt}).eq("id",n);o&&await rn({userId:i.userId,tableName:"budgets",operation:"update",recordId:n,payload:r})}},deleteBudget:async n=>{const r=e().budgets.find(i=>i.id===n);if(r&&(t(i=>({budgets:i.budgets.filter(a=>a.id!==n)})),await Be.budgets.delete(n),lt())){const{error:i}=await Ye.from("budgets").delete().eq("id",n);i&&await rn({userId:r.userId,tableName:"budgets",operation:"delete",recordId:n,payload:{id:n}})}},loadBudgets:async n=>{t({isLoading:!0,error:null});try{if(lt()){const{data:i,error:a}=await Ye.from("budgets").select("*").eq("user_id",n);if(!a&&i){const o=i.map(s=>({id:s.id,userId:s.user_id,category:s.category,monthlyLimit:parseFloat(s.monthly_limit),alertThreshold:parseFloat(s.alert_threshold),isActive:s.is_active,createdAt:s.created_at,updatedAt:s.updated_at,spent:0}));t({budgets:o,isLoading:!1}),await Be.budgets.bulkPut(o);return}}const r=await Be.budgets.where("userId").equals(n).toArray();t({budgets:r,isLoading:!1})}catch(r){t({error:r.message,isLoading:!1})}},updateSpentAmounts:n=>{t(r=>({budgets:r.budgets.map(i=>({...i,spent:n[i.category]||0}))}))},getBudgetByCategory:n=>e().budgets.find(r=>r.category===n),getBudgetsOverThreshold:()=>e().budgets.filter(n=>{if(!n.isActive||!n.spent)return!1;const r=n.spent/n.monthlyLimit;return r>=n.alertThreshold&&r<1}),getBudgetsExceeded:()=>e().budgets.filter(n=>!n.isActive||!n.spent?!1:n.spent>=n.monthlyLimit),getTotalBudgeted:()=>e().budgets.filter(n=>n.isActive).reduce((n,r)=>n+r.monthlyLimit,0),getTotalSpent:()=>e().budgets.filter(n=>n.isActive).reduce((n,r)=>n+(r.spent||0),0)}),{name:"kopimaster-budgets",partialize:t=>({budgets:t.budgets})}));function yS(t,e,n){const r=n?new Date(n):new Date(t),i=new Date(r);switch(e){case"daily":i.setDate(i.getDate()+1);break;case"weekly":i.setDate(i.getDate()+7);break;case"biweekly":i.setDate(i.getDate()+14);break;case"monthly":i.setMonth(i.getMonth()+1);break;case"yearly":i.setFullYear(i.getFullYear()+1);break}return i.toISOString().split("T")[0]}const Uh=pa()(So((t,e)=>({recurringTransactions:[],isLoading:!1,error:null,setRecurringTransactions:n=>t({recurringTransactions:n}),addRecurring:async n=>{const r=crypto.randomUUID(),i=new Date().toISOString(),a=yS(n.startDate,n.frequency),o={...n,id:r,nextOccurrence:a,createdAt:i,updatedAt:i};if(t(s=>({recurringTransactions:[...s.recurringTransactions,o]})),await Be.recurringTransactions.add(o),lt()){const{error:s}=await Ye.from("recurring_transactions").insert({id:o.id,user_id:n.userId,account_id:n.accountId,type:o.type,category:o.category,amount:o.amount,description:o.description,frequency:o.frequency,start_date:o.startDate,end_date:o.endDate,next_occurrence:o.nextOccurrence,is_active:o.isActive,reminder_days:o.reminderDays});s&&await rn({userId:n.userId,tableName:"recurring_transactions",operation:"insert",recordId:r,payload:o})}return o},updateRecurring:async(n,r)=>{const i=e().recurringTransactions.find(o=>o.id===n);if(!i)return;const a={...i,...r,updatedAt:new Date().toISOString()};if(t(o=>({recurringTransactions:o.recurringTransactions.map(s=>s.id===n?a:s)})),await Be.recurringTransactions.update(n,a),lt()){const{error:o}=await Ye.from("recurring_transactions").update({account_id:a.accountId,type:a.type,category:a.category,amount:a.amount,description:a.description,frequency:a.frequency,start_date:a.startDate,end_date:a.endDate,next_occurrence:a.nextOccurrence,is_active:a.isActive,reminder_days:a.reminderDays,last_created_at:a.lastCreatedAt,updated_at:a.updatedAt}).eq("id",n);o&&await rn({userId:i.userId,tableName:"recurring_transactions",operation:"update",recordId:n,payload:r})}},deleteRecurring:async n=>{const r=e().recurringTransactions.find(i=>i.id===n);if(r&&(t(i=>({recurringTransactions:i.recurringTransactions.filter(a=>a.id!==n)})),await Be.recurringTransactions.delete(n),lt())){const{error:i}=await Ye.from("recurring_transactions").delete().eq("id",n);i&&await rn({userId:r.userId,tableName:"recurring_transactions",operation:"delete",recordId:n,payload:{id:n}})}},loadRecurring:async n=>{t({isLoading:!0,error:null});try{if(lt()){const{data:i,error:a}=await Ye.from("recurring_transactions").select("*").eq("user_id",n);if(!a&&i){const o=i.map(s=>({id:s.id,userId:s.user_id,accountId:s.account_id,type:s.type,category:s.category,amount:parseFloat(s.amount),description:s.description||"",frequency:s.frequency,startDate:s.start_date,endDate:s.end_date,nextOccurrence:s.next_occurrence,lastCreatedAt:s.last_created_at,isActive:s.is_active,reminderDays:s.reminder_days,createdAt:s.created_at,updatedAt:s.updated_at}));t({recurringTransactions:o,isLoading:!1}),await Be.recurringTransactions.bulkPut(o);return}}const r=await Be.recurringTransactions.where("userId").equals(n).toArray();t({recurringTransactions:r,isLoading:!1})}catch(r){t({error:r.message,isLoading:!1})}},toggleActive:async n=>{const r=e().recurringTransactions.find(i=>i.id===n);r&&await e().updateRecurring(n,{isActive:!r.isActive})},processRecurringTransactions:async n=>{const r=new Date().toISOString().split("T")[0],i=e().recurringTransactions.filter(s=>s.isActive&&s.userId===n&&s.nextOccurrence<=r);let a=0;const o=dc.getState();for(const s of i){if(s.endDate&&s.endDate<r){await e().updateRecurring(s.id,{isActive:!1});continue}await o.addTransaction({userId:s.userId,type:s.type,amount:s.amount,category:s.category,description:s.description,date:s.nextOccurrence,accountId:s.accountId});const c=yS(s.startDate,s.frequency,s.nextOccurrence);await e().updateRecurring(s.id,{lastCreatedAt:s.nextOccurrence,nextOccurrence:c}),a++}return a},getUpcomingReminders:n=>{const r=new Date,i=new Date(r);i.setDate(i.getDate()+n);const a=i.toISOString().split("T")[0];return e().recurringTransactions.filter(o=>{if(!o.isActive)return!1;const s=new Date(o.nextOccurrence);s.setDate(s.getDate()-o.reminderDays);const c=s.toISOString().split("T")[0],l=r.toISOString().split("T")[0];return c<=l&&o.nextOccurrence<=a})},getActiveRecurring:()=>e().recurringTransactions.filter(n=>n.isActive),getRecurringByFrequency:n=>e().recurringTransactions.filter(r=>r.frequency===n),getNextDueDate:()=>{const n=e().getActiveRecurring();if(n.length===0)return null;const r=n.map(i=>new Date(i.nextOccurrence));return new Date(Math.min(...r.map(i=>i.getTime())))}}),{name:"kopimaster-recurring",partialize:t=>({recurringTransactions:t.recurringTransactions})})),Ed={xp:0,level:1,currentStreak:0,longestStreak:0,totalTransactions:0,totalSaved:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},Nu=pa()(So((t,e)=>({stats:null,achievements:[],userAchievements:[],isLoading:!1,error:null,showLevelUpModal:!1,newLevel:null,newAchievements:[],setStats:n=>t({stats:n}),addXP:async n=>{const{stats:r}=e();if(!r)return{leveledUp:!1,newLevel:1};let i=r.xp+n,a=r.level,o=!1,s=a*100;for(;i>=s;)i-=s,a++,o=!0,s=a*100;const c={...r,xp:i,level:a,updatedAt:new Date().toISOString()};return t({stats:c,showLevelUpModal:o,newLevel:o?a:null}),await Be.userStats.put(c),lt()&&await Ye.rpc("add_xp",{p_user_id:r.userId,p_amount:n}),{leveledUp:o,newLevel:a}},updateStreak:async()=>{const{stats:n}=e();if(!n)return;const r=new Date().toISOString().split("T")[0],i=n.lastActivityDate;let a=n.currentStreak;if(!i)a=1;else{const s=new Date(i),c=new Date(r),l=Math.floor((c.getTime()-s.getTime())/(1e3*60*60*24));l===0||(l===1?a++:a=1)}const o={...n,currentStreak:a,longestStreak:Math.max(n.longestStreak,a),lastActivityDate:r,updatedAt:new Date().toISOString()};t({stats:o}),await Be.userStats.put(o),lt()&&await Ye.from("user_stats").update({current_streak:a,longest_streak:o.longestStreak,last_activity_date:r,updated_at:o.updatedAt}).eq("user_id",n.userId)},unlockAchievement:async n=>{const{achievements:r,userAchievements:i,stats:a}=e();if(i.some(l=>l.achievementId===n))return null;const o=r.find(l=>l.id===n);if(!o||!a)return null;const s=crypto.randomUUID(),c={id:s,userId:a.userId,achievementId:n,unlockedAt:new Date().toISOString(),progress:o.requirementValue,achievement:o};if(t(l=>({userAchievements:[...l.userAchievements,c],newAchievements:[...l.newAchievements,c]})),await Be.userAchievements.add(c),o.xpReward>0&&await e().addXP(o.xpReward),lt()){const{error:l}=await Ye.from("user_achievements").insert({id:s,user_id:a.userId,achievement_id:n,progress:o.requirementValue});l&&await rn({userId:a.userId,tableName:"user_achievements",operation:"insert",recordId:s,payload:c})}return c},loadGamificationData:async n=>{t({isLoading:!0,error:null});try{const r=await Be.userStats.get(n);r&&t({stats:r});const i=await Be.userAchievements.where("userId").equals(n).toArray();if(i.length>0&&t({userAchievements:i}),lt()){try{const{data:a,error:o}=await Ye.from("achievements").select("*");if(!o&&a){const s=a.map(c=>({id:c.id,nameKey:c.name_key,descriptionKey:c.description_key,icon:c.icon,category:c.category,xpReward:c.xp_reward,requirementType:c.requirement_type,requirementValue:c.requirement_value,isSecret:c.is_secret}));t({achievements:s})}}catch{console.debug("Achievements table not available")}try{const{data:a,error:o}=await Ye.from("user_stats").select("*").eq("user_id",n).single();if(!o&&a){const s={userId:a.user_id,xp:a.xp,level:a.level,currentStreak:a.current_streak,longestStreak:a.longest_streak,lastActivityDate:a.last_activity_date,totalTransactions:a.total_transactions,totalSaved:parseFloat(a.total_saved||"0"),createdAt:a.created_at,updatedAt:a.updated_at};t({stats:s}),await Be.userStats.put(s)}else if((o==null?void 0:o.code)==="PGRST116"||(o==null?void 0:o.code)==="406"||!r){const s={...Ed,userId:n};t({stats:s}),await Be.userStats.put(s)}}catch{if(console.debug("User stats table not available"),!r){const a={...Ed,userId:n};t({stats:a}),await Be.userStats.put(a)}}try{const{data:a,error:o}=await Ye.from("user_achievements").select("*, achievements(*)").eq("user_id",n);if(!o&&a){const s=a.map(c=>({id:c.id,userId:c.user_id,achievementId:c.achievement_id,unlockedAt:c.unlocked_at,progress:c.progress,achievement:c.achievements?{id:c.achievements.id,nameKey:c.achievements.name_key,descriptionKey:c.achievements.description_key,icon:c.achievements.icon,category:c.achievements.category,xpReward:c.achievements.xp_reward,requirementType:c.achievements.requirement_type,requirementValue:c.achievements.requirement_value,isSecret:c.achievements.is_secret}:void 0}));t({userAchievements:s}),await Be.userAchievements.bulkPut(s)}}catch{console.debug("User achievements table not available")}}else if(!r){const a={...Ed,userId:n};t({stats:a}),await Be.userStats.put(a)}t({isLoading:!1})}catch(r){console.error("Failed to load gamification data:",r);const i={...Ed,userId:n};t({stats:i,error:null,isLoading:!1}),await Be.userStats.put(i)}},checkAchievements:async n=>{var o,s;const{achievements:r,userAchievements:i}=e(),a=new Set(i.map(c=>c.achievementId));for(const c of r){if(a.has(c.id))continue;let l=!1;switch(c.requirementType){case"transactions":l=(n.transactionCount||0)>=c.requirementValue;break;case"total_saved":l=(n.totalSaved||0)>=c.requirementValue;break;case"goals_created":l=(n.goalsCreated||0)>=c.requirementValue;break;case"goals_completed":l=(n.goalsCompleted||0)>=c.requirementValue;break;case"referrals":l=(n.referralCount||0)>=c.requirementValue;break;case"budgets_kept":l=(n.budgetsKept||0)>=c.requirementValue;break;case"streak_days":l=(((o=e().stats)==null?void 0:o.currentStreak)||0)>=c.requirementValue;break;case"level":l=(((s=e().stats)==null?void 0:s.level)||1)>=c.requirementValue;break}l&&await e().unlockAchievement(c.id)}},dismissLevelUpModal:()=>t({showLevelUpModal:!1,newLevel:null}),clearNewAchievements:()=>t({newAchievements:[]}),getXPForNextLevel:()=>{var n;return(((n=e().stats)==null?void 0:n.level)||1)*100},getXPProgress:()=>{const{stats:n}=e();if(!n)return 0;const r=n.level*100;return n.xp/r*100},getUnlockedAchievements:()=>{const{achievements:n,userAchievements:r}=e(),i=new Set(r.map(a=>a.achievementId));return n.filter(a=>i.has(a.id))},getLockedAchievements:()=>{const{achievements:n,userAchievements:r}=e(),i=new Set(r.map(a=>a.achievementId));return n.filter(a=>!i.has(a.id)&&!a.isSecret)},getAchievementProgress:n=>{const r=e().userAchievements.find(i=>i.achievementId===n);return(r==null?void 0:r.progress)||0}}),{name:"kopimaster-gamification",partialize:t=>({stats:t.stats,userAchievements:t.userAchievements})})),vS=pa((t,e)=>({isOnline:typeof navigator<"u"?navigator.onLine:!0,isSyncing:!1,pendingCount:0,lastSyncAt:null,error:null,setOnline:n=>{t({isOnline:n}),n&&e().syncPendingItems()},checkPendingItems:async()=>{const n=await yf();t({pendingCount:n.length})},syncPendingItems:async()=>{if(!(!e().isOnline||e().isSyncing||!lt())){t({isSyncing:!0,error:null});try{const n=await yf();for(const r of n)await N8(r),await sE(r.id);t({isSyncing:!1,pendingCount:0,lastSyncAt:new Date().toISOString()})}catch(n){t({isSyncing:!1,error:n.message})}}},forcSync:async()=>{t({pendingCount:0}),await e().syncPendingItems()}}));async function N8(t){const n={transactions:"transactions",accounts:"accounts",savings_goals:"savings_goals",budgets:"budgets",recurring_transactions:"recurring_transactions",user_achievements:"user_achievements"}[t.tableName];if(n)switch(t.operation){case"insert":await Ye.from(n).insert(bS(t.payload));break;case"update":await Ye.from(n).update(bS(t.payload)).eq("id",t.recordId);break;case"delete":await Ye.from(n).delete().eq("id",t.recordId);break}}function bS(t){const e={};for(const[n,r]of Object.entries(t)){const i=n.replace(/[A-Z]/g,a=>`_${a.toLowerCase()}`);e[i]=r}return e}typeof window<"u"&&(window.addEventListener("online",()=>{vS.getState().setOnline(!0)}),window.addEventListener("offline",()=>{vS.getState().setOnline(!1)}));class Ja extends Error{constructor(e,n,r,i=!1){super(e),this.code=n,this.provider=r,this.isRetryable=i,this.name="BankingError"}}class un extends Ja{constructor(e,n){super(e,"AUTH_ERROR",n,!1),this.name="AuthenticationError"}}class lo extends Ja{constructor(e,n,r){super(e,"RATE_LIMIT",n,!0),this.retryAfter=r,this.name="RateLimitError"}}class oa extends Ja{constructor(e,n){super(e,"CONNECTION_ERROR",n,!0),this.name="ConnectionError"}}const $8={5411:{category:"food",type:"expense"},5412:{category:"food",type:"expense"},5422:{category:"food",type:"expense"},5441:{category:"food",type:"expense"},5451:{category:"food",type:"expense"},5462:{category:"food",type:"expense"},5499:{category:"food",type:"expense"},5812:{category:"food",type:"expense"},5813:{category:"food",type:"expense"},5814:{category:"food",type:"expense"},4011:{category:"transport",type:"expense"},4111:{category:"transport",type:"expense"},4112:{category:"transport",type:"expense"},4121:{category:"transport",type:"expense"},4131:{category:"transport",type:"expense"},4214:{category:"transport",type:"expense"},4411:{category:"transport",type:"expense"},4457:{category:"transport",type:"expense"},4468:{category:"transport",type:"expense"},4511:{category:"transport",type:"expense"},4582:{category:"transport",type:"expense"},4722:{category:"transport",type:"expense"},4784:{category:"transport",type:"expense"},4789:{category:"transport",type:"expense"},5511:{category:"transport",type:"expense"},5521:{category:"transport",type:"expense"},5531:{category:"transport",type:"expense"},5532:{category:"transport",type:"expense"},5533:{category:"transport",type:"expense"},5541:{category:"transport",type:"expense"},5542:{category:"transport",type:"expense"},5551:{category:"transport",type:"expense"},5561:{category:"transport",type:"expense"},5571:{category:"transport",type:"expense"},5592:{category:"transport",type:"expense"},5598:{category:"transport",type:"expense"},5599:{category:"transport",type:"expense"},7511:{category:"transport",type:"expense"},7512:{category:"transport",type:"expense"},7513:{category:"transport",type:"expense"},7519:{category:"transport",type:"expense"},7523:{category:"transport",type:"expense"},7531:{category:"transport",type:"expense"},7534:{category:"transport",type:"expense"},7535:{category:"transport",type:"expense"},7538:{category:"transport",type:"expense"},7542:{category:"transport",type:"expense"},7549:{category:"transport",type:"expense"},7829:{category:"entertainment",type:"expense"},7832:{category:"entertainment",type:"expense"},7841:{category:"entertainment",type:"expense"},7911:{category:"entertainment",type:"expense"},7922:{category:"entertainment",type:"expense"},7929:{category:"entertainment",type:"expense"},7932:{category:"entertainment",type:"expense"},7933:{category:"entertainment",type:"expense"},7941:{category:"entertainment",type:"expense"},7991:{category:"entertainment",type:"expense"},7992:{category:"entertainment",type:"expense"},7993:{category:"entertainment",type:"expense"},7994:{category:"entertainment",type:"expense"},7995:{category:"entertainment",type:"expense"},7996:{category:"entertainment",type:"expense"},7997:{category:"entertainment",type:"expense"},7998:{category:"entertainment",type:"expense"},7999:{category:"entertainment",type:"expense"},5200:{category:"shopping",type:"expense"},5211:{category:"shopping",type:"expense"},5231:{category:"shopping",type:"expense"},5251:{category:"shopping",type:"expense"},5261:{category:"shopping",type:"expense"},5271:{category:"shopping",type:"expense"},5300:{category:"shopping",type:"expense"},5309:{category:"shopping",type:"expense"},5310:{category:"shopping",type:"expense"},5311:{category:"shopping",type:"expense"},5331:{category:"shopping",type:"expense"},5399:{category:"shopping",type:"expense"},5611:{category:"shopping",type:"expense"},5621:{category:"shopping",type:"expense"},5631:{category:"shopping",type:"expense"},5641:{category:"shopping",type:"expense"},5651:{category:"shopping",type:"expense"},5655:{category:"shopping",type:"expense"},5661:{category:"shopping",type:"expense"},5681:{category:"shopping",type:"expense"},5691:{category:"shopping",type:"expense"},5697:{category:"shopping",type:"expense"},5698:{category:"shopping",type:"expense"},5699:{category:"shopping",type:"expense"},5712:{category:"shopping",type:"expense"},5713:{category:"shopping",type:"expense"},5714:{category:"shopping",type:"expense"},5718:{category:"shopping",type:"expense"},5719:{category:"shopping",type:"expense"},5722:{category:"shopping",type:"expense"},5732:{category:"shopping",type:"expense"},5733:{category:"shopping",type:"expense"},5734:{category:"shopping",type:"expense"},5735:{category:"shopping",type:"expense"},5912:{category:"shopping",type:"expense"},5921:{category:"shopping",type:"expense"},5931:{category:"shopping",type:"expense"},5932:{category:"shopping",type:"expense"},5933:{category:"shopping",type:"expense"},5935:{category:"shopping",type:"expense"},5937:{category:"shopping",type:"expense"},5940:{category:"shopping",type:"expense"},5941:{category:"shopping",type:"expense"},5942:{category:"shopping",type:"expense"},5943:{category:"shopping",type:"expense"},5944:{category:"shopping",type:"expense"},5945:{category:"shopping",type:"expense"},5946:{category:"shopping",type:"expense"},5947:{category:"shopping",type:"expense"},5948:{category:"shopping",type:"expense"},5949:{category:"shopping",type:"expense"},5950:{category:"shopping",type:"expense"},5960:{category:"shopping",type:"expense"},5961:{category:"shopping",type:"expense"},5962:{category:"shopping",type:"expense"},5963:{category:"shopping",type:"expense"},5964:{category:"shopping",type:"expense"},5965:{category:"shopping",type:"expense"},5966:{category:"shopping",type:"expense"},5967:{category:"shopping",type:"expense"},5968:{category:"shopping",type:"expense"},5969:{category:"shopping",type:"expense"},5970:{category:"shopping",type:"expense"},5971:{category:"shopping",type:"expense"},5972:{category:"shopping",type:"expense"},5973:{category:"shopping",type:"expense"},5975:{category:"shopping",type:"expense"},5976:{category:"shopping",type:"expense"},5977:{category:"shopping",type:"expense"},5978:{category:"shopping",type:"expense"},5983:{category:"shopping",type:"expense"},5992:{category:"shopping",type:"expense"},5993:{category:"shopping",type:"expense"},5994:{category:"shopping",type:"expense"},5995:{category:"shopping",type:"expense"},5996:{category:"shopping",type:"expense"},5997:{category:"shopping",type:"expense"},5998:{category:"shopping",type:"expense"},5999:{category:"shopping",type:"expense"},5047:{category:"health",type:"expense"},5122:{category:"health",type:"expense"},8011:{category:"health",type:"expense"},8021:{category:"health",type:"expense"},8031:{category:"health",type:"expense"},8041:{category:"health",type:"expense"},8042:{category:"health",type:"expense"},8043:{category:"health",type:"expense"},8049:{category:"health",type:"expense"},8050:{category:"health",type:"expense"},8062:{category:"health",type:"expense"},8071:{category:"health",type:"expense"},8099:{category:"health",type:"expense"},4812:{category:"utilities",type:"expense"},4813:{category:"utilities",type:"expense"},4814:{category:"utilities",type:"expense"},4815:{category:"utilities",type:"expense"},4816:{category:"utilities",type:"expense"},4821:{category:"utilities",type:"expense"},4829:{category:"utilities",type:"expense"},4899:{category:"utilities",type:"expense"},4900:{category:"utilities",type:"expense"},8211:{category:"education",type:"expense"},8220:{category:"education",type:"expense"},8241:{category:"education",type:"expense"},8244:{category:"education",type:"expense"},8249:{category:"education",type:"expense"},8299:{category:"education",type:"expense"},6010:{category:"other",type:"income"},6011:{category:"other",type:"income"},6012:{category:"other",type:"income"},6051:{category:"other",type:"income"},6211:{category:"investments",type:"income"},6300:{category:"other",type:"income"}};function I8(t){const e=String(t).padStart(4,"0");return $8[e]||null}function Vh(t,e,n){if(t){const r=I8(t);if(r)return r}if(n&&n>0)return{category:"other",type:"income"};if(e){const r=e.toLowerCase();if(/\b(restaurant|cafe|coffee|food|grocery|supermarket||||||silpo|atb|novus|fozzy|mcdonalds|kfc|subway|starbucks||pizza|burger)\b/i.test(r))return{category:"food",type:"expense"};if(/\b(uber|bolt|taxi|||metro|bus|train|fuel|gas|||parking||uklon|ukrzal|wog|okko|shell)\b/i.test(r))return{category:"transport",type:"expense"};if(/\b(cinema||movie|netflix|spotify|youtube|steam|game|gaming|concert||theater|museum||multiplex|imax)\b/i.test(r))return{category:"entertainment",type:"expense"};if(/\b(amazon|rozetka|prom|aliexpress|ebay|shop|store|mall||||purchase|zara|h&m|mango|reserved|comfy|eldorado|foxtrot)\b/i.test(r))return{category:"shopping",type:"expense"};if(/\b(pharmacy||hospital||doctor|||medical||clinic||health|)\b/i.test(r))return{category:"health",type:"expense"};if(/\b(utility||electricity||water||gas||internet||phone||kyivstar|vodafone|lifecell)\b/i.test(r))return{category:"utilities",type:"expense"};if(/\b(university||school||course||education||udemy|coursera|skillshare)\b/i.test(r))return{category:"education",type:"expense"};if(/\b(salary||income||transfer||refund||cashback|)\b/i.test(r))return{category:"salary",type:"income"}}return{category:"other",type:"expense"}}const R8="https://api.monobank.ua",D8={980:"UAH",840:"USD",978:"EUR",826:"GBP",985:"PLN"};function xS(t){return D8[t]||"UAH"}function M8(t){switch(t){case"fop":return"checking";case"yellow":return"savings";default:return"checking"}}class L8{constructor(){pt(this,"provider","monobank");pt(this,"name","Monobank");pt(this,"supportedCountries",["UA"]);pt(this,"lastRequestTime",0);pt(this,"MIN_REQUEST_INTERVAL",6e4)}isAvailable(){return!0}async connect(e){if(!e.accessToken)throw new un("Monobank token is required","monobank");if(!await this.validateConnection(e))throw new un("Invalid Monobank token","monobank");return{...e,provider:"monobank",institutionName:"Monobank"}}async disconnect(){}async validateConnection(e){if(!e.accessToken)return!1;try{return await this.makeRequest("/personal/client-info",e.accessToken),!0}catch{return!1}}async getInstitutions(){return[{id:"monobank",name:"Monobank",logo:"https://api.monobank.ua/logo.png",country:"UA",provider:"monobank"}]}async getAccounts(e){if(!e.accessToken)throw new un("Monobank token is required","monobank");return(await this.makeRequest("/personal/client-info",e.accessToken)).accounts.map(r=>{var i;return{id:r.id,bankId:r.id,name:this.getAccountName(r),type:M8(r.type),currency:xS(r.currencyCode),balance:r.balance/100,creditLimit:r.creditLimit/100,iban:r.iban,maskedPan:(i=r.maskedPan)==null?void 0:i[0]}})}async getTransactions(e,n,r,i){if(!e.accessToken)throw new un("Monobank token is required","monobank");const a=r?Math.floor(new Date(r).getTime()/1e3):Math.floor(Date.now()/1e3)-30*24*60*60,o=Math.floor(i?new Date(i).getTime()/1e3:Date.now()/1e3);return(await this.makeRequest(`/personal/statement/${n}/${a}/${o}`,e.accessToken)).map(c=>this.mapTransaction(c,n))}async setupWebhook(e,n){if(!e.accessToken)throw new un("Monobank token is required","monobank");await this.makeRequest("/personal/webhook",e.accessToken,{method:"POST",body:JSON.stringify({webHookUrl:n})})}mapTransaction(e,n){const r=e.amount<0,i=Vh(e.mcc,e.description,e.amount);return{id:e.id,accountId:n,amount:Math.abs(e.amount)/100,currency:"UAH",description:e.description,mccCode:String(e.mcc),date:new Date(e.time*1e3).toISOString().split("T")[0],time:new Date(e.time*1e3).toISOString().split("T")[1].split(".")[0],balance:e.balance/100,category:i.category,type:r?"expense":"income",originalData:e}}getAccountName(e){var a,o;const n={black:"Black",white:"White",platinum:"Platinum",iron:"Iron",fop:"",yellow:"Yellow"}[e.type]||"Card",r=xS(e.currencyCode),i=((o=(a=e.maskedPan)==null?void 0:a[0])==null?void 0:o.slice(-4))||"";return`Mono ${n} ${r}${i?` *${i}`:""}`}async makeRequest(e,n,r={}){const i=Date.now(),a=i-this.lastRequestTime;if(e.includes("/statement/")&&a<this.MIN_REQUEST_INTERVAL)throw new lo("Rate limit: wait before next request","monobank",this.MIN_REQUEST_INTERVAL-a);this.lastRequestTime=i;try{const o=await fetch(`${R8}${e}`,{...r,headers:{"X-Token":n,"Content-Type":"application/json",...r.headers}});if(o.status===429)throw new lo("Too many requests","monobank",6e4);if(o.status===401||o.status===403)throw new un("Invalid or expired token","monobank");if(!o.ok){const s=await o.text();throw new oa(`Monobank API error: ${s}`,"monobank")}return o.json()}catch(o){throw o instanceof un||o instanceof lo?o:new oa(`Network error: ${o.message}`,"monobank")}}}const B8=new L8,F8="https://bankaccountdata.gocardless.com/api/v2",U8=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB","NO","IS","LI","CH"];class V8{constructor(){pt(this,"provider","nordigen");pt(this,"name","Nordigen (GoCardless)");pt(this,"supportedCountries",U8);pt(this,"accessToken",null);pt(this,"tokenExpiry",0)}isAvailable(){return!1}async connect(e){const n=await this.getAccessToken();if(!e.institutionId)throw new un("Institution ID is required for Nordigen","nordigen");const r=await this.createEndUserAgreement(n,e.institutionId),i=await this.createRequisition(n,e.institutionId,r.id,`${window.location.origin}/banking/callback`);return{...e,provider:"nordigen",accessToken:i.id,refreshToken:r.id}}async disconnect(e){if(!e.accessToken)return;const n=await this.getAccessToken();try{await this.makeRequest(`/requisitions/${e.accessToken}/`,n,{method:"DELETE"})}catch{}}async validateConnection(e){if(!e.accessToken)return!1;try{const n=await this.getAccessToken(),r=await this.makeRequest(`/requisitions/${e.accessToken}/`,n);return r.status==="LN"&&r.accounts.length>0}catch{return!1}}async refreshToken(e){return e}async getInstitutions(e){const n=await this.getAccessToken(),r=e?`?country=${e}`:"";return(await this.makeRequest(`/institutions/${r}`,n)).map(a=>({id:a.id,name:a.name,logo:a.logo,country:a.countries[0]||"EU",provider:"nordigen"}))}async getAccounts(e){var a;if(!e.accessToken)throw new un("Requisition ID is required","nordigen");const n=await this.getAccessToken(),r=await this.makeRequest(`/requisitions/${e.accessToken}/`,n);if(r.status!=="LN")throw new un("Bank connection not linked","nordigen");const i=[];for(const o of r.accounts)try{const[s,c]=await Promise.all([this.makeRequest(`/accounts/${o}/details/`,n),this.makeRequest(`/accounts/${o}/balances/`,n)]),l=c.balances.find(u=>u.balanceType==="interimAvailable"||u.balanceType==="expected")||c.balances[0];i.push({id:o,bankId:o,name:s.account.name||s.account.ownerName||`Account ${(a=s.account.iban)==null?void 0:a.slice(-4)}`,type:this.mapAccountType(s.account.cashAccountType),currency:s.account.currency||(l==null?void 0:l.balanceAmount.currency)||"EUR",balance:parseFloat((l==null?void 0:l.balanceAmount.amount)||"0"),iban:s.account.iban})}catch(s){console.error(`Failed to fetch account ${o}:`,s)}return i}async getTransactions(e,n,r,i){const a=await this.getAccessToken(),o=new URLSearchParams;r&&o.set("date_from",r),i&&o.set("date_to",i);const s=o.toString()?`?${o.toString()}`:"";return(await this.makeRequest(`/accounts/${n}/transactions/${s}`,a)).transactions.booked.map(l=>this.mapTransaction(l,n))}mapTransaction(e,n){const r=parseFloat(e.transactionAmount.amount),i=r<0,a=e.remittanceInformationUnstructured||e.remittanceInformationStructured||e.creditorName||e.debtorName||"Transaction",o=Vh(e.merchantCategoryCode,a,r);return{id:e.transactionId||e.internalTransactionId||crypto.randomUUID(),accountId:n,amount:Math.abs(r),currency:e.transactionAmount.currency,description:a,mccCode:e.merchantCategoryCode,date:e.bookingDate,category:o.category,type:i?"expense":"income",originalData:e}}mapAccountType(e){switch(e==null?void 0:e.toUpperCase()){case"CACC":case"TRAN":return"checking";case"SVGS":return"savings";case"CARD":return"credit";default:return"checking"}}async getAccessToken(){if(this.accessToken&&Date.now()<this.tokenExpiry-6e4)return this.accessToken;throw new un("Nordigen credentials not configured","nordigen")}async createEndUserAgreement(e,n){return this.makeRequest("/agreements/enduser/",e,{method:"POST",body:JSON.stringify({institution_id:n,max_historical_days:90,access_valid_for_days:90,access_scope:["balances","details","transactions"]})})}async createRequisition(e,n,r,i){return this.makeRequest("/requisitions/",e,{method:"POST",body:JSON.stringify({redirect:i,institution_id:n,agreement:r,reference:crypto.randomUUID(),user_language:"EN"})})}async makeRequest(e,n,r={}){try{const i=await fetch(`${F8}${e}`,{...r,headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json",Accept:"application/json",...r.headers}});if(i.status===429){const a=parseInt(i.headers.get("Retry-After")||"60",10);throw new lo("Rate limit exceeded","nordigen",a*1e3)}if(i.status===401||i.status===403)throw this.accessToken=null,new un("Authentication failed","nordigen");if(!i.ok){const a=await i.text();throw new oa(`Nordigen API error: ${a}`,"nordigen")}return i.json()}catch(i){throw i instanceof un||i instanceof lo||i instanceof oa?i:new oa(`Network error: ${i.message}`,"nordigen")}}}const q8=new V8,K8="/api/plaid",Gm=["US","CA","GB","IE","FR","ES","NL","DE"];class z8{constructor(){pt(this,"provider","plaid");pt(this,"name","Plaid");pt(this,"supportedCountries",Gm)}isAvailable(){return!1}async connect(e){if(!e.accessToken){const r=await this.createLinkToken();return{...e,provider:"plaid",refreshToken:r.link_token}}const n=await this.exchangePublicToken(e.accessToken);return{...e,provider:"plaid",accessToken:n.access_token,institutionId:n.item_id}}async disconnect(e){if(e.accessToken)try{await this.makeRequest("/item/remove",{access_token:e.accessToken})}catch{}}async validateConnection(e){if(!e.accessToken)return!1;try{return await this.makeRequest("/accounts/get",{access_token:e.accessToken}),!0}catch{return!1}}async refreshToken(e){if(!e.accessToken)throw new un("Access token required","plaid");const n=await this.createLinkToken(e.accessToken);return{...e,refreshToken:n.link_token}}async getInstitutions(e){return(await this.makeRequest("/institutions/get",{country_codes:e?[e]:Gm,count:100,offset:0,options:{include_optional_metadata:!0}})).institutions.map(r=>({id:r.institution_id,name:r.name,logo:r.logo?`data:image/png;base64,${r.logo}`:void 0,country:r.country_codes[0]||"US",provider:"plaid"}))}async getAccounts(e){if(!e.accessToken)throw new un("Access token is required","plaid");return(await this.makeRequest("/accounts/get",{access_token:e.accessToken})).accounts.map(r=>({id:r.account_id,bankId:r.account_id,name:r.official_name||r.name,type:this.mapAccountType(r.type,r.subtype),currency:r.balances.iso_currency_code||"USD",balance:r.balances.available??r.balances.current,creditLimit:r.balances.limit??void 0,maskedPan:r.mask}))}async getTransactions(e,n,r,i){if(!e.accessToken)throw new un("Access token is required","plaid");const a=r||new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],o=i||new Date().toISOString().split("T")[0],s=[];let c=!0,l;for(;c;){const u=await this.makeRequest("/transactions/sync",{access_token:e.accessToken,cursor:l,count:500});s.push(...u.added,...u.modified),c=u.has_more,l=u.next_cursor}return s.filter(u=>!(u.account_id!==n||u.date<a||u.date>o)).map(u=>this.mapTransaction(u))}async getLinkToken(e){return(await this.createLinkToken(e)).link_token}async handlePublicToken(e){const n=await this.exchangePublicToken(e);return{provider:"plaid",accessToken:n.access_token,institutionId:n.item_id}}async createLinkToken(e){const n={user:{client_user_id:crypto.randomUUID()},client_name:"KopiMaster",products:["transactions"],country_codes:Gm,language:"en"};return e&&(n.access_token=e),this.makeRequest("/link/token/create",n)}async exchangePublicToken(e){return this.makeRequest("/item/public_token/exchange",{public_token:e})}mapTransaction(e){var i,a;const n=e.amount>0;let r="other";return e.personal_finance_category?r=this.mapPlaidCategory(e.personal_finance_category.primary):r=Vh(void 0,e.name,n?-e.amount:e.amount).category,{id:e.transaction_id,accountId:e.account_id,amount:Math.abs(e.amount),currency:e.iso_currency_code||"USD",description:e.merchant_name||e.name,date:e.date,time:(a=(i=e.datetime)==null?void 0:i.split("T")[1])==null?void 0:a.split(".")[0],category:r,type:n?"expense":"income",originalData:e}}mapAccountType(e,n){return e==="credit"?"credit":e==="investment"||e==="brokerage"?"investment":n==="savings"||n==="money market"?"savings":"checking"}mapPlaidCategory(e){return{FOOD_AND_DRINK:"food",TRANSPORTATION:"transport",ENTERTAINMENT:"entertainment",SHOPPING:"shopping",MEDICAL:"health",UTILITIES:"utilities",EDUCATION:"education",INCOME:"salary",TRANSFER_IN:"other",TRANSFER_OUT:"other"}[e]||"other"}async makeRequest(e,n){try{const r=await fetch(`${K8}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(r.status===429)throw new lo("Rate limit exceeded","plaid",6e4);if(r.status===401||r.status===400){const i=await r.json();throw new un(i.error_message||"Authentication failed","plaid")}if(!r.ok){const i=await r.text();throw new oa(`Plaid API error: ${i}`,"plaid")}return r.json()}catch(r){throw r instanceof un||r instanceof lo||r instanceof oa?r:new oa(`Network error: ${r.message}`,"plaid")}}}const W8=new z8;class G8{constructor(){pt(this,"providers",new Map([["monobank",B8],["nordigen",q8],["plaid",W8]]))}getAvailableProviders(){return Array.from(this.providers.values()).filter(e=>e.isAvailable())}getProvider(e){return this.providers.get(e)}getProvidersForCountry(e){return this.getAvailableProviders().filter(n=>n.supportedCountries.includes(e.toUpperCase()))}async getInstitutionsForCountry(e){const n=this.getProvidersForCountry(e),r=[];for(const i of n)if(i.getInstitutions)try{const a=await i.getInstitutions();r.push(...a.filter(o=>o.country===e.toUpperCase()))}catch(a){console.error(`Failed to get institutions from ${i.name}:`,a)}return r}async connect(e,n){const r=this.providers.get(e);if(!r)throw new Ja(`Unknown provider: ${e}`,"UNKNOWN_PROVIDER",e);if(!r.isAvailable())throw new Ja(`Provider ${e} is not configured`,"PROVIDER_NOT_AVAILABLE",e);return r.connect(n)}async disconnect(e,n){const r=this.providers.get(e);r&&await r.disconnect(n)}async validateConnection(e,n){const r=this.providers.get(e);return r?r.validateConnection(n):!1}async getAccounts(e,n){const r=this.providers.get(e);if(!r)throw new Ja(`Unknown provider: ${e}`,"UNKNOWN_PROVIDER",e);return r.getAccounts(n)}async getTransactions(e,n,r,i,a){const o=this.providers.get(e);if(!o)throw new Ja(`Unknown provider: ${e}`,"UNKNOWN_PROVIDER",e);return(await o.getTransactions(n,r,i,a)).map(c=>{if(!c.category){const l=Vh(c.mccCode,c.description,c.type==="income"?c.amount:-c.amount);return{...c,category:l.category}}return c})}async syncConnection(e,n,r,i){const a={success:!1,accountsSynced:0,transactionsSynced:0,newTransactions:0,errors:[],lastSyncAt:new Date().toISOString()};try{if(!await this.validateConnection(e,n))return a.errors.push("Connection is no longer valid"),a;const s=await this.getAccounts(e,n);a.accountsSynced=s.length;const c=new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0];for(const l of s)try{const u=await this.getTransactions(e,n,l.id,c);for(const d of u)a.transactionsSynced++,r.has(d.id)||(a.newTransactions++,i&&await i(d))}catch(u){a.errors.push(`Failed to sync account ${l.name}: ${u.message}`)}a.success=a.errors.length===0}catch(o){a.errors.push(`Sync failed: ${o.message}`)}return a}async refreshTokenIfNeeded(e,n){const r=this.providers.get(e);return!r||!r.refreshToken||await this.validateConnection(e,n)?n:r.refreshToken(n)}}const Jo=new G8,H8=pa()(So((t,e)=>({connections:[],isLoading:!1,isSyncing:!1,error:null,lastSyncResult:null,setConnections:n=>t({connections:n}),addConnection:async n=>{const r=crypto.randomUUID(),i=new Date().toISOString(),a={...n,id:r,createdAt:i,updatedAt:i};if(t(o=>({connections:[...o.connections,a]})),await Be.bankConnections.add(a),lt()){const{error:o}=await Ye.from("bank_connections").insert({id:a.id,user_id:a.userId,provider:a.provider,access_token:a.accessToken,refresh_token:a.refreshToken,institution_id:a.institutionId,institution_name:a.institutionName,status:a.status});o&&await rn({userId:a.userId,tableName:"bank_connections",operation:"insert",recordId:r,payload:a})}return a},updateConnection:async(n,r)=>{const i=e().connections.find(o=>o.id===n);if(!i)return;const a={...i,...r,updatedAt:new Date().toISOString()};if(t(o=>({connections:o.connections.map(s=>s.id===n?a:s)})),await Be.bankConnections.update(n,a),lt()){const{error:o}=await Ye.from("bank_connections").update({access_token:a.accessToken,refresh_token:a.refreshToken,status:a.status,last_sync_at:a.lastSyncAt,error_message:a.errorMessage,updated_at:a.updatedAt}).eq("id",n);o&&await rn({userId:i.userId,tableName:"bank_connections",operation:"update",recordId:n,payload:r})}},removeConnection:async n=>{const r=e().connections.find(i=>i.id===n);if(r&&(t(i=>({connections:i.connections.filter(a=>a.id!==n)})),await Be.bankConnections.delete(n),lt())){const{error:i}=await Ye.from("bank_connections").delete().eq("id",n);i&&await rn({userId:r.userId,tableName:"bank_connections",operation:"delete",recordId:n,payload:{id:n}})}},loadConnections:async n=>{t({isLoading:!0,error:null});try{if(lt()){const{data:i,error:a}=await Ye.from("bank_connections").select("*").eq("user_id",n);if(!a&&i){const o=i.map(s=>({id:s.id,userId:s.user_id,provider:s.provider,accessToken:s.access_token,refreshToken:s.refresh_token,institutionId:s.institution_id,institutionName:s.institution_name,status:s.status,lastSyncAt:s.last_sync_at,errorMessage:s.error_message,createdAt:s.created_at,updatedAt:s.updated_at}));t({connections:o,isLoading:!1}),await Be.bankConnections.bulkPut(o);return}}const r=await Be.bankConnections.where("userId").equals(n).toArray();t({connections:r,isLoading:!1})}catch(r){t({error:r.message,isLoading:!1})}},connectBank:async(n,r,i,a)=>{t({isLoading:!0,error:null});try{const o=await Jo.connect(r,{provider:r,accessToken:i,institutionName:a}),s=await e().addConnection({userId:n,provider:r,accessToken:o.accessToken,refreshToken:o.refreshToken,institutionId:o.institutionId,institutionName:o.institutionName||a,status:"active"}),c=await Jo.getAccounts(r,o),l=Zd.getState();for(const u of c)await l.addAccount({userId:n,name:u.name,type:u.type==="investment"?"investment":u.type,currency:u.currency,balance:u.balance,icon:"",color:"",isDefault:!1,bankConnectionId:s.id,externalAccountId:u.id});return t({isLoading:!1}),setTimeout(async()=>{try{await e().syncConnection(s.id)}catch(u){console.warn("Auto-sync failed, user can retry manually:",u)}},2e3),s}catch(o){throw t({error:o.message,isLoading:!1}),o}},disconnectBank:async n=>{const r=e().connections.find(o=>o.id===n);if(!r)return;try{await Jo.disconnect(r.provider,{provider:r.provider,accessToken:r.accessToken,refreshToken:r.refreshToken})}catch{}const i=Zd.getState(),a=i.accounts.filter(o=>o.bankConnectionId===n);for(const o of a)await i.deleteAccount(o.id);await e().removeConnection(n)},syncConnection:async n=>{const r=e().connections.find(i=>i.id===n);if(!r)return{success:!1,accountsSynced:0,transactionsSynced:0,newTransactions:0,errors:["Connection not found"],lastSyncAt:new Date().toISOString()};t({isSyncing:!0,error:null});try{const i=dc.getState(),a=new Set(i.transactions.filter(c=>c.bankTransactionId).map(c=>c.bankTransactionId)),o=await Jo.syncConnection(r.provider,{provider:r.provider,accessToken:r.accessToken,refreshToken:r.refreshToken},a,async c=>{const u=Zd.getState().accounts.find(d=>d.bankConnectionId===n&&d.externalAccountId===c.accountId);u&&await i.addTransaction({userId:r.userId,type:c.type,amount:c.amount,category:c.category||"other",description:c.description,date:c.date,accountId:u.id,mccCode:c.mccCode,bankTransactionId:c.id})}),s=o.success?"active":"error";return await e().updateConnection(n,{status:s,lastSyncAt:o.lastSyncAt,errorMessage:o.errors.length>0?o.errors.join("; "):void 0}),t({isSyncing:!1,lastSyncResult:o}),o}catch(i){const a={success:!1,accountsSynced:0,transactionsSynced:0,newTransactions:0,errors:[i.message],lastSyncAt:new Date().toISOString()};return await e().updateConnection(n,{status:"error",errorMessage:i.message}),t({isSyncing:!1,error:i.message,lastSyncResult:a}),a}},syncAllConnections:async n=>{const r=e().connections.filter(a=>a.userId===n&&a.status==="active"),i=[];for(const a of r){const o=await e().syncConnection(a.id);i.push(o)}return i},validateConnection:async n=>{const r=e().connections.find(a=>a.id===n);if(!r)return!1;const i=await Jo.validateConnection(r.provider,{provider:r.provider,accessToken:r.accessToken,refreshToken:r.refreshToken});return i||await e().updateConnection(n,{status:"expired"}),i},getConnectionsByProvider:n=>e().connections.filter(r=>r.provider===n),getActiveConnections:()=>e().connections.filter(n=>n.status==="active"),hasActiveConnection:n=>e().connections.some(r=>r.provider===n&&r.status==="active")}),{name:"kopimaster-bank-connections",partialize:t=>({connections:t.connections.map(e=>({...e,accessToken:void 0,refreshToken:void 0}))})}));var qh="Tabs",[Y8,vbe]=fa(qh,[QO]),cE=QO(),[X8,n0]=Y8(qh),lE=O.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:c="automatic",...l}=t,u=nb(s),[d,h]=js({prop:r,onChange:i,defaultProp:a??"",caller:qh});return f.jsx(X8,{scope:n,baseId:oc(),value:d,onValueChange:h,orientation:o,dir:u,activationMode:c,children:f.jsx(ft.div,{dir:u,"data-orientation":o,...l,ref:e})})});lE.displayName=qh;var uE="TabsList",dE=O.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=n0(uE,n),o=cE(n);return f.jsx(F2,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:f.jsx(ft.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});dE.displayName=uE;var fE="TabsTrigger",hE=O.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,o=n0(fE,n),s=cE(n),c=gE(o.baseId,r),l=yE(o.baseId,r),u=r===o.value;return f.jsx(U2,{asChild:!0,...s,focusable:!i,active:u,children:f.jsx(ft.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":l,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:nt(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:nt(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:nt(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(r)})})})});hE.displayName=fE;var pE="TabsContent",mE=O.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=t,s=n0(pE,n),c=gE(s.baseId,r),l=yE(s.baseId,r),u=r===s.value,d=O.useRef(u);return O.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),f.jsx(_h,{present:i||u,children:({present:h})=>f.jsx(ft.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:l,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:h&&a})})});mE.displayName=pE;function gE(t,e){return`${t}-trigger-${e}`}function yE(t,e){return`${t}-content-${e}`}var J8=lE,vE=dE,bE=hE,xE=mE;const Kh=J8,$u=O.forwardRef(({className:t,...e},n)=>f.jsx(vE,{ref:n,className:he("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));$u.displayName=vE.displayName;const wi=O.forwardRef(({className:t,...e},n)=>f.jsx(bE,{ref:n,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));wi.displayName=bE.displayName;const Rr=O.forwardRef(({className:t,...e},n)=>f.jsx(xE,{ref:n,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Rr.displayName=xE.displayName;function _o(){const{currency:t,formatCurrency:e,formatNumber:n}=yk();return{formatCurrency:e,formatNumber:n,currencyCode:t.code,currencySymbol:t.symbol,locale:t.locale,currency:t}}function Z8({balance:t,monthlyIncome:e,monthlyExpense:n}){const{t:r}=it(),{formatCurrency:i}=_o();return f.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative overflow-hidden rounded-2xl gradient-hero p-6 text-white shadow-card",children:[f.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PGNpcmNsZSBjeD0iMzAiIGN5PSIzMCIgcj0iMiIvPjwvZz48L2c+PC9zdmc+')] opacity-50"}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:"p-2 rounded-xl bg-white/10 backdrop-blur-sm",children:f.jsx(hb,{className:"w-5 h-5"})}),f.jsx("span",{className:"text-white/70 text-sm font-medium",children:r("balance.title")})]}),f.jsx(Je.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-4xl font-display font-bold mb-6",children:i(t)},t),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("div",{className:"p-1.5 rounded-lg bg-emerald-500/20",children:f.jsx(Tu,{className:"w-4 h-4 text-emerald-400"})}),f.jsx("span",{className:"text-white/60 text-xs",children:r("balance.income")})]}),f.jsxs("div",{className:"text-lg font-semibold text-emerald-400",children:["+",i(e)]})]}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("div",{className:"p-1.5 rounded-lg bg-red-500/20",children:f.jsx(fb,{className:"w-4 h-4 text-red-400"})}),f.jsx("span",{className:"text-white/60 text-xs",children:r("balance.expense")})]}),f.jsxs("div",{className:"text-lg font-semibold text-red-400",children:["-",i(n)]})]})]})]})]})}function Q8({onAddIncome:t,onAddExpense:e,onAddGoal:n,onViewStats:r,onExport:i,onConnectBank:a}){const{t:o}=it(),s=[{icon:ho,labelKey:"actions.income",onClick:t,gradient:"gradient-income"},{icon:bD,labelKey:"actions.expense",onClick:e,gradient:"gradient-expense"},{icon:_j,labelKey:"actions.goal",onClick:n,gradient:"gradient-savings"},{icon:hb,labelKey:"actions.bank",onClick:a,gradient:"gradient-bank"},{icon:sD,labelKey:"actions.stats",onClick:r,gradient:"gradient-accent"}];return f.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid grid-cols-5 gap-2",children:s.map((c,l)=>f.jsx(Je.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1+l*.05},children:f.jsxs(Re,{variant:"ghost",onClick:c.onClick,className:"flex flex-col items-center justify-center w-full h-auto py-4 px-1 rounded-2xl bg-card hover:bg-card/80 shadow-card hover:shadow-card-hover transition-all duration-300 group",children:[f.jsx("div",{className:`p-3 rounded-xl ${c.gradient} mb-2 group-hover:scale-110 transition-transform`,children:f.jsx(c.icon,{className:"w-5 h-5 text-white"})}),f.jsx("span",{className:"text-xs font-medium text-muted-foreground group-hover:text-foreground transition-colors",children:o(c.labelKey)})]})},c.labelKey))})}const ai=[{id:"food",translationKey:"categories.expense.food",icon:"",type:"expense",color:"hsl(0 72% 51%)"},{id:"transport",translationKey:"categories.expense.transport",icon:"",type:"expense",color:"hsl(200 80% 50%)"},{id:"entertainment",translationKey:"categories.expense.entertainment",icon:"",type:"expense",color:"hsl(280 80% 55%)"},{id:"shopping",translationKey:"categories.expense.shopping",icon:"",type:"expense",color:"hsl(320 80% 55%)"},{id:"health",translationKey:"categories.expense.health",icon:"",type:"expense",color:"hsl(160 80% 45%)"},{id:"utilities",translationKey:"categories.expense.utilities",icon:"",type:"expense",color:"hsl(45 90% 50%)"},{id:"education",translationKey:"categories.expense.education",icon:"",type:"expense",color:"hsl(220 80% 55%)"},{id:"other",translationKey:"categories.expense.other",icon:"",type:"expense",color:"hsl(0 0% 50%)"}],Iu=[{id:"salary",translationKey:"categories.income.salary",icon:"",type:"income",color:"hsl(160 84% 39%)"},{id:"freelance",translationKey:"categories.income.freelance",icon:"",type:"income",color:"hsl(200 80% 50%)"},{id:"investments",translationKey:"categories.income.investments",icon:"",type:"income",color:"hsl(280 80% 55%)"},{id:"gifts",translationKey:"categories.income.gifts",icon:"",type:"income",color:"hsl(320 80% 55%)"},{id:"other",translationKey:"categories.income.other",icon:"",type:"income",color:"hsl(45 90% 50%)"}];function e6({transactions:t,onDelete:e}){const{t:n}=it(),{formatCurrency:r,locale:i}=_o(),a=l=>{const u=new Date(l),d=new Date,h=new Date(d);return h.setDate(h.getDate()-1),u.toDateString()===d.toDateString()?n("transactions.today"):u.toDateString()===h.toDateString()?n("transactions.yesterday"):u.toLocaleDateString(i,{day:"numeric",month:"short"})},o=(l,u)=>(u==="income"?Iu:ai).find(m=>m.id===l)||{icon:"",translationKey:l},s=t.reduce((l,u)=>{const d=u.date;return l[d]||(l[d]=[]),l[d].push(u),l},{}),c=Object.keys(s).sort((l,u)=>new Date(u).getTime()-new Date(l).getTime());return t.length===0?f.jsxs(Je.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-12 text-center",children:[f.jsx("div",{className:"text-6xl mb-4",children:""}),f.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:n("transactions.empty.title")}),f.jsx("p",{className:"text-muted-foreground text-sm",children:n("transactions.empty.description")})]}):f.jsx("div",{className:"space-y-4",children:c.slice(0,5).map(l=>f.jsxs("div",{children:[f.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2 px-1",children:a(l)}),f.jsx(Zn,{mode:"popLayout",children:s[l].map((u,d)=>{const h=o(u.category,u.type);return f.jsxs(Je.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:d*.05},className:"flex items-center justify-between p-4 bg-card rounded-xl mb-2 shadow-sm hover:shadow-card transition-shadow group",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"text-2xl",children:h.icon}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-foreground",children:n(h.translationKey)}),u.description&&f.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:u.description})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:`font-semibold ${u.type==="income"?"text-income":"text-expense"}`,children:[u.type==="income"?"+":"-",r(u.amount)]}),f.jsx(Re,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity h-8 w-8",onClick:()=>e(u.id),children:f.jsx(Au,{className:"w-4 h-4 text-muted-foreground hover:text-destructive"})})]})]},u.id)})})]},l))})}var r0="Progress",i0=100,[t6,bbe]=fa(r0),[n6,r6]=t6(r0),wE=O.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=i6,...o}=t;(i||i===0)&&!wS(i)&&console.error(a6(`${i}`,"Progress"));const s=wS(i)?i:i0;r!==null&&!SS(r,s)&&console.error(o6(`${r}`,"Progress"));const c=SS(r,s)?r:null,l=vf(c)?a(c,s):void 0;return f.jsx(n6,{scope:n,value:c,max:s,children:f.jsx(ft.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":vf(c)?c:void 0,"aria-valuetext":l,role:"progressbar","data-state":AE(c,s),"data-value":c??void 0,"data-max":s,...o,ref:e})})});wE.displayName=r0;var SE="ProgressIndicator",_E=O.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=r6(SE,n);return f.jsx(ft.div,{"data-state":AE(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});_E.displayName=SE;function i6(t,e){return`${Math.round(t/e*100)}%`}function AE(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function vf(t){return typeof t=="number"}function wS(t){return vf(t)&&!isNaN(t)&&t>0}function SS(t,e){return vf(t)&&!isNaN(t)&&t<=e&&t>=0}function a6(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${i0}\`.`}function o6(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${i0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var TE=wE,s6=_E;const Ll=O.forwardRef(({className:t,value:e,...n},r)=>f.jsx(TE,{ref:r,className:he("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:f.jsx(s6,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Ll.displayName=TE.displayName;function c6({goal:t,onAddFunds:e,onDelete:n}){const{t:r}=it(),{formatCurrency:i}=_o(),a=t.currentAmount/t.targetAmount*100,o=t.currentAmount>=t.targetAmount;return f.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative bg-card rounded-2xl p-4 shadow-card hover:shadow-card-hover transition-all group",children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"text-3xl",children:t.icon}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-foreground",children:t.name}),f.jsxs("div",{className:"text-xs text-muted-foreground",children:[i(t.currentAmount)," / ",i(t.targetAmount)]})]})]}),f.jsx(Re,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity h-8 w-8",onClick:()=>n(t.id),children:f.jsx(Au,{className:"w-4 h-4 text-muted-foreground hover:text-destructive"})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ll,{value:a,className:"h-2"}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:r("goals.progress",{percent:Math.round(a)})}),!o&&f.jsxs(Re,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs text-primary hover:text-primary",onClick:()=>e(t.id),children:[f.jsx(ho,{className:"w-3 h-3 mr-1"}),r("goals.addFunds")]}),o&&f.jsxs("span",{className:"text-xs font-medium text-success",children:[" ",r("goals.completed")]})]})]})]})}function l6({className:t}){const[e,n]=O.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem("kopimaster_theme");return i==="dark"||i==="light"?i:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}return"light"});O.useEffect(()=>{const i=document.documentElement;e==="dark"?i.classList.add("dark"):i.classList.remove("dark"),localStorage.setItem("kopimaster_theme",e)},[e]);const r=()=>{n(i=>i==="light"?"dark":"light")};return f.jsxs(Je.button,{onClick:r,className:he("relative h-10 w-10 rounded-full overflow-hidden","bg-gradient-to-br transition-all duration-500",e==="dark"?"from-indigo-900 via-purple-900 to-slate-900 shadow-[0_0_20px_rgba(139,92,246,0.3)]":"from-amber-200 via-orange-300 to-yellow-400 shadow-[0_0_20px_rgba(251,191,36,0.4)]",t),whileTap:{scale:.9},whileHover:{scale:1.05},"aria-label":e==="dark"?"Switch to light mode":"Switch to dark mode",children:[f.jsx(Zn,{children:e==="dark"&&f.jsx(f.Fragment,{children:[...Array(5)].map((i,a)=>f.jsx(Je.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{delay:a*.05},className:"absolute h-1 w-1 bg-white rounded-full",style:{top:`${15+Math.random()*50}%`,left:`${15+Math.random()*50}%`}},a))})}),f.jsx(Zn,{children:e==="light"&&f.jsx(Je.div,{initial:{opacity:0,rotate:-90},animate:{opacity:.3,rotate:0},exit:{opacity:0,rotate:90},className:"absolute inset-0",children:[...Array(8)].map((i,a)=>f.jsx("div",{className:"absolute top-1/2 left-1/2 h-0.5 w-3 bg-orange-500 rounded-full origin-left",style:{transform:`rotate(${a*45}deg) translateX(10px)`}},a))})}),f.jsx(Je.div,{className:"absolute inset-0 flex items-center justify-center",initial:!1,animate:{rotate:e==="dark"?0:360},transition:{duration:.5,ease:"easeInOut"},children:f.jsx(Zn,{mode:"wait",children:e==="dark"?f.jsx(Je.div,{initial:{y:-20,opacity:0,rotate:-30},animate:{y:0,opacity:1,rotate:0},exit:{y:20,opacity:0,rotate:30},transition:{duration:.3},children:f.jsx(xD,{className:"h-5 w-5 text-purple-200"})},"moon"):f.jsx(Je.div,{initial:{y:20,opacity:0,rotate:30},animate:{y:0,opacity:1,rotate:0},exit:{y:-20,opacity:0,rotate:-30},transition:{duration:.3},children:f.jsx(TD,{className:"h-5 w-5 text-amber-600"})},"sun")})}),f.jsx(Zn,{children:e==="light"&&f.jsx(Je.div,{initial:{x:30,opacity:0},animate:{x:0,opacity:1},exit:{x:-30,opacity:0},className:"absolute bottom-1 right-1 h-3 w-5 bg-white/60 rounded-full"})})]})}const Pn=O.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Pn.displayName="Input";var zh="Popover",[OE,xbe]=fa(zh,[ac]),Ru=ac(),[u6,ma]=OE(zh),jE=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=t,s=Ru(e),c=O.useRef(null),[l,u]=O.useState(!1),[d,h]=js({prop:r,defaultProp:i??!1,onChange:a,caller:zh});return f.jsx(tb,{...s,children:f.jsx(u6,{scope:e,contentId:oc(),triggerRef:c,open:d,onOpenChange:h,onOpenToggle:O.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:l,onCustomAnchorAdd:O.useCallback(()=>u(!0),[]),onCustomAnchorRemove:O.useCallback(()=>u(!1),[]),modal:o,children:n})})};jE.displayName=zh;var kE="PopoverAnchor",d6=O.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ma(kE,n),a=Ru(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return O.useEffect(()=>(o(),()=>s()),[o,s]),f.jsx(Sh,{...a,...r,ref:e})});d6.displayName=kE;var PE="PopoverTrigger",EE=O.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ma(PE,n),a=Ru(n),o=qt(e,i.triggerRef),s=f.jsx(ft.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":RE(i.open),...r,ref:o,onClick:nt(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:f.jsx(Sh,{asChild:!0,...a,children:s})});EE.displayName=PE;var a0="PopoverPortal",[f6,h6]=OE(a0,{forceMount:void 0}),CE=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,a=ma(a0,e);return f.jsx(f6,{scope:e,forceMount:n,children:f.jsx(_h,{present:n||a.open,children:f.jsx(ij,{asChild:!0,container:i,children:r})})})};CE.displayName=a0;var Cs="PopoverContent",NE=O.forwardRef((t,e)=>{const n=h6(Cs,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,a=ma(Cs,t.__scopePopover);return f.jsx(_h,{present:r||a.open,children:a.modal?f.jsx(m6,{...i,ref:e}):f.jsx(g6,{...i,ref:e})})});NE.displayName=Cs;var p6=aj("PopoverContent.RemoveScroll"),m6=O.forwardRef((t,e)=>{const n=ma(Cs,t.__scopePopover),r=O.useRef(null),i=qt(e,r),a=O.useRef(!1);return O.useEffect(()=>{const o=r.current;if(o)return ej(o)},[]),f.jsx(tj,{as:p6,allowPinchZoom:!0,children:f.jsx($E,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nt(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),a.current||(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:nt(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0,l=s.button===2||c;a.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:nt(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),g6=O.forwardRef((t,e)=>{const n=ma(Cs,t.__scopePopover),r=O.useRef(!1),i=O.useRef(!1);return f.jsx($E,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,l;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((l=n.triggerRef.current)==null?void 0:l.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),$E=O.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:l,onInteractOutside:u,...d}=t,h=ma(Cs,n),m=Ru(n);return nj(),f.jsx(rj,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:f.jsx(Zv,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:l,onDismiss:()=>h.onOpenChange(!1),children:f.jsx(Qv,{"data-state":RE(h.open),role:"dialog",id:h.contentId,...m,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),IE="PopoverClose",y6=O.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ma(IE,n);return f.jsx(ft.button,{type:"button",...r,ref:e,onClick:nt(t.onClick,()=>i.onOpenChange(!1))})});y6.displayName=IE;var v6="PopoverArrow",b6=O.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Ru(n);return f.jsx(eb,{...i,...r,ref:e})});b6.displayName=v6;function RE(t){return t?"open":"closed"}var x6=jE,w6=EE,S6=CE,DE=NE;const _6=x6,A6=w6,ME=O.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>f.jsx(S6,{children:f.jsx(DE,{ref:i,align:e,sideOffset:n,className:he("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));ME.displayName=DE.displayName;function T6({className:t,compact:e=!1}){const{t:n}=it(),{currency:r,setCurrency:i}=yk(),[a,o]=O.useState(!1),[s,c]=O.useState(""),l=nl.filter(y=>y.name.toLowerCase().includes(s.toLowerCase())||y.code.toLowerCase().includes(s.toLowerCase())),u=y=>{i(y),o(!1),c("")},d=["USD","EUR","GBP","UAH","PLN","JPY"],h=l.filter(y=>d.includes(y.code)),m=l.filter(y=>!d.includes(y.code));return f.jsxs(_6,{open:a,onOpenChange:o,children:[f.jsx(A6,{asChild:!0,children:f.jsxs(Re,{variant:"outline",size:e?"sm":"default",className:he("gap-2 font-medium transition-all",e?"h-8 px-2":"h-10 px-3",t),children:[f.jsx("span",{className:"text-lg",children:r.flag}),f.jsx("span",{className:he(e&&"hidden sm:inline"),children:r.code}),f.jsx("span",{className:"text-muted-foreground",children:r.symbol}),f.jsx(lb,{className:he("h-4 w-4 text-muted-foreground transition-transform",a&&"rotate-180")})]})}),f.jsxs(ME,{className:"w-72 p-0",align:"end",children:[f.jsx("div",{className:"p-3 border-b",children:f.jsxs("div",{className:"relative",children:[f.jsx(SD,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),f.jsx(Pn,{placeholder:n("settings.searchCurrency"),value:s,onChange:y=>c(y.target.value),className:"pl-9"})]})}),f.jsxs("div",{className:"max-h-[300px] overflow-y-auto",children:[h.length>0&&f.jsxs("div",{className:"p-2",children:[f.jsx("p",{className:"px-2 py-1 text-xs font-medium text-muted-foreground",children:n("settings.popular")}),f.jsx(Zn,{children:h.map((y,v)=>f.jsxs(Je.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:v*.02},onClick:()=>u(y),className:he("w-full flex items-center gap-3 px-2 py-2 rounded-lg transition-colors","hover:bg-muted",r.code===y.code&&"bg-primary/10"),children:[f.jsx("span",{className:"text-xl",children:y.flag}),f.jsxs("div",{className:"flex-1 text-left",children:[f.jsx("div",{className:"font-medium",children:y.code}),f.jsx("div",{className:"text-xs text-muted-foreground",children:y.name})]}),f.jsx("span",{className:"text-muted-foreground",children:y.symbol}),r.code===y.code&&f.jsx(_l,{className:"h-4 w-4 text-primary"})]},y.code))})]}),m.length>0&&f.jsxs("div",{className:"p-2 border-t",children:[f.jsx("p",{className:"px-2 py-1 text-xs font-medium text-muted-foreground",children:n("settings.allCurrencies")}),m.map(y=>f.jsxs("button",{onClick:()=>u(y),className:he("w-full flex items-center gap-3 px-2 py-2 rounded-lg transition-colors","hover:bg-muted",r.code===y.code&&"bg-primary/10"),children:[f.jsx("span",{className:"text-xl",children:y.flag}),f.jsxs("div",{className:"flex-1 text-left",children:[f.jsx("div",{className:"font-medium",children:y.code}),f.jsx("div",{className:"text-xs text-muted-foreground",children:y.name})]}),f.jsx("span",{className:"text-muted-foreground",children:y.symbol}),r.code===y.code&&f.jsx(_l,{className:"h-4 w-4 text-primary"})]},y.code))]}),l.length===0&&f.jsx("div",{className:"p-4 text-center text-muted-foreground",children:n("settings.noCurrencyFound")})]})]})]})}var LE={exports:{}},BE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ns=O;function O6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var j6=typeof Object.is=="function"?Object.is:O6,k6=Ns.useState,P6=Ns.useEffect,E6=Ns.useLayoutEffect,C6=Ns.useDebugValue;function N6(t,e){var n=e(),r=k6({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return E6(function(){i.value=n,i.getSnapshot=e,Hm(i)&&a({inst:i})},[t,n,e]),P6(function(){return Hm(i)&&a({inst:i}),t(function(){Hm(i)&&a({inst:i})})},[t]),C6(n),n}function Hm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!j6(t,n)}catch{return!0}}function $6(t,e){return e()}var I6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$6:N6;BE.useSyncExternalStore=Ns.useSyncExternalStore!==void 0?Ns.useSyncExternalStore:I6;LE.exports=BE;var R6=LE.exports;function D6(){return R6.useSyncExternalStore(M6,()=>!0,()=>!1)}function M6(){return()=>{}}var o0="Avatar",[L6,wbe]=fa(o0),[B6,FE]=L6(o0),UE=O.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=O.useState("idle");return f.jsx(B6,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:f.jsx(ft.span,{...r,ref:e})})});UE.displayName=o0;var VE="AvatarImage",qE=O.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,o=FE(VE,n),s=F6(r,a),c=oj(l=>{i(l),o.onImageLoadingStatusChange(l)});return Lr(()=>{s!=="idle"&&c(s)},[s,c]),s==="loaded"?f.jsx(ft.img,{...a,ref:e,src:r}):null});qE.displayName=VE;var KE="AvatarFallback",zE=O.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=FE(KE,n),[o,s]=O.useState(r===void 0);return O.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>s(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?f.jsx(ft.span,{...i,ref:e}):null});zE.displayName=KE;function _S(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function F6(t,{referrerPolicy:e,crossOrigin:n}){const r=D6(),i=O.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,s]=O.useState(()=>_S(a,t));return Lr(()=>{s(_S(a,t))},[a,t]),Lr(()=>{const c=d=>()=>{s(d)};if(!a)return;const l=c("loaded"),u=c("error");return a.addEventListener("load",l),a.addEventListener("error",u),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",l),a.removeEventListener("error",u)}},[a,n,e]),o}var WE=UE,GE=qE,HE=zE;const hy=O.forwardRef(({className:t,...e},n)=>f.jsx(WE,{ref:n,className:he("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));hy.displayName=WE.displayName;const py=O.forwardRef(({className:t,...e},n)=>f.jsx(GE,{ref:n,className:he("aspect-square h-full w-full",t),...e}));py.displayName=GE.displayName;const my=O.forwardRef(({className:t,...e},n)=>f.jsx(HE,{ref:n,className:he("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));my.displayName=HE.displayName;function U6(){var a,o,s,c,l,u,d,h;const{t}=it(),{user:e,signOut:n}=yr();if(!e)return null;const r=((o=(a=e.user_metadata)==null?void 0:a.full_name)==null?void 0:o.split(" ").map(m=>m[0]).join("").toUpperCase())||((c=(s=e.email)==null?void 0:s[0])==null?void 0:c.toUpperCase())||"U",i=async()=>{try{await n()}catch(m){console.error("Failed to sign out:",m)}};return f.jsxs(Mh,{children:[f.jsx(Lh,{asChild:!0,children:f.jsx("button",{className:"rounded-full focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",children:f.jsxs(hy,{className:"w-10 h-10 border-2 border-primary/20",children:[f.jsx(py,{src:(l=e.user_metadata)==null?void 0:l.avatar_url,alt:(u=e.user_metadata)==null?void 0:u.full_name}),f.jsx(my,{className:"bg-primary/10 text-primary font-semibold",children:r})]})})}),f.jsxs(Cu,{align:"end",className:"w-56",children:[f.jsxs("div",{className:"flex items-center gap-3 p-3",children:[f.jsxs(hy,{className:"w-10 h-10",children:[f.jsx(py,{src:(d=e.user_metadata)==null?void 0:d.avatar_url}),f.jsx(my,{children:r})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"font-medium text-sm truncate",children:((h=e.user_metadata)==null?void 0:h.full_name)||t("settings.title")}),f.jsx("span",{className:"text-xs text-muted-foreground truncate",children:e.email})]})]}),f.jsx(iE,{}),f.jsxs(xi,{onClick:i,className:"text-destructive cursor-pointer",children:[f.jsx(vD,{className:"w-4 h-4 mr-2"}),t("auth.signOut")]})]})]})}function V6({isOpen:t,type:e,onClose:n,onAdd:r}){const{t:i}=it(),{currencySymbol:a}=_o(),[o,s]=O.useState(""),[c,l]=O.useState(""),[u,d]=O.useState(""),h=e==="income"?Iu:ai,m=()=>{!o||!c||(r({type:e,amount:parseFloat(o),category:c,description:u,date:new Date().toISOString().split("T")[0]}),s(""),l(""),d(""),n())};return f.jsx(Zn,{children:t&&f.jsxs(f.Fragment,{children:[f.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:n}),f.jsxs(Je.div,{initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 bg-background rounded-t-3xl z-50 p-6 pb-8 max-h-[85vh] overflow-y-auto",children:[f.jsx("div",{className:"w-12 h-1 bg-muted rounded-full mx-auto mb-4"}),f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-xl font-display font-bold",children:i(e==="income"?"transactions.addIncome":"transactions.addExpense")}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:n,children:f.jsx(Qn,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:i("form.amount")}),f.jsxs("div",{className:"relative",children:[f.jsx(Pn,{type:"number",placeholder:"0",value:o,onChange:y=>s(y.target.value),className:"text-3xl font-bold h-16 text-center border-2 rounded-xl"}),f.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground",children:a})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-3 block",children:i("form.category")}),f.jsx("div",{className:"grid grid-cols-4 gap-2",children:h.map(y=>f.jsxs(Je.button,{whileTap:{scale:.95},onClick:()=>l(y.id),className:`flex flex-col items-center p-3 rounded-xl transition-all ${c===y.id?"bg-primary text-primary-foreground shadow-glow":"bg-muted hover:bg-muted/80"}`,children:[f.jsx("span",{className:"text-2xl mb-1",children:y.icon}),f.jsx("span",{className:"text-xs font-medium truncate w-full text-center",children:i(y.translationKey)})]},y.id))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:i("form.description")}),f.jsx(Pn,{placeholder:i("form.descriptionPlaceholder"),value:u,onChange:y=>d(y.target.value),className:"rounded-xl"})]}),f.jsx(Re,{onClick:m,disabled:!o||!c,className:`w-full h-14 text-lg font-semibold rounded-xl ${e==="income"?"gradient-income":"gradient-expense"} text-white hover:opacity-90 transition-opacity`,children:i(e==="income"?"transactions.addIncome":"transactions.addExpense")})]})]})]})})}const q6=["","","","","","","","","","","",""];function K6({isOpen:t,onClose:e,onAdd:n}){const{t:r}=it(),{currencySymbol:i}=_o(),[a,o]=O.useState(""),[s,c]=O.useState(""),[l,u]=O.useState(""),d=()=>{!a||!s||(n({name:a,targetAmount:parseFloat(s),currentAmount:0,icon:l,color:"hsl(38 92% 50%)"}),o(""),c(""),u(""),e())};return f.jsx(Zn,{children:t&&f.jsxs(f.Fragment,{children:[f.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:e}),f.jsxs(Je.div,{initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 bg-background rounded-t-3xl z-50 p-6 pb-8 max-h-[85vh] overflow-y-auto",children:[f.jsx("div",{className:"w-12 h-1 bg-muted rounded-full mx-auto mb-4"}),f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-xl font-display font-bold",children:r("goals.new")}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:e,children:f.jsx(Qn,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-3 block",children:r("goals.icon")}),f.jsx("div",{className:"grid grid-cols-6 gap-2",children:q6.map(h=>f.jsx(Je.button,{whileTap:{scale:.95},onClick:()=>u(h),className:`flex items-center justify-center p-3 rounded-xl transition-all text-2xl ${l===h?"bg-primary shadow-glow":"bg-muted hover:bg-muted/80"}`,children:h},h))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:r("goals.name")}),f.jsx(Pn,{placeholder:r("goals.namePlaceholder"),value:a,onChange:h=>o(h.target.value),className:"rounded-xl h-12"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:r("goals.targetAmount")}),f.jsxs("div",{className:"relative",children:[f.jsx(Pn,{type:"number",placeholder:"100000",value:s,onChange:h=>c(h.target.value),className:"text-2xl font-bold h-14 text-center border-2 rounded-xl"}),f.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground",children:i})]})]}),f.jsx(Re,{onClick:d,disabled:!a||!s,className:"w-full h-14 text-lg font-semibold rounded-xl gradient-savings text-white hover:opacity-90 transition-opacity",children:r("goals.create")})]})]})]})})}function z6({isOpen:t,goal:e,onClose:n,onAdd:r}){const{t:i}=it(),{formatCurrency:a,formatNumber:o,currencySymbol:s}=_o(),[c,l]=O.useState(""),u=()=>{!c||!e||(r(e.id,parseFloat(c)),l(""),n())},d=e?e.targetAmount-e.currentAmount:0,h=[100,500,1e3];return f.jsx(Zn,{children:t&&e&&f.jsxs(f.Fragment,{children:[f.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:n}),f.jsxs(Je.div,{initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 bg-background rounded-t-3xl z-50 p-6 pb-8",children:[f.jsx("div",{className:"w-12 h-1 bg-muted rounded-full mx-auto mb-4"}),f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-3xl",children:e.icon}),f.jsx("h2",{className:"text-xl font-display font-bold",children:e.name})]}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:n,children:f.jsx(Qn,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"bg-muted rounded-xl p-4 mb-6",children:[f.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:i("goals.remaining")}),f.jsx("div",{className:"text-2xl font-bold text-foreground",children:a(d)})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:i("goals.fundAmount")}),f.jsxs("div",{className:"relative",children:[f.jsx(Pn,{type:"number",placeholder:"0",value:c,onChange:m=>l(m.target.value),className:"text-2xl font-bold h-14 text-center border-2 rounded-xl"}),f.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground",children:s})]})]}),f.jsx("div",{className:"flex gap-2",children:h.map(m=>f.jsxs(Re,{variant:"outline",onClick:()=>l(m.toString()),className:"flex-1 rounded-xl",children:["+",o(m)," ",s]},m))}),f.jsx(Re,{onClick:u,disabled:!c||parseFloat(c)<=0,className:"w-full h-14 text-lg font-semibold rounded-xl gradient-primary text-white hover:opacity-90 transition-opacity",children:i("goals.addFunds")})]})]})]})})}function W6({isOpen:t,onClose:e,expensesByCategory:n,monthlyIncome:r,monthlyExpense:i}){const{t:a,i18n:o}=it(),{formatCurrency:s,locale:c}=_o(),l=Object.values(n).reduce((h,m)=>h+m,0),u=Object.entries(n).map(([h,m])=>{const y=ai.find(v=>v.id===h);return{id:h,translationKey:(y==null?void 0:y.translationKey)||h,icon:(y==null?void 0:y.icon)||"",amount:m,percentage:l>0?m/l*100:0,color:(y==null?void 0:y.color)||"hsl(0 0% 50%)"}}).sort((h,m)=>m.amount-h.amount),d=new Date().toLocaleDateString(c,{month:"long",year:"numeric"});return f.jsx(Zn,{children:t&&f.jsxs(f.Fragment,{children:[f.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:e}),f.jsxs(Je.div,{initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 bg-background rounded-t-3xl z-50 p-6 pb-8 max-h-[85vh] overflow-y-auto",children:[f.jsx("div",{className:"w-12 h-1 bg-muted rounded-full mx-auto mb-4"}),f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-display font-bold",children:a("stats.title")}),f.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:d})]}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:e,children:f.jsx(Qn,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[f.jsxs("div",{className:"bg-muted rounded-xl p-4",children:[f.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:a("stats.incomes")}),f.jsxs("div",{className:"text-xl font-bold text-income",children:["+",s(r)]})]}),f.jsxs("div",{className:"bg-muted rounded-xl p-4",children:[f.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:a("stats.expenses")}),f.jsxs("div",{className:"text-xl font-bold text-expense",children:["-",s(i)]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-foreground mb-4",children:a("stats.byCategory")}),u.length===0?f.jsx("div",{className:"text-center py-8 text-muted-foreground",children:a("stats.noData")}):f.jsx("div",{className:"space-y-3",children:u.map((h,m)=>f.jsxs(Je.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.05},className:"bg-card rounded-xl p-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-2xl",children:h.icon}),f.jsx("span",{className:"font-medium",children:a(h.translationKey)})]}),f.jsx("span",{className:"font-semibold",children:s(h.amount)})]}),f.jsx("div",{className:"relative h-2 bg-muted rounded-full overflow-hidden",children:f.jsx(Je.div,{initial:{width:0},animate:{width:`${h.percentage}%`},transition:{delay:m*.05,duration:.5},className:"absolute inset-y-0 left-0 rounded-full",style:{backgroundColor:h.color}})}),f.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:a("stats.ofTotal",{percent:h.percentage.toFixed(1)})})]},h.id))})]})]})]})})}var YE="AlertDialog",[G6,Sbe]=fa(YE,[sj]),Ei=sj(),XE=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ei(e);return f.jsx(lj,{...r,...n,modal:!0})};XE.displayName=YE;var H6="AlertDialogTrigger",Y6=O.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ei(n);return f.jsx(V2,{...i,...r,ref:e})});Y6.displayName=H6;var X6="AlertDialogPortal",JE=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ei(e);return f.jsx(cj,{...r,...n})};JE.displayName=X6;var J6="AlertDialogOverlay",ZE=O.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ei(n);return f.jsx(rb,{...i,...r,ref:e})});ZE.displayName=J6;var hs="AlertDialogContent",[Z6,Q6]=G6(hs),ez=qO("AlertDialogContent"),QE=O.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,a=Ei(n),o=O.useRef(null),s=qt(e,o),c=O.useRef(null);return f.jsx(q2,{contentName:hs,titleName:eC,docsSlug:"alert-dialog",children:f.jsx(Z6,{scope:n,cancelRef:c,children:f.jsxs(ib,{role:"alertdialog",...a,...i,ref:s,onOpenAutoFocus:nt(i.onOpenAutoFocus,l=>{var u;l.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:l=>l.preventDefault(),onInteractOutside:l=>l.preventDefault(),children:[f.jsx(ez,{children:r}),f.jsx(nz,{contentRef:o})]})})})});QE.displayName=hs;var eC="AlertDialogTitle",tC=O.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ei(n);return f.jsx(ab,{...i,...r,ref:e})});tC.displayName=eC;var nC="AlertDialogDescription",rC=O.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ei(n);return f.jsx(ob,{...i,...r,ref:e})});rC.displayName=nC;var tz="AlertDialogAction",iC=O.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ei(n);return f.jsx(sb,{...i,...r,ref:e})});iC.displayName=tz;var aC="AlertDialogCancel",oC=O.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=Q6(aC,n),a=Ei(n),o=qt(e,i);return f.jsx(sb,{...a,...r,ref:o})});oC.displayName=aC;var nz=({contentRef:t})=>{const e=`\`${hs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${hs}\` by passing a \`${nC}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${hs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return O.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},rz=XE,iz=JE,sC=ZE,cC=QE,lC=iC,uC=oC,dC=tC,fC=rC;const hC=rz,az=iz,pC=O.forwardRef(({className:t,...e},n)=>f.jsx(sC,{className:he("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));pC.displayName=sC.displayName;const s0=O.forwardRef(({className:t,...e},n)=>f.jsxs(az,{children:[f.jsx(pC,{}),f.jsx(cC,{ref:n,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));s0.displayName=cC.displayName;const c0=({className:t,...e})=>f.jsx("div",{className:he("flex flex-col space-y-2 text-center sm:text-left",t),...e});c0.displayName="AlertDialogHeader";const l0=({className:t,...e})=>f.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});l0.displayName="AlertDialogFooter";const u0=O.forwardRef(({className:t,...e},n)=>f.jsx(dC,{ref:n,className:he("text-lg font-semibold",t),...e}));u0.displayName=dC.displayName;const d0=O.forwardRef(({className:t,...e},n)=>f.jsx(fC,{ref:n,className:he("text-sm text-muted-foreground",t),...e}));d0.displayName=fC.displayName;const f0=O.forwardRef(({className:t,...e},n)=>f.jsx(lC,{ref:n,className:he(e0(),t),...e}));f0.displayName=lC.displayName;const h0=O.forwardRef(({className:t,...e},n)=>f.jsx(uC,{ref:n,className:he(e0({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));h0.displayName=uC.displayName;const Wh=lj,oz=cj,mC=O.forwardRef(({className:t,...e},n)=>f.jsx(rb,{ref:n,className:he("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));mC.displayName=rb.displayName;const Du=O.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(oz,{children:[f.jsx(mC,{}),f.jsxs(ib,{ref:r,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(sb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[f.jsx(Qn,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Du.displayName=ib.displayName;const Mu=({className:t,...e})=>f.jsx("div",{className:he("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Mu.displayName="DialogHeader";const Lu=O.forwardRef(({className:t,...e},n)=>f.jsx(ab,{ref:n,className:he("text-lg font-semibold leading-none tracking-tight",t),...e}));Lu.displayName=ab.displayName;const sz=O.forwardRef(({className:t,...e},n)=>f.jsx(ob,{ref:n,className:he("text-sm text-muted-foreground",t),...e}));sz.displayName=ob.displayName;var cz="Label",gC=O.forwardRef((t,e)=>f.jsx(ft.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));gC.displayName=cz;var yC=gC;const lz=Su("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Wn=O.forwardRef(({className:t,...e},n)=>f.jsx(yC,{ref:n,className:he(lz(),t),...e}));Wn.displayName=yC.displayName;const uz=Su("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Fa=O.forwardRef(({className:t,variant:e,...n},r)=>f.jsx("div",{ref:r,role:"alert",className:he(uz({variant:e}),t),...n}));Fa.displayName="Alert";const dz=O.forwardRef(({className:t,...e},n)=>f.jsx("h5",{ref:n,className:he("mb-1 font-medium leading-none tracking-tight",t),...e}));dz.displayName="AlertTitle";const Ua=O.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:he("text-sm [&_p]:leading-relaxed",t),...e}));Ua.displayName="AlertDescription";function fz({isOpen:t,onClose:e}){const{t:n}=it(),{user:r}=yr(),{connections:i,connectBank:a,syncConnection:o,disconnectBank:s,loadConnections:c,isLoading:l,isSyncing:u}=H8(),[d,h]=O.useState("monobank"),[m,y]=O.useState(""),[v,b]=O.useState(null),[w,_]=O.useState(null),S=Jo.getAvailableProviders();S.some(D=>D.provider==="monobank");const k=S.some(D=>D.provider==="nordigen"),A=S.some(D=>D.provider==="plaid");O.useEffect(()=>{t&&(r!=null&&r.id)&&c(r.id)},[t,r==null?void 0:r.id,c]);const j=i.filter(D=>D.status!=="disconnected"),E=async()=>{if(!(!r||!m.trim())){b(null);try{await a(r.id,"monobank",m.trim(),"Monobank"),y(""),Hi.success(n("banking.syncSuccess"))}catch(D){b(D.message)}}},N=async D=>{_(D);try{const X=await o(D);X.success?Hi.success(n("banking.syncSuccessDescription",{accounts:X.accountsSynced,transactions:X.newTransactions})):X.errors.length>0&&Hi.error(X.errors[0])}catch(X){Hi.error(X.message)}finally{_(null)}},R=async D=>{try{await s(D),Hi.success(n("banking.disconnect"))}catch(X){Hi.error(X.message)}},q=async()=>{b("Nordigen integration requires environment configuration")},L=async()=>{b("Plaid integration requires backend configuration")};return f.jsx(Wh,{open:t,onOpenChange:e,children:f.jsxs(Du,{className:"sm:max-w-md max-h-[85vh] overflow-y-auto",children:[f.jsx(Mu,{children:f.jsx(Lu,{children:n("banking.title")})}),j.length>0&&f.jsxs("div",{className:"space-y-3 mb-4",children:[f.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:n("banking.status.active")}),j.map(D=>f.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${D.status==="active"?"bg-green-500":D.status==="error"?"bg-red-500":"bg-yellow-500"}`}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-sm",children:D.institutionName||D.provider}),f.jsx("p",{className:"text-xs text-muted-foreground",children:D.lastSyncAt?n("banking.daysAgo",{count:Math.floor((Date.now()-new Date(D.lastSyncAt).getTime())/864e5)||0}):n("banking.neverSynced")})]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>N(D.id),disabled:w===D.id||u,title:n("banking.syncAll"),children:f.jsx(tf,{className:`h-4 w-4 ${w===D.id?"animate-spin":""}`})}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>R(D.id),title:n("banking.disconnect"),children:f.jsx(Au,{className:"h-4 w-4 text-destructive"})})]})]},D.id))]}),f.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:n("banking.addConnection")}),f.jsxs(Kh,{value:d,onValueChange:D=>h(D),children:[f.jsxs($u,{className:"grid w-full grid-cols-3",children:[f.jsx(wi,{value:"monobank",children:"Monobank"}),f.jsx(wi,{value:"nordigen",children:"EU Banks"}),f.jsx(wi,{value:"plaid",children:"Plaid"})]}),f.jsxs(Rr,{value:"monobank",className:"space-y-4 mt-4",children:[f.jsxs(Fa,{children:[f.jsx(Uc,{className:"h-4 w-4"}),f.jsx(Ua,{children:n("banking.monobankInfo")})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Wn,{htmlFor:"monobank-token",children:n("banking.monobankToken")}),f.jsx(Pn,{id:"monobank-token",type:"password",value:m,onChange:D=>y(D.target.value),placeholder:n("banking.tokenPlaceholder")}),f.jsxs("a",{href:"https://api.monobank.ua/",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline inline-flex items-center gap-1",children:[n("banking.getToken"),f.jsx(yj,{className:"h-3 w-3"})]})]}),v&&f.jsx(Fa,{variant:"destructive",children:f.jsx(Ua,{children:v})}),f.jsx(Re,{onClick:E,disabled:l||!m.trim(),className:"w-full",children:l?f.jsxs(f.Fragment,{children:[f.jsx(ub,{className:"mr-2 h-4 w-4 animate-spin"}),n("common.processing")]}):n("banking.connect")})]}),f.jsxs(Rr,{value:"nordigen",className:"space-y-4 mt-4",children:[f.jsxs(Fa,{children:[f.jsx(Uc,{className:"h-4 w-4"}),f.jsx(Ua,{children:n("banking.nordigenInfo")})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"text-sm text-muted-foreground",children:[f.jsx("p",{className:"font-medium mb-2",children:n("banking.nordigenCountries")}),f.jsx("p",{className:"text-xs",children:n("banking.nordigenCountriesList")})]}),k?f.jsx(Re,{onClick:q,className:"w-full",children:n("banking.selectBank")}):f.jsxs(Fa,{children:[f.jsx(Uc,{className:"h-4 w-4"}),f.jsx(Ua,{className:"text-sm",children:n("banking.nordigenNotConfigured")})]})]})]}),f.jsxs(Rr,{value:"plaid",className:"space-y-4 mt-4",children:[f.jsxs(Fa,{children:[f.jsx(Uc,{className:"h-4 w-4"}),f.jsx(Ua,{children:n("banking.plaidInfo")})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"text-sm text-muted-foreground",children:[f.jsx("p",{className:"font-medium mb-2",children:n("banking.plaidCountries")}),f.jsx("p",{className:"text-xs",children:n("banking.plaidCountriesList")})]}),A?f.jsx(Re,{onClick:L,className:"w-full",children:n("banking.connectWithPlaid")}):f.jsxs(Fa,{children:[f.jsx(Uc,{className:"h-4 w-4"}),f.jsx(Ua,{className:"text-sm",children:n("banking.plaidNotConfigured")})]})]})]})]})]})})}function vC({spent:t,limit:e,alertThreshold:n,showLabels:r=!0,size:i="md",currency:a="$"}){const{t:o}=it(),s=Math.min(t/e*100,100),c=t/e>=n,l=t>=e,u=()=>l?"bg-red-500":c?"bg-yellow-500":"bg-green-500",d=()=>o(l?"budgets.exceeded":c?"budgets.warning":"budgets.onTrack"),h={sm:"h-1.5",md:"h-2.5",lg:"h-4"},m=y=>`${a}${y.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})}`;return f.jsxs("div",{className:"space-y-1.5",children:[r&&f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsxs("span",{className:"text-muted-foreground",children:[m(t)," / ",m(e)]}),f.jsx("span",{className:he("font-medium",l&&"text-red-500",c&&!l&&"text-yellow-500",!c&&"text-green-500"),children:d()})]}),f.jsxs("div",{className:he("relative w-full bg-secondary rounded-full overflow-hidden",h[i]),children:[f.jsx("div",{className:he("h-full transition-all duration-300 rounded-full",u()),style:{width:`${s}%`}}),f.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-yellow-500/50",style:{left:`${n*100}%`}})]}),r&&f.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[f.jsxs("span",{children:[s.toFixed(0),"% ",o("budgets.used")]}),f.jsxs("span",{children:[m(e-t)," ",o("budgets.remaining")]})]})]})}function hz({budget:t,currency:e="$",onEdit:n}){const{t:r}=it(),{deleteBudget:i,updateBudget:a}=fc(),[o,s]=O.useState(!1),c=ai.find(m=>m.id===t.category),l=(c==null?void 0:c.icon)||"",u=c?r(c.translationKey):t.category,d=async()=>{await a(t.id,{isActive:!t.isActive})},h=async()=>{await i(t.id),s(!1)};return f.jsxs(f.Fragment,{children:[f.jsx($t,{className:`bg-card/50 border-border/50 ${t.isActive?"":"opacity-60"}`,children:f.jsxs(It,{className:"p-4",children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"text-2xl",children:l}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium",children:u}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[r("budgets.monthlyLimit"),": ",e,t.monthlyLimit.toLocaleString()]})]})]}),f.jsxs(Mh,{children:[f.jsx(Lh,{asChild:!0,children:f.jsx(Re,{variant:"ghost",size:"icon",className:"h-8 w-8",children:f.jsx(gj,{className:"h-4 w-4"})})}),f.jsxs(Cu,{align:"end",children:[f.jsxs(xi,{onClick:()=>n==null?void 0:n(t),children:[f.jsx(xj,{className:"h-4 w-4 mr-2"}),r("common.edit")]}),f.jsx(xi,{onClick:d,children:t.isActive?f.jsxs(f.Fragment,{children:[f.jsx(bj,{className:"h-4 w-4 mr-2"}),r("budgets.pause")]}):f.jsxs(f.Fragment,{children:[f.jsx(wj,{className:"h-4 w-4 mr-2"}),r("budgets.resume")]})}),f.jsxs(xi,{onClick:()=>s(!0),className:"text-red-500",children:[f.jsx(Au,{className:"h-4 w-4 mr-2"}),r("common.delete")]})]})]})]}),f.jsx(vC,{spent:t.spent||0,limit:t.monthlyLimit,alertThreshold:t.alertThreshold,currency:e})]})}),f.jsx(hC,{open:o,onOpenChange:s,children:f.jsxs(s0,{children:[f.jsxs(c0,{children:[f.jsx(u0,{children:r("budgets.deleteTitle")}),f.jsx(d0,{children:r("budgets.deleteDescription",{category:u})})]}),f.jsxs(l0,{children:[f.jsx(h0,{children:r("common.cancel")}),f.jsx(f0,{onClick:h,className:"bg-red-500 hover:bg-red-600",children:r("common.delete")})]})]})})]})}function bf(t,[e,n]){return Math.min(n,Math.max(e,t))}function bC(t){const e=O.useRef({value:t,previous:t});return O.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var xC=["PageUp","PageDown"],wC=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],SC={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},hc="Slider",[gy,pz,mz]=uj(hc),[_C,_be]=fa(hc,[mz]),[gz,Gh]=_C(hc),AC=O.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:s=!1,minStepsBetweenThumbs:c=0,defaultValue:l=[r],value:u,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:y,...v}=t,b=O.useRef(new Set),w=O.useRef(0),S=o==="horizontal"?yz:vz,[k=[],A]=js({prop:u,defaultProp:l,onChange:L=>{var X;(X=[...b.current][w.current])==null||X.focus(),d(L)}}),j=O.useRef(k);function E(L){const D=_z(k,L);q(L,D)}function N(L){q(L,w.current)}function R(){const L=j.current[w.current];k[w.current]!==L&&h(k)}function q(L,D,{commit:X}={commit:!1}){const ee=jz(a),W=kz(Math.round((L-r)/a)*a+r,ee),Q=bf(W,[r,i]);A((te=[])=>{const ae=wz(te,Q,D);if(Oz(ae,c*a)){w.current=ae.indexOf(Q);const re=String(ae)!==String(te);return re&&X&&h(ae),re?ae:te}else return te})}return f.jsx(gz,{scope:t.__scopeSlider,name:n,disabled:s,min:r,max:i,valueIndexToChangeRef:w,thumbs:b.current,values:k,orientation:o,form:y,children:f.jsx(gy.Provider,{scope:t.__scopeSlider,children:f.jsx(gy.Slot,{scope:t.__scopeSlider,children:f.jsx(S,{"aria-disabled":s,"data-disabled":s?"":void 0,...v,ref:e,onPointerDown:nt(v.onPointerDown,()=>{s||(j.current=k)}),min:r,max:i,inverted:m,onSlideStart:s?void 0:E,onSlideMove:s?void 0:N,onSlideEnd:s?void 0:R,onHomeKeyDown:()=>!s&&q(r,0,{commit:!0}),onEndKeyDown:()=>!s&&q(i,k.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:D})=>{if(!s){const W=xC.includes(L.key)||L.shiftKey&&wC.includes(L.key)?10:1,Q=w.current,te=k[Q],ae=a*W*D;q(te+ae,Q,{commit:!0})}}})})})})});AC.displayName=hc;var[TC,OC]=_C(hc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),yz=O.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:a,onSlideStart:o,onSlideMove:s,onSlideEnd:c,onStepKeyDown:l,...u}=t,[d,h]=O.useState(null),m=qt(e,S=>h(S)),y=O.useRef(void 0),v=nb(i),b=v==="ltr",w=b&&!a||!b&&a;function _(S){const k=y.current||d.getBoundingClientRect(),A=[0,k.width],E=p0(A,w?[n,r]:[r,n]);return y.current=k,E(S-k.left)}return f.jsx(TC,{scope:t.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:f.jsx(jC,{dir:v,"data-orientation":"horizontal",...u,ref:m,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const k=_(S.clientX);o==null||o(k)},onSlideMove:S=>{const k=_(S.clientX);s==null||s(k)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:S=>{const A=SC[w?"from-left":"from-right"].includes(S.key);l==null||l({event:S,direction:A?-1:1})}})})}),vz=O.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:s,onStepKeyDown:c,...l}=t,u=O.useRef(null),d=qt(e,u),h=O.useRef(void 0),m=!i;function y(v){const b=h.current||u.current.getBoundingClientRect(),w=[0,b.height],S=p0(w,m?[r,n]:[n,r]);return h.current=b,S(v-b.top)}return f.jsx(TC,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:f.jsx(jC,{"data-orientation":"vertical",...l,ref:d,style:{...l.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const b=y(v.clientY);a==null||a(b)},onSlideMove:v=>{const b=y(v.clientY);o==null||o(b)},onSlideEnd:()=>{h.current=void 0,s==null||s()},onStepKeyDown:v=>{const w=SC[m?"from-bottom":"from-top"].includes(v.key);c==null||c({event:v,direction:w?-1:1})}})})}),jC=O.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:s,onStepKeyDown:c,...l}=t,u=Gh(hc,n);return f.jsx(ft.span,{...l,ref:e,onKeyDown:nt(t.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(s(d),d.preventDefault()):xC.concat(wC).includes(d.key)&&(c(d),d.preventDefault())}),onPointerDown:nt(t.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),u.thumbs.has(h)?h.focus():r(d)}),onPointerMove:nt(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&i(d)}),onPointerUp:nt(t.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),a(d))})})}),kC="SliderTrack",PC=O.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Gh(kC,n);return f.jsx(ft.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});PC.displayName=kC;var yy="SliderRange",EC=O.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Gh(yy,n),a=OC(yy,n),o=O.useRef(null),s=qt(e,o),c=i.values.length,l=i.values.map(h=>$C(h,i.min,i.max)),u=c>1?Math.min(...l):0,d=100-Math.max(...l);return f.jsx(ft.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:s,style:{...t.style,[a.startEdge]:u+"%",[a.endEdge]:d+"%"}})});EC.displayName=yy;var vy="SliderThumb",CC=O.forwardRef((t,e)=>{const n=pz(t.__scopeSlider),[r,i]=O.useState(null),a=qt(e,s=>i(s)),o=O.useMemo(()=>r?n().findIndex(s=>s.ref.current===r):-1,[n,r]);return f.jsx(bz,{...t,ref:a,index:o})}),bz=O.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...a}=t,o=Gh(vy,n),s=OC(vy,n),[c,l]=O.useState(null),u=qt(e,_=>l(_)),d=c?o.form||!!c.closest("form"):!0,h=K2(c),m=o.values[r],y=m===void 0?0:$C(m,o.min,o.max),v=Sz(r,o.values.length),b=h==null?void 0:h[s.size],w=b?Az(b,y,s.direction):0;return O.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),f.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${y}% + ${w}px)`},children:[f.jsx(gy.ItemSlot,{scope:t.__scopeSlider,children:f.jsx(ft.span,{role:"slider","aria-label":t["aria-label"]||v,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:u,style:m===void 0?{display:"none"}:t.style,onFocus:nt(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),d&&f.jsx(NC,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});CC.displayName=vy;var xz="RadioBubbleInput",NC=O.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=O.useRef(null),a=qt(i,r),o=bC(e);return O.useEffect(()=>{const s=i.current;if(!s)return;const c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const d=new Event("input",{bubbles:!0});u.call(s,e),s.dispatchEvent(d)}},[o,e]),f.jsx(ft.input,{style:{display:"none"},...n,ref:a,defaultValue:e})});NC.displayName=xz;function wz(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,a)=>i-a)}function $C(t,e,n){const a=100/(n-e)*(t-e);return bf(a,[0,100])}function Sz(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function _z(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function Az(t,e,n){const r=t/2,a=p0([0,50],[0,r]);return(r-a(e)*n)*n}function Tz(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function Oz(t,e){if(e>0){const n=Tz(t);return Math.min(...n)>=e}return!0}function p0(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function jz(t){return(String(t).split(".")[1]||"").length}function kz(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var IC=AC,Pz=PC,Ez=EC,Cz=CC;const RC=O.forwardRef(({className:t,...e},n)=>f.jsxs(IC,{ref:n,className:he("relative flex w-full touch-none select-none items-center",t),...e,children:[f.jsx(Pz,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:f.jsx(Ez,{className:"absolute h-full bg-primary"})}),f.jsx(Cz,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));RC.displayName=IC.displayName;var Nz=[" ","Enter","ArrowUp","ArrowDown"],$z=[" ","Enter"],po="Select",[Hh,Yh,Iz]=uj(po),[pc,Abe]=fa(po,[Iz,ac]),Xh=ac(),[Rz,ga]=pc(po),[Dz,Mz]=pc(po),DC=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:c,dir:l,name:u,autoComplete:d,disabled:h,required:m,form:y}=t,v=Xh(e),[b,w]=O.useState(null),[_,S]=O.useState(null),[k,A]=O.useState(!1),j=nb(l),[E,N]=js({prop:r,defaultProp:i??!1,onChange:a,caller:po}),[R,q]=js({prop:o,defaultProp:s,onChange:c,caller:po}),L=O.useRef(null),D=b?y||!!b.closest("form"):!0,[X,ee]=O.useState(new Set),W=Array.from(X).map(Q=>Q.props.value).join(";");return f.jsx(tb,{...v,children:f.jsxs(Rz,{required:m,scope:e,trigger:b,onTriggerChange:w,valueNode:_,onValueNodeChange:S,valueNodeHasChildren:k,onValueNodeHasChildrenChange:A,contentId:oc(),value:R,onValueChange:q,open:E,onOpenChange:N,dir:j,triggerPointerDownPosRef:L,disabled:h,children:[f.jsx(Hh.Provider,{scope:e,children:f.jsx(Dz,{scope:t.__scopeSelect,onNativeOptionAdd:O.useCallback(Q=>{ee(te=>new Set(te).add(Q))},[]),onNativeOptionRemove:O.useCallback(Q=>{ee(te=>{const ae=new Set(te);return ae.delete(Q),ae})},[]),children:n})}),D?f.jsxs(oN,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:d,value:R,onChange:Q=>q(Q.target.value),disabled:h,form:y,children:[R===void 0?f.jsx("option",{value:""}):null,Array.from(X)]},W):null]})})};DC.displayName=po;var MC="SelectTrigger",LC=O.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=Xh(n),o=ga(MC,n),s=o.disabled||r,c=qt(e,o.onTriggerChange),l=Yh(n),u=O.useRef("touch"),[d,h,m]=cN(v=>{const b=l().filter(S=>!S.disabled),w=b.find(S=>S.value===o.value),_=lN(b,v,w);_!==void 0&&o.onValueChange(_.value)}),y=v=>{s||(o.onOpenChange(!0),m()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return f.jsx(Sh,{asChild:!0,...a,children:f.jsx(ft.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":sN(o.value)?"":void 0,...i,ref:c,onClick:nt(i.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&y(v)}),onPointerDown:nt(i.onPointerDown,v=>{u.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(y(v),v.preventDefault())}),onKeyDown:nt(i.onKeyDown,v=>{const b=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(b&&v.key===" ")&&Nz.includes(v.key)&&(y(),v.preventDefault())})})})});LC.displayName=MC;var BC="SelectValue",FC=O.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...s}=t,c=ga(BC,n),{onValueNodeHasChildrenChange:l}=c,u=a!==void 0,d=qt(e,c.onValueNodeChange);return Lr(()=>{l(u)},[l,u]),f.jsx(ft.span,{...s,ref:d,style:{pointerEvents:"none"},children:sN(c.value)?f.jsx(f.Fragment,{children:o}):a})});FC.displayName=BC;var Lz="SelectIcon",UC=O.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return f.jsx(ft.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});UC.displayName=Lz;var Bz="SelectPortal",VC=t=>f.jsx(ij,{asChild:!0,...t});VC.displayName=Bz;var mo="SelectContent",qC=O.forwardRef((t,e)=>{const n=ga(mo,t.__scopeSelect),[r,i]=O.useState();if(Lr(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?cb.createPortal(f.jsx(KC,{scope:t.__scopeSelect,children:f.jsx(Hh.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),a):null}return f.jsx(zC,{...t,ref:e})});qC.displayName=mo;var jr=10,[KC,ya]=pc(mo),Fz="SelectContentImpl",Uz=aj("SelectContent.RemoveScroll"),zC=O.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:v,avoidCollisions:b,...w}=t,_=ga(mo,n),[S,k]=O.useState(null),[A,j]=O.useState(null),E=qt(e,be=>k(be)),[N,R]=O.useState(null),[q,L]=O.useState(null),D=Yh(n),[X,ee]=O.useState(!1),W=O.useRef(!1);O.useEffect(()=>{if(S)return ej(S)},[S]),nj();const Q=O.useCallback(be=>{const[Ve,...ie]=D().map(Z=>Z.ref.current),[Te]=ie.slice(-1),Ae=document.activeElement;for(const Z of be)if(Z===Ae||(Z==null||Z.scrollIntoView({block:"nearest"}),Z===Ve&&A&&(A.scrollTop=0),Z===Te&&A&&(A.scrollTop=A.scrollHeight),Z==null||Z.focus(),document.activeElement!==Ae))return},[D,A]),te=O.useCallback(()=>Q([N,S]),[Q,N,S]);O.useEffect(()=>{X&&te()},[X,te]);const{onOpenChange:ae,triggerPointerDownPosRef:re}=_;O.useEffect(()=>{if(S){let be={x:0,y:0};const Ve=Te=>{var Ae,Z;be={x:Math.abs(Math.round(Te.pageX)-(((Ae=re.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(Te.pageY)-(((Z=re.current)==null?void 0:Z.y)??0))}},ie=Te=>{be.x<=10&&be.y<=10?Te.preventDefault():S.contains(Te.target)||ae(!1),document.removeEventListener("pointermove",Ve),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",ie,{capture:!0})}}},[S,ae,re]),O.useEffect(()=>{const be=()=>ae(!1);return window.addEventListener("blur",be),window.addEventListener("resize",be),()=>{window.removeEventListener("blur",be),window.removeEventListener("resize",be)}},[ae]);const[de,_e]=cN(be=>{const Ve=D().filter(Ae=>!Ae.disabled),ie=Ve.find(Ae=>Ae.ref.current===document.activeElement),Te=lN(Ve,be,ie);Te&&setTimeout(()=>Te.ref.current.focus())}),ue=O.useCallback((be,Ve,ie)=>{const Te=!W.current&&!ie;(_.value!==void 0&&_.value===Ve||Te)&&(R(be),Te&&(W.current=!0))},[_.value]),pe=O.useCallback(()=>S==null?void 0:S.focus(),[S]),Ce=O.useCallback((be,Ve,ie)=>{const Te=!W.current&&!ie;(_.value!==void 0&&_.value===Ve||Te)&&L(be)},[_.value]),Ee=r==="popper"?by:WC,Qe=Ee===by?{side:s,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:v,avoidCollisions:b}:{};return f.jsx(KC,{scope:n,content:S,viewport:A,onViewportChange:j,itemRefCallback:ue,selectedItem:N,onItemLeave:pe,itemTextRefCallback:Ce,focusSelectedItem:te,selectedItemText:q,position:r,isPositioned:X,searchRef:de,children:f.jsx(tj,{as:Uz,allowPinchZoom:!0,children:f.jsx(rj,{asChild:!0,trapped:_.open,onMountAutoFocus:be=>{be.preventDefault()},onUnmountAutoFocus:nt(i,be=>{var Ve;(Ve=_.trigger)==null||Ve.focus({preventScroll:!0}),be.preventDefault()}),children:f.jsx(Zv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:be=>be.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:f.jsx(Ee,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:be=>be.preventDefault(),...w,...Qe,onPlaced:()=>ee(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:nt(w.onKeyDown,be=>{const Ve=be.ctrlKey||be.altKey||be.metaKey;if(be.key==="Tab"&&be.preventDefault(),!Ve&&be.key.length===1&&_e(be.key),["ArrowUp","ArrowDown","Home","End"].includes(be.key)){let Te=D().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(be.key)&&(Te=Te.slice().reverse()),["ArrowUp","ArrowDown"].includes(be.key)){const Ae=be.target,Z=Te.indexOf(Ae);Te=Te.slice(Z+1)}setTimeout(()=>Q(Te)),be.preventDefault()}})})})})})})});zC.displayName=Fz;var Vz="SelectItemAlignedPosition",WC=O.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=ga(mo,n),o=ya(mo,n),[s,c]=O.useState(null),[l,u]=O.useState(null),d=qt(e,E=>u(E)),h=Yh(n),m=O.useRef(!1),y=O.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:w,focusSelectedItem:_}=o,S=O.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&l&&v&&b&&w){const E=a.trigger.getBoundingClientRect(),N=l.getBoundingClientRect(),R=a.valueNode.getBoundingClientRect(),q=w.getBoundingClientRect();if(a.dir!=="rtl"){const Ae=q.left-N.left,Z=R.left-Ae,et=E.left-Z,qe=E.width+et,ot=Math.max(qe,N.width),vt=window.innerWidth-jr,Bt=bf(Z,[jr,Math.max(jr,vt-ot)]);s.style.minWidth=qe+"px",s.style.left=Bt+"px"}else{const Ae=N.right-q.right,Z=window.innerWidth-R.right-Ae,et=window.innerWidth-E.right-Z,qe=E.width+et,ot=Math.max(qe,N.width),vt=window.innerWidth-jr,Bt=bf(Z,[jr,Math.max(jr,vt-ot)]);s.style.minWidth=qe+"px",s.style.right=Bt+"px"}const L=h(),D=window.innerHeight-jr*2,X=v.scrollHeight,ee=window.getComputedStyle(l),W=parseInt(ee.borderTopWidth,10),Q=parseInt(ee.paddingTop,10),te=parseInt(ee.borderBottomWidth,10),ae=parseInt(ee.paddingBottom,10),re=W+Q+X+ae+te,de=Math.min(b.offsetHeight*5,re),_e=window.getComputedStyle(v),ue=parseInt(_e.paddingTop,10),pe=parseInt(_e.paddingBottom,10),Ce=E.top+E.height/2-jr,Ee=D-Ce,Qe=b.offsetHeight/2,be=b.offsetTop+Qe,Ve=W+Q+be,ie=re-Ve;if(Ve<=Ce){const Ae=L.length>0&&b===L[L.length-1].ref.current;s.style.bottom="0px";const Z=l.clientHeight-v.offsetTop-v.offsetHeight,et=Math.max(Ee,Qe+(Ae?pe:0)+Z+te),qe=Ve+et;s.style.height=qe+"px"}else{const Ae=L.length>0&&b===L[0].ref.current;s.style.top="0px";const et=Math.max(Ce,W+v.offsetTop+(Ae?ue:0)+Qe)+ie;s.style.height=et+"px",v.scrollTop=Ve-Ce+v.offsetTop}s.style.margin=`${jr}px 0`,s.style.minHeight=de+"px",s.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,a.trigger,a.valueNode,s,l,v,b,w,a.dir,r]);Lr(()=>S(),[S]);const[k,A]=O.useState();Lr(()=>{l&&A(window.getComputedStyle(l).zIndex)},[l]);const j=O.useCallback(E=>{E&&y.current===!0&&(S(),_==null||_(),y.current=!1)},[S,_]);return f.jsx(Kz,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:f.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:f.jsx(ft.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});WC.displayName=Vz;var qz="SelectPopperPosition",by=O.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=jr,...a}=t,o=Xh(n);return f.jsx(Qv,{...o,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});by.displayName=qz;var[Kz,m0]=pc(mo,{}),xy="SelectViewport",GC=O.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=ya(xy,n),o=m0(xy,n),s=qt(e,a.onViewportChange),c=O.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(Hh.Slot,{scope:n,children:f.jsx(ft.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:nt(i.onScroll,l=>{const u=l.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const m=Math.abs(c.current-u.scrollTop);if(m>0){const y=window.innerHeight-jr*2,v=parseFloat(d.style.minHeight),b=parseFloat(d.style.height),w=Math.max(v,b);if(w<y){const _=w+m,S=Math.min(y,_),k=_-S;d.style.height=S+"px",d.style.bottom==="0px"&&(u.scrollTop=k>0?k:0,d.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});GC.displayName=xy;var HC="SelectGroup",[zz,Wz]=pc(HC),Gz=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=oc();return f.jsx(zz,{scope:n,id:i,children:f.jsx(ft.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Gz.displayName=HC;var YC="SelectLabel",XC=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Wz(YC,n);return f.jsx(ft.div,{id:i.id,...r,ref:e})});XC.displayName=YC;var xf="SelectItem",[Hz,JC]=pc(xf),ZC=O.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=t,s=ga(xf,n),c=ya(xf,n),l=s.value===r,[u,d]=O.useState(a??""),[h,m]=O.useState(!1),y=qt(e,_=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,_,r,i)}),v=oc(),b=O.useRef("touch"),w=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(Hz,{scope:n,value:r,disabled:i,textId:v,isSelected:l,onItemTextChange:O.useCallback(_=>{d(S=>S||((_==null?void 0:_.textContent)??"").trim())},[]),children:f.jsx(Hh.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:f.jsx(ft.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":l&&h,"data-state":l?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:nt(o.onFocus,()=>m(!0)),onBlur:nt(o.onBlur,()=>m(!1)),onClick:nt(o.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:nt(o.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:nt(o.onPointerDown,_=>{b.current=_.pointerType}),onPointerMove:nt(o.onPointerMove,_=>{var S;b.current=_.pointerType,i?(S=c.onItemLeave)==null||S.call(c):b.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:nt(o.onPointerLeave,_=>{var S;_.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:nt(o.onKeyDown,_=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&_.key===" "||($z.includes(_.key)&&w(),_.key===" "&&_.preventDefault())})})})})});ZC.displayName=xf;var al="SelectItemText",QC=O.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,o=ga(al,n),s=ya(al,n),c=JC(al,n),l=Mz(al,n),[u,d]=O.useState(null),h=qt(e,w=>d(w),c.onItemTextChange,w=>{var _;return(_=s.itemTextRefCallback)==null?void 0:_.call(s,w,c.value,c.disabled)}),m=u==null?void 0:u.textContent,y=O.useMemo(()=>f.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=l;return Lr(()=>(v(y),()=>b(y)),[v,b,y]),f.jsxs(f.Fragment,{children:[f.jsx(ft.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?cb.createPortal(a.children,o.valueNode):null]})});QC.displayName=al;var eN="SelectItemIndicator",tN=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return JC(eN,n).isSelected?f.jsx(ft.span,{"aria-hidden":!0,...r,ref:e}):null});tN.displayName=eN;var wy="SelectScrollUpButton",nN=O.forwardRef((t,e)=>{const n=ya(wy,t.__scopeSelect),r=m0(wy,t.__scopeSelect),[i,a]=O.useState(!1),o=qt(e,r.onScrollButtonChange);return Lr(()=>{if(n.viewport&&n.isPositioned){let s=function(){const l=c.scrollTop>0;a(l)};const c=n.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?f.jsx(iN,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=n;s&&c&&(s.scrollTop=s.scrollTop-c.offsetHeight)}}):null});nN.displayName=wy;var Sy="SelectScrollDownButton",rN=O.forwardRef((t,e)=>{const n=ya(Sy,t.__scopeSelect),r=m0(Sy,t.__scopeSelect),[i,a]=O.useState(!1),o=qt(e,r.onScrollButtonChange);return Lr(()=>{if(n.viewport&&n.isPositioned){let s=function(){const l=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<l;a(u)};const c=n.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?f.jsx(iN,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=n;s&&c&&(s.scrollTop=s.scrollTop+c.offsetHeight)}}):null});rN.displayName=Sy;var iN=O.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=ya("SelectScrollButton",n),o=O.useRef(null),s=Yh(n),c=O.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return O.useEffect(()=>()=>c(),[c]),Lr(()=>{var u;const l=s().find(d=>d.ref.current===document.activeElement);(u=l==null?void 0:l.ref.current)==null||u.scrollIntoView({block:"nearest"})},[s]),f.jsx(ft.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:nt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:nt(i.onPointerMove,()=>{var l;(l=a.onItemLeave)==null||l.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:nt(i.onPointerLeave,()=>{c()})})}),Yz="SelectSeparator",aN=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(ft.div,{"aria-hidden":!0,...r,ref:e})});aN.displayName=Yz;var _y="SelectArrow",Xz=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Xh(n),a=ga(_y,n),o=ya(_y,n);return a.open&&o.position==="popper"?f.jsx(eb,{...i,...r,ref:e}):null});Xz.displayName=_y;var Jz="SelectBubbleInput",oN=O.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=O.useRef(null),a=qt(r,i),o=bC(e);return O.useEffect(()=>{const s=i.current;if(!s)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const d=new Event("change",{bubbles:!0});u.call(s,e),s.dispatchEvent(d)}},[o,e]),f.jsx(ft.select,{...n,style:{...z2,...n.style},ref:a,defaultValue:e})});oN.displayName=Jz;function sN(t){return t===""||t===void 0}function cN(t){const e=oj(t),n=O.useRef(""),r=O.useRef(0),i=O.useCallback(o=>{const s=n.current+o;e(s),function c(l){n.current=l,window.clearTimeout(r.current),l!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(s)},[e]),a=O.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return O.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function lN(t,e,n){const i=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=Zz(t,Math.max(a,0));i.length===1&&(o=o.filter(l=>l!==n));const c=o.find(l=>l.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Zz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Qz=DC,uN=LC,eW=FC,tW=UC,nW=VC,dN=qC,rW=GC,fN=XC,hN=ZC,iW=QC,aW=tN,pN=nN,mN=rN,gN=aN;const pl=Qz,ml=eW,ps=O.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(uN,{ref:r,className:he("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx(tW,{asChild:!0,children:f.jsx(lb,{className:"h-4 w-4 opacity-50"})})]}));ps.displayName=uN.displayName;const yN=O.forwardRef(({className:t,...e},n)=>f.jsx(pN,{ref:n,className:he("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(cD,{className:"h-4 w-4"})}));yN.displayName=pN.displayName;const vN=O.forwardRef(({className:t,...e},n)=>f.jsx(mN,{ref:n,className:he("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(lb,{className:"h-4 w-4"})}));vN.displayName=mN.displayName;const ms=O.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>f.jsx(nW,{children:f.jsxs(dN,{ref:i,className:he("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(yN,{}),f.jsx(rW,{className:he("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(vN,{})]})}));ms.displayName=dN.displayName;const oW=O.forwardRef(({className:t,...e},n)=>f.jsx(fN,{ref:n,className:he("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));oW.displayName=fN.displayName;const Yr=O.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(hN,{ref:r,className:he("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(aW,{children:f.jsx(_l,{className:"h-4 w-4"})})}),f.jsx(iW,{children:e})]}));Yr.displayName=hN.displayName;const sW=O.forwardRef(({className:t,...e},n)=>f.jsx(gN,{ref:n,className:he("-mx-1 my-1 h-px bg-muted",t),...e}));sW.displayName=gN.displayName;function cW({isOpen:t,onClose:e,editBudget:n}){const{t:r}=it(),{user:i}=yr(),{addBudget:a,updateBudget:o,budgets:s}=fc(),[c,l]=O.useState(""),[u,d]=O.useState(""),[h,m]=O.useState([.8]),[y,v]=O.useState(!1),b=s.map(S=>S.category),w=ai.filter(S=>!b.includes(S.id)||S.id===(n==null?void 0:n.category));O.useEffect(()=>{n?(l(n.category),d(n.monthlyLimit.toString()),m([n.alertThreshold])):(l(""),d(""),m([.8]))},[n,t]);const _=async S=>{if(S.preventDefault(),!(!i||!c||!u)){v(!0);try{n?await o(n.id,{category:c,monthlyLimit:parseFloat(u),alertThreshold:h[0]}):await a({userId:i.id,category:c,monthlyLimit:parseFloat(u),alertThreshold:h[0],isActive:!0}),e()}finally{v(!1)}}};return f.jsx(Wh,{open:t,onOpenChange:e,children:f.jsxs(Du,{className:"sm:max-w-md",children:[f.jsx(Mu,{children:f.jsx(Lu,{children:r(n?"budgets.edit":"budgets.add")})}),f.jsxs("form",{onSubmit:_,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Wn,{htmlFor:"category",children:r("form.category")}),f.jsxs(pl,{value:c,onValueChange:l,disabled:!!n,children:[f.jsx(ps,{children:f.jsx(ml,{placeholder:r("budgets.selectCategory")})}),f.jsx(ms,{children:w.map(S=>f.jsx(Yr,{value:S.id,children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{children:S.icon}),f.jsx("span",{children:r(S.translationKey)})]})},S.id))})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Wn,{htmlFor:"limit",children:r("budgets.monthlyLimit")}),f.jsx(Pn,{id:"limit",type:"number",min:"1",step:"any",value:u,onChange:S=>d(S.target.value),placeholder:"0",required:!0})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(Wn,{children:r("budgets.alertThreshold")}),f.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(h[0]*100),"%"]})]}),f.jsx(RC,{value:h,onValueChange:m,min:.5,max:1,step:.05,className:"w-full"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:r("budgets.alertThresholdDescription",{percent:Math.round(h[0]*100)})})]}),f.jsxs("div",{className:"flex gap-2 pt-2",children:[f.jsx(Re,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:r("common.cancel")}),f.jsx(Re,{type:"submit",disabled:y||!c||!u,className:"flex-1 bg-amber-500 hover:bg-amber-600",children:y?f.jsxs(f.Fragment,{children:[f.jsx(ub,{className:"mr-2 h-4 w-4 animate-spin"}),r("common.saving")]}):r("common.save")})]})]})]})})}function lW(){const{t}=it(),{user:e}=yr(),{budgets:n,loadBudgets:r,updateSpentAmounts:i,getTotalBudgeted:a,getTotalSpent:o,getBudgetsOverThreshold:s,getBudgetsExceeded:c}=fc(),{getExpensesByCategory:l}=dc(),[u,d]=O.useState(!1),[h,m]=O.useState(null);O.useEffect(()=>{e!=null&&e.id&&r(e.id)},[e==null?void 0:e.id,r]),O.useEffect(()=>{const A=l();i(A)},[l,i]);const y=n.filter(A=>A.isActive),v=a(),b=o(),w=s(),_=c(),S=A=>{m(A),d(!0)},k=()=>{d(!1),m(null)};return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-lg font-semibold",children:t("budgets.title")}),f.jsxs(Re,{size:"sm",onClick:()=>d(!0),children:[f.jsx(ho,{className:"h-4 w-4 mr-2"}),t("budgets.add")]})]}),y.length>0&&f.jsx($t,{className:"bg-gradient-to-br from-amber-500/10 to-amber-500/5 border-amber-500/20",children:f.jsxs(It,{className:"p-4",children:[f.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-2xl font-bold",children:["$",v.toLocaleString()]}),f.jsx("div",{className:"text-xs text-muted-foreground",children:t("budgets.totalBudgeted")})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-2xl font-bold",children:["$",b.toLocaleString()]}),f.jsx("div",{className:"text-xs text-muted-foreground",children:t("budgets.totalSpent")})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-2xl font-bold",children:["$",(v-b).toLocaleString()]}),f.jsx("div",{className:"text-xs text-muted-foreground",children:t("budgets.remaining")})]})]}),f.jsx(vC,{spent:b,limit:v,alertThreshold:.8,showLabels:!1,size:"lg"}),(w.length>0||_.length>0)&&f.jsxs("div",{className:"mt-4 space-y-2",children:[_.length>0&&f.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-500",children:[f.jsx(OD,{className:"h-4 w-4"}),t("budgets.exceededCount",{count:_.length})]}),w.length>0&&f.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-500",children:[f.jsx(Tu,{className:"h-4 w-4"}),t("budgets.warningCount",{count:w.length})]})]})]})}),n.length===0?f.jsx($t,{className:"bg-card/50 border-dashed border-border/50",children:f.jsxs(It,{className:"flex flex-col items-center justify-center py-8",children:[f.jsx(db,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),f.jsx("h4",{className:"font-medium text-muted-foreground",children:t("budgets.empty")}),f.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1 mb-4",children:t("budgets.emptyDescription")}),f.jsxs(Re,{onClick:()=>d(!0),children:[f.jsx(ho,{className:"h-4 w-4 mr-2"}),t("budgets.addFirst")]})]})}):f.jsx("div",{className:"space-y-3",children:n.map(A=>f.jsx(hz,{budget:A,onEdit:S},A.id))}),f.jsx(cW,{isOpen:u,onClose:k,editBudget:h})]})}function AS({recurring:t,currency:e="$",onEdit:n}){const{t:r}=it(),{deleteRecurring:i,toggleActive:a}=Uh(),[o,s]=O.useState(!1),l=(t.type==="expense"?ai:Iu).find(w=>w.id===t.category),u=(l==null?void 0:l.icon)||"",d=l?r(l.translationKey):t.category,h={daily:r("recurring.frequencies.daily"),weekly:r("recurring.frequencies.weekly"),biweekly:r("recurring.frequencies.biweekly"),monthly:r("recurring.frequencies.monthly"),yearly:r("recurring.frequencies.yearly")},m=w=>new Date(w).toLocaleDateString(void 0,{month:"short",day:"numeric"}),v=(()=>{const w=new Date;w.setHours(0,0,0,0);const _=new Date(t.nextOccurrence);_.setHours(0,0,0,0);const S=_.getTime()-w.getTime();return Math.ceil(S/(1e3*60*60*24))})(),b=async()=>{await i(t.id),s(!1)};return f.jsxs(f.Fragment,{children:[f.jsx($t,{className:`bg-card/50 border-border/50 ${t.isActive?"":"opacity-60"}`,children:f.jsxs(It,{className:"p-4",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`p-2 rounded-full ${t.type==="income"?"bg-green-500/20":"bg-red-500/20"}`,children:t.type==="income"?f.jsx(uD,{className:"h-5 w-5 text-green-500"}):f.jsx(lD,{className:"h-5 w-5 text-red-500"})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:u}),f.jsx("h4",{className:"font-medium",children:t.description||d})]}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsx(fs,{variant:"outline",className:"text-xs",children:h[t.frequency]}),f.jsxs("span",{className:"text-sm text-muted-foreground",children:[e,t.amount.toLocaleString()]})]})]})]}),f.jsxs(Mh,{children:[f.jsx(Lh,{asChild:!0,children:f.jsx(Re,{variant:"ghost",size:"icon",className:"h-8 w-8",children:f.jsx(gj,{className:"h-4 w-4"})})}),f.jsxs(Cu,{align:"end",children:[f.jsxs(xi,{onClick:()=>n==null?void 0:n(t),children:[f.jsx(xj,{className:"h-4 w-4 mr-2"}),r("common.edit")]}),f.jsx(xi,{onClick:()=>a(t.id),children:t.isActive?f.jsxs(f.Fragment,{children:[f.jsx(bj,{className:"h-4 w-4 mr-2"}),r("recurring.pause")]}):f.jsxs(f.Fragment,{children:[f.jsx(wj,{className:"h-4 w-4 mr-2"}),r("recurring.resume")]})}),f.jsxs(xi,{onClick:()=>s(!0),className:"text-red-500",children:[f.jsx(Au,{className:"h-4 w-4 mr-2"}),r("common.delete")]})]})]})]}),f.jsxs("div",{className:"mt-3 pt-3 border-t border-border/50 flex items-center justify-between text-sm",children:[f.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[f.jsx(pj,{className:"h-4 w-4"}),f.jsxs("span",{children:[r("recurring.nextOn")," ",m(t.nextOccurrence)]})]}),t.isActive&&f.jsx("span",{className:`font-medium ${v<=0?"text-red-500":v<=3?"text-yellow-500":"text-muted-foreground"}`,children:v<=0?r("recurring.dueToday"):v===1?r("recurring.dueTomorrow"):r("recurring.daysUntil",{count:v})})]})]})}),f.jsx(hC,{open:o,onOpenChange:s,children:f.jsxs(s0,{children:[f.jsxs(c0,{children:[f.jsx(u0,{children:r("recurring.deleteTitle")}),f.jsx(d0,{children:r("recurring.deleteDescription")})]}),f.jsxs(l0,{children:[f.jsx(h0,{children:r("common.cancel")}),f.jsx(f0,{onClick:b,className:"bg-red-500 hover:bg-red-600",children:r("common.delete")})]})]})})]})}const uW=["daily","weekly","biweekly","monthly","yearly"];function dW({isOpen:t,onClose:e,editItem:n}){const{t:r}=it(),{user:i}=yr(),{addRecurring:a,updateRecurring:o}=Uh(),{accounts:s}=Zd(),[c,l]=O.useState("expense"),[u,d]=O.useState(""),[h,m]=O.useState(""),[y,v]=O.useState(""),[b,w]=O.useState("monthly"),[_,S]=O.useState(""),[k,A]=O.useState(""),[j,E]=O.useState(""),[N,R]=O.useState("1"),[q,L]=O.useState(!1),D=c==="expense"?ai:Iu;O.useEffect(()=>{var W;n?(l(n.type),d(n.amount.toString()),m(n.category),v(n.description||""),w(n.frequency),S(n.startDate),A(n.endDate||""),E(n.accountId||""),R(n.reminderDays.toString())):(l("expense"),d(""),m(""),v(""),w("monthly"),S(new Date().toISOString().split("T")[0]),A(""),E(((W=s.find(Q=>Q.isDefault))==null?void 0:W.id)||""),R("1"))},[n,t,s]);const X=async W=>{if(W.preventDefault(),!(!i||!u||!h||!_)){L(!0);try{n?await o(n.id,{type:c,amount:parseFloat(u),category:h,description:y,frequency:b,startDate:_,endDate:k||void 0,accountId:j||void 0,reminderDays:parseInt(N,10)}):await a({userId:i.id,type:c,amount:parseFloat(u),category:h,description:y,frequency:b,startDate:_,endDate:k||void 0,accountId:j||void 0,isActive:!0,reminderDays:parseInt(N,10)}),e()}finally{L(!1)}}},ee={daily:r("recurring.frequencies.daily"),weekly:r("recurring.frequencies.weekly"),biweekly:r("recurring.frequencies.biweekly"),monthly:r("recurring.frequencies.monthly"),yearly:r("recurring.frequencies.yearly")};return f.jsx(Wh,{open:t,onOpenChange:e,children:f.jsxs(Du,{className:"sm:max-w-md",children:[f.jsx(Mu,{children:f.jsx(Lu,{children:r(n?"recurring.edit":"recurring.add")})}),f.jsxs("form",{onSubmit:X,className:"space-y-4",children:[f.jsx(Kh,{value:c,onValueChange:W=>l(W),children:f.jsxs($u,{className:"grid w-full grid-cols-2",children:[f.jsx(wi,{value:"expense",children:r("actions.expense")}),f.jsx(wi,{value:"income",children:r("actions.income")})]})}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Wn,{htmlFor:"amount",children:r("form.amount")}),f.jsx(Pn,{id:"amount",type:"number",min:"0.01",step:"any",value:u,onChange:W=>d(W.target.value),placeholder:"0",required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Wn,{htmlFor:"category",children:r("form.category")}),f.jsxs(pl,{value:h,onValueChange:m,children:[f.jsx(ps,{children:f.jsx(ml,{placeholder:r("budgets.selectCategory")})}),f.jsx(ms,{children:D.map(W=>f.jsx(Yr,{value:W.id,children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{children:W.icon}),f.jsx("span",{children:r(W.translationKey)})]})},W.id))})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Wn,{htmlFor:"description",children:r("form.description")}),f.jsx(Pn,{id:"description",value:y,onChange:W=>v(W.target.value),placeholder:r("form.descriptionPlaceholder")})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Wn,{children:r("recurring.frequency")}),f.jsxs(pl,{value:b,onValueChange:W=>w(W),children:[f.jsx(ps,{children:f.jsx(ml,{})}),f.jsx(ms,{children:uW.map(W=>f.jsx(Yr,{value:W,children:ee[W]},W))})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Wn,{htmlFor:"startDate",children:r("recurring.startDate")}),f.jsx(Pn,{id:"startDate",type:"date",value:_,onChange:W=>S(W.target.value),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Wn,{htmlFor:"endDate",children:r("recurring.endDate")}),f.jsx(Pn,{id:"endDate",type:"date",value:k,onChange:W=>A(W.target.value),min:_})]}),s.length>0&&f.jsxs("div",{className:"space-y-2",children:[f.jsx(Wn,{children:r("accounts.selectAccount")}),f.jsxs(pl,{value:j,onValueChange:E,children:[f.jsx(ps,{children:f.jsx(ml,{placeholder:r("accounts.selectAccount")})}),f.jsx(ms,{children:s.map(W=>f.jsx(Yr,{value:W.id,children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{children:W.icon}),f.jsx("span",{children:W.name})]})},W.id))})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Wn,{htmlFor:"reminderDays",children:r("recurring.reminderDays")}),f.jsx(Pn,{id:"reminderDays",type:"number",min:"0",max:"30",value:N,onChange:W=>R(W.target.value)}),f.jsx("p",{className:"text-xs text-muted-foreground",children:r("recurring.reminderDaysDescription")})]}),f.jsxs("div",{className:"flex gap-2 pt-2",children:[f.jsx(Re,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:r("common.cancel")}),f.jsx(Re,{type:"submit",disabled:q||!u||!h||!_,className:"flex-1 bg-amber-500 hover:bg-amber-600",children:q?f.jsxs(f.Fragment,{children:[f.jsx(ub,{className:"mr-2 h-4 w-4 animate-spin"}),r("common.saving")]}):r("common.save")})]})]})]})})}function fW(){const{t}=it(),{user:e}=yr(),{recurringTransactions:n,loadRecurring:r,processRecurringTransactions:i,getUpcomingReminders:a,getActiveRecurring:o,getNextDueDate:s}=Uh(),[c,l]=O.useState(!1),[u,d]=O.useState(null),[h,m]=O.useState(0);O.useEffect(()=>{e!=null&&e.id&&r(e.id)},[e==null?void 0:e.id,r]),O.useEffect(()=>{e!=null&&e.id&&i(e.id).then(k=>{m(k)})},[e==null?void 0:e.id,i]);const y=o(),v=a(7),b=s(),w=k=>{d(k),l(!0)},_=()=>{l(!1),d(null)},S=()=>{if(!b)return null;const k=new Date;k.setHours(0,0,0,0);const A=b.getTime()-k.getTime(),j=Math.ceil(A/(1e3*60*60*24));return j<=0?t("recurring.dueToday"):j===1?t("recurring.dueTomorrow"):t("recurring.daysUntil",{count:j})};return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-lg font-semibold",children:t("recurring.title")}),f.jsxs(Re,{size:"sm",onClick:()=>l(!0),children:[f.jsx(ho,{className:"h-4 w-4 mr-2"}),t("recurring.add")]})]}),y.length>0&&f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsxs(fs,{variant:"outline",className:"flex items-center gap-1",children:[f.jsx(nf,{className:"h-3 w-3"}),t("recurring.activeCount",{count:y.length})]}),b&&f.jsxs(fs,{variant:"outline",className:"flex items-center gap-1",children:[f.jsx(fD,{className:"h-3 w-3"}),S()]}),v.length>0&&f.jsxs(fs,{variant:"secondary",className:"flex items-center gap-1 bg-yellow-500/20 text-yellow-500",children:[f.jsx(cw,{className:"h-3 w-3"}),t("recurring.remindersCount",{count:v.length})]})]}),h>0&&f.jsx($t,{className:"bg-green-500/10 border-green-500/20",children:f.jsx(It,{className:"p-3 text-sm text-green-500",children:t("recurring.processedCount",{count:h})})}),n.length===0?f.jsx($t,{className:"bg-card/50 border-dashed border-border/50",children:f.jsxs(It,{className:"flex flex-col items-center justify-center py-8",children:[f.jsx(nf,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),f.jsx("h4",{className:"font-medium text-muted-foreground",children:t("recurring.empty")}),f.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1 mb-4",children:t("recurring.emptyDescription")}),f.jsxs(Re,{onClick:()=>l(!0),children:[f.jsx(ho,{className:"h-4 w-4 mr-2"}),t("recurring.addFirst")]})]})}):f.jsxs("div",{className:"space-y-3",children:[v.length>0&&f.jsxs("div",{className:"space-y-2",children:[f.jsxs("h4",{className:"text-sm font-medium text-yellow-500 flex items-center gap-2",children:[f.jsx(cw,{className:"h-4 w-4"}),t("recurring.dueSoon")]}),v.map(k=>f.jsx(AS,{recurring:k,onEdit:w},k.id))]}),f.jsxs("div",{className:"space-y-2",children:[v.length>0&&f.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("recurring.all")}),n.filter(k=>!v.some(A=>A.id===k.id)).map(k=>f.jsx(AS,{recurring:k,onEdit:w},k.id))]})]}),f.jsx(dW,{isOpen:c,onClose:_,editItem:u})]})}var hW=Array.isArray,Bn=hW,pW=typeof Zo=="object"&&Zo&&Zo.Object===Object&&Zo,bN=pW,mW=bN,gW=typeof self=="object"&&self&&self.Object===Object&&self,yW=mW||gW||Function("return this")(),oi=yW,vW=oi,bW=vW.Symbol,Bu=bW,TS=Bu,xN=Object.prototype,xW=xN.hasOwnProperty,wW=xN.toString,zc=TS?TS.toStringTag:void 0;function SW(t){var e=xW.call(t,zc),n=t[zc];try{t[zc]=void 0;var r=!0}catch{}var i=wW.call(t);return r&&(e?t[zc]=n:delete t[zc]),i}var _W=SW,AW=Object.prototype,TW=AW.toString;function OW(t){return TW.call(t)}var jW=OW,OS=Bu,kW=_W,PW=jW,EW="[object Null]",CW="[object Undefined]",jS=OS?OS.toStringTag:void 0;function NW(t){return t==null?t===void 0?CW:EW:jS&&jS in Object(t)?kW(t):PW(t)}var Ci=NW;function $W(t){return t!=null&&typeof t=="object"}var Ni=$W,IW=Ci,RW=Ni,DW="[object Symbol]";function MW(t){return typeof t=="symbol"||RW(t)&&IW(t)==DW}var mc=MW,LW=Bn,BW=mc,FW=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,UW=/^\w*$/;function VW(t,e){if(LW(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||BW(t)?!0:UW.test(t)||!FW.test(t)||e!=null&&t in Object(e)}var g0=VW;function qW(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var va=qW;const gc=gt(va);var KW=Ci,zW=va,WW="[object AsyncFunction]",GW="[object Function]",HW="[object GeneratorFunction]",YW="[object Proxy]";function XW(t){if(!zW(t))return!1;var e=KW(t);return e==GW||e==HW||e==WW||e==YW}var y0=XW;const Ue=gt(y0);var JW=oi,ZW=JW["__core-js_shared__"],QW=ZW,Ym=QW,kS=function(){var t=/[^.]+$/.exec(Ym&&Ym.keys&&Ym.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function e9(t){return!!kS&&kS in t}var t9=e9,n9=Function.prototype,r9=n9.toString;function i9(t){if(t!=null){try{return r9.call(t)}catch{}try{return t+""}catch{}}return""}var wN=i9,a9=y0,o9=t9,s9=va,c9=wN,l9=/[\\^$.*+?()[\]{}|]/g,u9=/^\[object .+?Constructor\]$/,d9=Function.prototype,f9=Object.prototype,h9=d9.toString,p9=f9.hasOwnProperty,m9=RegExp("^"+h9.call(p9).replace(l9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g9(t){if(!s9(t)||o9(t))return!1;var e=a9(t)?m9:u9;return e.test(c9(t))}var y9=g9;function v9(t,e){return t==null?void 0:t[e]}var b9=v9,x9=y9,w9=b9;function S9(t,e){var n=w9(t,e);return x9(n)?n:void 0}var Ao=S9,_9=Ao,A9=_9(Object,"create"),Jh=A9,PS=Jh;function T9(){this.__data__=PS?PS(null):{},this.size=0}var O9=T9;function j9(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var k9=j9,P9=Jh,E9="__lodash_hash_undefined__",C9=Object.prototype,N9=C9.hasOwnProperty;function $9(t){var e=this.__data__;if(P9){var n=e[t];return n===E9?void 0:n}return N9.call(e,t)?e[t]:void 0}var I9=$9,R9=Jh,D9=Object.prototype,M9=D9.hasOwnProperty;function L9(t){var e=this.__data__;return R9?e[t]!==void 0:M9.call(e,t)}var B9=L9,F9=Jh,U9="__lodash_hash_undefined__";function V9(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=F9&&e===void 0?U9:e,this}var q9=V9,K9=O9,z9=k9,W9=I9,G9=B9,H9=q9;function yc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yc.prototype.clear=K9;yc.prototype.delete=z9;yc.prototype.get=W9;yc.prototype.has=G9;yc.prototype.set=H9;var Y9=yc;function X9(){this.__data__=[],this.size=0}var J9=X9;function Z9(t,e){return t===e||t!==t&&e!==e}var v0=Z9,Q9=v0;function eG(t,e){for(var n=t.length;n--;)if(Q9(t[n][0],e))return n;return-1}var Zh=eG,tG=Zh,nG=Array.prototype,rG=nG.splice;function iG(t){var e=this.__data__,n=tG(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():rG.call(e,n,1),--this.size,!0}var aG=iG,oG=Zh;function sG(t){var e=this.__data__,n=oG(e,t);return n<0?void 0:e[n][1]}var cG=sG,lG=Zh;function uG(t){return lG(this.__data__,t)>-1}var dG=uG,fG=Zh;function hG(t,e){var n=this.__data__,r=fG(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var pG=hG,mG=J9,gG=aG,yG=cG,vG=dG,bG=pG;function vc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vc.prototype.clear=mG;vc.prototype.delete=gG;vc.prototype.get=yG;vc.prototype.has=vG;vc.prototype.set=bG;var Qh=vc,xG=Ao,wG=oi,SG=xG(wG,"Map"),b0=SG,ES=Y9,_G=Qh,AG=b0;function TG(){this.size=0,this.__data__={hash:new ES,map:new(AG||_G),string:new ES}}var OG=TG;function jG(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var kG=jG,PG=kG;function EG(t,e){var n=t.__data__;return PG(e)?n[typeof e=="string"?"string":"hash"]:n.map}var ep=EG,CG=ep;function NG(t){var e=CG(this,t).delete(t);return this.size-=e?1:0,e}var $G=NG,IG=ep;function RG(t){return IG(this,t).get(t)}var DG=RG,MG=ep;function LG(t){return MG(this,t).has(t)}var BG=LG,FG=ep;function UG(t,e){var n=FG(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var VG=UG,qG=OG,KG=$G,zG=DG,WG=BG,GG=VG;function bc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bc.prototype.clear=qG;bc.prototype.delete=KG;bc.prototype.get=zG;bc.prototype.has=WG;bc.prototype.set=GG;var x0=bc,SN=x0,HG="Expected a function";function w0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(HG);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(w0.Cache||SN),n}w0.Cache=SN;var _N=w0;const YG=gt(_N);var XG=_N,JG=500;function ZG(t){var e=XG(t,function(r){return n.size===JG&&n.clear(),r}),n=e.cache;return e}var QG=ZG,eH=QG,tH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nH=/\\(\\)?/g,rH=eH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(tH,function(n,r,i,a){e.push(i?a.replace(nH,"$1"):r||n)}),e}),iH=rH;function aH(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var S0=aH,CS=Bu,oH=S0,sH=Bn,cH=mc,lH=1/0,NS=CS?CS.prototype:void 0,$S=NS?NS.toString:void 0;function AN(t){if(typeof t=="string")return t;if(sH(t))return oH(t,AN)+"";if(cH(t))return $S?$S.call(t):"";var e=t+"";return e=="0"&&1/t==-lH?"-0":e}var uH=AN,dH=uH;function fH(t){return t==null?"":dH(t)}var TN=fH,hH=Bn,pH=g0,mH=iH,gH=TN;function yH(t,e){return hH(t)?t:pH(t,e)?[t]:mH(gH(t))}var ON=yH,vH=mc,bH=1/0;function xH(t){if(typeof t=="string"||vH(t))return t;var e=t+"";return e=="0"&&1/t==-bH?"-0":e}var tp=xH,wH=ON,SH=tp;function _H(t,e){e=wH(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[SH(e[n++])];return n&&n==r?t:void 0}var _0=_H,AH=_0;function TH(t,e,n){var r=t==null?void 0:AH(t,e);return r===void 0?n:r}var jN=TH;const er=gt(jN);function OH(t){return t==null}var jH=OH;const Ke=gt(jH);var kH=Ci,PH=Bn,EH=Ni,CH="[object String]";function NH(t){return typeof t=="string"||!PH(t)&&EH(t)&&kH(t)==CH}var $H=NH;const go=gt($H);var kN={exports:{}},yt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0=Symbol.for("react.element"),T0=Symbol.for("react.portal"),np=Symbol.for("react.fragment"),rp=Symbol.for("react.strict_mode"),ip=Symbol.for("react.profiler"),ap=Symbol.for("react.provider"),op=Symbol.for("react.context"),IH=Symbol.for("react.server_context"),sp=Symbol.for("react.forward_ref"),cp=Symbol.for("react.suspense"),lp=Symbol.for("react.suspense_list"),up=Symbol.for("react.memo"),dp=Symbol.for("react.lazy"),RH=Symbol.for("react.offscreen"),PN;PN=Symbol.for("react.module.reference");function vr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case A0:switch(t=t.type,t){case np:case ip:case rp:case cp:case lp:return t;default:switch(t=t&&t.$$typeof,t){case IH:case op:case sp:case dp:case up:case ap:return t;default:return e}}case T0:return e}}}yt.ContextConsumer=op;yt.ContextProvider=ap;yt.Element=A0;yt.ForwardRef=sp;yt.Fragment=np;yt.Lazy=dp;yt.Memo=up;yt.Portal=T0;yt.Profiler=ip;yt.StrictMode=rp;yt.Suspense=cp;yt.SuspenseList=lp;yt.isAsyncMode=function(){return!1};yt.isConcurrentMode=function(){return!1};yt.isContextConsumer=function(t){return vr(t)===op};yt.isContextProvider=function(t){return vr(t)===ap};yt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===A0};yt.isForwardRef=function(t){return vr(t)===sp};yt.isFragment=function(t){return vr(t)===np};yt.isLazy=function(t){return vr(t)===dp};yt.isMemo=function(t){return vr(t)===up};yt.isPortal=function(t){return vr(t)===T0};yt.isProfiler=function(t){return vr(t)===ip};yt.isStrictMode=function(t){return vr(t)===rp};yt.isSuspense=function(t){return vr(t)===cp};yt.isSuspenseList=function(t){return vr(t)===lp};yt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===np||t===ip||t===rp||t===cp||t===lp||t===RH||typeof t=="object"&&t!==null&&(t.$$typeof===dp||t.$$typeof===up||t.$$typeof===ap||t.$$typeof===op||t.$$typeof===sp||t.$$typeof===PN||t.getModuleId!==void 0)};yt.typeOf=vr;kN.exports=yt;var DH=kN.exports,MH=Ci,LH=Ni,BH="[object Number]";function FH(t){return typeof t=="number"||LH(t)&&MH(t)==BH}var EN=FH;const UH=gt(EN);var VH=EN;function qH(t){return VH(t)&&t!=+t}var KH=qH;const Fu=gt(KH);var Nn=function(e){return e===0?0:e>0?1:-1},Za=function(e){return go(e)&&e.indexOf("%")===e.length-1},ge=function(e){return UH(e)&&!Fu(e)},zH=function(e){return Ke(e)},nn=function(e){return ge(e)||go(e)},WH=0,xc=function(e){var n=++WH;return"".concat(e||"").concat(n)},$n=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(e)&&!go(e))return r;var a;if(Za(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Fu(a)&&(a=r),i&&a>n&&(a=n),a},Zi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},GH=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Hn=function(e,n){return ge(e)&&ge(n)?function(r){return e+r*(n-e)}:function(){return n}};function wf(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):er(r,e))===n})}var HH=function(e,n){return ge(e)&&ge(n)?e-n:go(e)&&go(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function gs(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Ay(t){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}var YH=["viewBox","children"],XH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],IS=["points","pathLength"],Xm={svg:YH,polygon:IS,polyline:IS},O0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Sf=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(O.isValidElement(e)&&(r=e.props),!gc(r))return null;var i={};return Object.keys(r).forEach(function(a){O0.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},JH=function(e,n,r){return function(i){return e(n,r,i),null}},yo=function(e,n,r){if(!gc(e)||Ay(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];O0.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=JH(o,n,r))}),i},ZH=["children"],QH=["children"];function RS(t,e){if(t==null)return{};var n=e7(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}var DS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Si=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},MS=null,Jm=null,j0=function t(e){if(e===MS&&Array.isArray(Jm))return Jm;var n=[];return O.Children.forEach(e,function(r){Ke(r)||(DH.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Jm=n,MS=e,n};function tr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Si(i)}):r=[Si(e)],j0(t).forEach(function(i){var a=er(i,"type.displayName")||er(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Gn(t,e){var n=tr(t,e);return n&&n[0]}var LS=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ge(r)||r<=0||!ge(i)||i<=0)},t7=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],n7=function(e){return e&&e.type&&go(e.type)&&t7.indexOf(e.type)>=0},r7=function(e){return e&&Ty(e)==="object"&&"clipDot"in e},i7=function(e,n,r,i){var a,o=(a=Xm==null?void 0:Xm[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Ue(e)&&(i&&o.includes(n)||XH.includes(n))||r&&O0.includes(n)},Ie=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(O.isValidElement(e)&&(i=e.props),!gc(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;i7((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},Oy=function t(e,n){if(e===n)return!0;var r=O.Children.count(e);if(r!==O.Children.count(n))return!1;if(r===0)return!0;if(r===1)return BS(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!BS(a,o))return!1}return!0},BS=function(e,n){if(Ke(e)&&Ke(n))return!0;if(!Ke(e)&&!Ke(n)){var r=e.props||{},i=r.children,a=RS(r,ZH),o=n.props||{},s=o.children,c=RS(o,QH);return i&&s?gs(a,c)&&Oy(i,s):!i&&!s?gs(a,c):!1}return!1},FS=function(e,n){var r=[],i={};return j0(e).forEach(function(a,o){if(n7(a))r.push(a);else if(a){var s=Si(a.type),c=n[s]||{},l=c.handler,u=c.once;if(l&&(!u||!i[s])){var d=l(a,s,o);r.push(d),i[s]=!0}}}),r},a7=function(e){var n=e&&e.type;return n&&DS[n]?DS[n]:null},o7=function(e,n){return j0(n).indexOf(e)},s7=["children","width","height","viewBox","className","style","title","desc"];function jy(){return jy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jy.apply(this,arguments)}function c7(t,e){if(t==null)return{};var n=l7(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ky(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,c=t.desc,l=c7(t,s7),u=i||{width:n,height:r,x:0,y:0},d=Ge("recharts-surface",a);return $.createElement("svg",jy({},Ie(l,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),$.createElement("title",null,s),$.createElement("desc",null,c),e)}var u7=["children","className"];function Py(){return Py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Py.apply(this,arguments)}function d7(t,e){if(t==null)return{};var n=f7(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function f7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ut=$.forwardRef(function(t,e){var n=t.children,r=t.className,i=d7(t,u7),a=Ge("recharts-layer",r);return $.createElement("g",Py({className:a},Ie(i,!0),{ref:e}),n)}),Mr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function h7(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var p7=h7,m7=p7;function g7(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:m7(t,e,n)}var y7=g7,v7="\\ud800-\\udfff",b7="\\u0300-\\u036f",x7="\\ufe20-\\ufe2f",w7="\\u20d0-\\u20ff",S7=b7+x7+w7,_7="\\ufe0e\\ufe0f",A7="\\u200d",T7=RegExp("["+A7+v7+S7+_7+"]");function O7(t){return T7.test(t)}var CN=O7;function j7(t){return t.split("")}var k7=j7,NN="\\ud800-\\udfff",P7="\\u0300-\\u036f",E7="\\ufe20-\\ufe2f",C7="\\u20d0-\\u20ff",N7=P7+E7+C7,$7="\\ufe0e\\ufe0f",I7="["+NN+"]",Ey="["+N7+"]",Cy="\\ud83c[\\udffb-\\udfff]",R7="(?:"+Ey+"|"+Cy+")",$N="[^"+NN+"]",IN="(?:\\ud83c[\\udde6-\\uddff]){2}",RN="[\\ud800-\\udbff][\\udc00-\\udfff]",D7="\\u200d",DN=R7+"?",MN="["+$7+"]?",M7="(?:"+D7+"(?:"+[$N,IN,RN].join("|")+")"+MN+DN+")*",L7=MN+DN+M7,B7="(?:"+[$N+Ey+"?",Ey,IN,RN,I7].join("|")+")",F7=RegExp(Cy+"(?="+Cy+")|"+B7+L7,"g");function U7(t){return t.match(F7)||[]}var V7=U7,q7=k7,K7=CN,z7=V7;function W7(t){return K7(t)?z7(t):q7(t)}var G7=W7,H7=y7,Y7=CN,X7=G7,J7=TN;function Z7(t){return function(e){e=J7(e);var n=Y7(e)?X7(e):void 0,r=n?n[0]:e.charAt(0),i=n?H7(n,1).join(""):e.slice(1);return r[t]()+i}}var Q7=Z7,eY=Q7,tY=eY("toUpperCase"),nY=tY;const fp=gt(nY);function Ot(t){return function(){return t}}const LN=Math.cos,_f=Math.sin,Br=Math.sqrt,Af=Math.PI,hp=2*Af,Ny=Math.PI,$y=2*Ny,Va=1e-6,rY=$y-Va;function BN(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function iY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return BN;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class aY{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?BN:iY(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=r-e,l=i-n,u=o-e,d=s-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Va)if(!(Math.abs(d*c-l*u)>Va)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,y=i-s,v=c*c+l*l,b=m*m+y*y,w=Math.sqrt(v),_=Math.sqrt(h),S=a*Math.tan((Ny-Math.acos((v+h-b)/(2*w*_)))/2),k=S/_,A=S/w;Math.abs(k-1)>Va&&this._append`L${e+k*u},${n+k*d}`,this._append`A${a},${a},0,0,${+(d*m>u*y)},${this._x1=e+A*c},${this._y1=n+A*l}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),c=r*Math.sin(i),l=e+s,u=n+c,d=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>Va||Math.abs(this._y1-u)>Va)&&this._append`L${l},${u}`,r&&(h<0&&(h=h%$y+$y),h>rY?this._append`A${r},${r},0,1,${d},${e-s},${n-c}A${r},${r},0,1,${d},${this._x1=l},${this._y1=u}`:h>Va&&this._append`A${r},${r},0,${+(h>=Ny)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function k0(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new aY(e)}function P0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function FN(t){this._context=t}FN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function pp(t){return new FN(t)}function UN(t){return t[0]}function VN(t){return t[1]}function qN(t,e){var n=Ot(!0),r=null,i=pp,a=null,o=k0(s);t=typeof t=="function"?t:t===void 0?UN:Ot(t),e=typeof e=="function"?e:e===void 0?VN:Ot(e);function s(c){var l,u=(c=P0(c)).length,d,h=!1,m;for(r==null&&(a=i(m=o())),l=0;l<=u;++l)!(l<u&&n(d=c[l],l,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,l,c),+e(d,l,c));if(m)return a=null,m+""||null}return s.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ot(+c),s):t},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ot(+c),s):e},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ot(!!c),s):n},s.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),s):i},s.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),s):r},s}function Cd(t,e,n){var r=null,i=Ot(!0),a=null,o=pp,s=null,c=k0(l);t=typeof t=="function"?t:t===void 0?UN:Ot(+t),e=typeof e=="function"?e:Ot(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?VN:Ot(+n);function l(d){var h,m,y,v=(d=P0(d)).length,b,w=!1,_,S=new Array(v),k=new Array(v);for(a==null&&(s=o(_=c())),h=0;h<=v;++h){if(!(h<v&&i(b=d[h],h,d))===w)if(w=!w)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=m;--y)s.point(S[y],k[y]);s.lineEnd(),s.areaEnd()}w&&(S[h]=+t(b,h,d),k[h]=+e(b,h,d),s.point(r?+r(b,h,d):S[h],n?+n(b,h,d):k[h]))}if(_)return s=null,_+""||null}function u(){return qN().defined(i).curve(o).context(a)}return l.x=function(d){return arguments.length?(t=typeof d=="function"?d:Ot(+d),r=null,l):t},l.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Ot(+d),l):t},l.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ot(+d),l):r},l.y=function(d){return arguments.length?(e=typeof d=="function"?d:Ot(+d),n=null,l):e},l.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Ot(+d),l):e},l.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ot(+d),l):n},l.lineX0=l.lineY0=function(){return u().x(t).y(e)},l.lineY1=function(){return u().x(t).y(n)},l.lineX1=function(){return u().x(r).y(e)},l.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Ot(!!d),l):i},l.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),l):o},l.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),l):a},l}class KN{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function oY(t){return new KN(t,!0)}function sY(t){return new KN(t,!1)}const E0={draw(t,e){const n=Br(e/Af);t.moveTo(n,0),t.arc(0,0,n,0,hp)}},cY={draw(t,e){const n=Br(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},zN=Br(1/3),lY=zN*2,uY={draw(t,e){const n=Br(e/lY),r=n*zN;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},dY={draw(t,e){const n=Br(e),r=-n/2;t.rect(r,r,n,n)}},fY=.8908130915292852,WN=_f(Af/10)/_f(7*Af/10),hY=_f(hp/10)*WN,pY=-LN(hp/10)*WN,mY={draw(t,e){const n=Br(e*fY),r=hY*n,i=pY*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=hp*a/5,s=LN(o),c=_f(o);t.lineTo(c*n,-s*n),t.lineTo(s*r-c*i,c*r+s*i)}t.closePath()}},Zm=Br(3),gY={draw(t,e){const n=-Br(e/(Zm*3));t.moveTo(0,n*2),t.lineTo(-Zm*n,-n),t.lineTo(Zm*n,-n),t.closePath()}},or=-.5,sr=Br(3)/2,Iy=1/Br(12),yY=(Iy/2+1)*3,vY={draw(t,e){const n=Br(e/yY),r=n/2,i=n*Iy,a=r,o=n*Iy+n,s=-a,c=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,c),t.lineTo(or*r-sr*i,sr*r+or*i),t.lineTo(or*a-sr*o,sr*a+or*o),t.lineTo(or*s-sr*c,sr*s+or*c),t.lineTo(or*r+sr*i,or*i-sr*r),t.lineTo(or*a+sr*o,or*o-sr*a),t.lineTo(or*s+sr*c,or*c-sr*s),t.closePath()}};function bY(t,e){let n=null,r=k0(i);t=typeof t=="function"?t:Ot(t||E0),e=typeof e=="function"?e:Ot(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ot(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ot(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Tf(){}function Of(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function GN(t){this._context=t}GN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Of(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Of(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xY(t){return new GN(t)}function HN(t){this._context=t}HN.prototype={areaStart:Tf,areaEnd:Tf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Of(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wY(t){return new HN(t)}function YN(t){this._context=t}YN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Of(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SY(t){return new YN(t)}function XN(t){this._context=t}XN.prototype={areaStart:Tf,areaEnd:Tf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function _Y(t){return new XN(t)}function US(t){return t<0?-1:1}function VS(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(US(a)+US(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function qS(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Qm(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function jf(t){this._context=t}jf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qm(this,this._t0,qS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Qm(this,qS(this,n=VS(this,t,e)),n);break;default:Qm(this,this._t0,n=VS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function JN(t){this._context=new ZN(t)}(JN.prototype=Object.create(jf.prototype)).point=function(t,e){jf.prototype.point.call(this,e,t)};function ZN(t){this._context=t}ZN.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function AY(t){return new jf(t)}function TY(t){return new JN(t)}function QN(t){this._context=t}QN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=KS(t),i=KS(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function KS(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function OY(t){return new QN(t)}function mp(t,e){this._context=t,this._t=e}mp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function jY(t){return new mp(t,.5)}function kY(t){return new mp(t,0)}function PY(t){return new mp(t,1)}function $s(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ry(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function EY(t,e){return t[e]}function CY(t){const e=[];return e.key=t,e}function NY(){var t=Ot([]),e=Ry,n=$s,r=EY;function i(a){var o=Array.from(t.apply(this,arguments),CY),s,c=o.length,l=-1,u;for(const d of a)for(s=0,++l;s<c;++s)(o[s][l]=[0,+r(d,o[s].key,l,a)]).data=d;for(s=0,u=P0(e(o));s<c;++s)o[u[s]].index=s;return n(o,u),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ot(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ot(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Ry:typeof a=="function"?a:Ot(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??$s,i):n},i}function $Y(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}$s(t,e)}}function IY(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}$s(t,e)}}function RY(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,c=0,l=0;s<o;++s){for(var u=t[e[s]],d=u[r][1]||0,h=u[r-1][1]||0,m=(d-h)/2,y=0;y<s;++y){var v=t[e[y]],b=v[r][1]||0,w=v[r-1][1]||0;m+=b-w}c+=d,l+=m*d}i[r-1][1]+=i[r-1][0]=n,c&&(n-=l/c)}i[r-1][1]+=i[r-1][0]=n,$s(t,e)}}function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}var DY=["type","size","sizeType"];function Dy(){return Dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dy.apply(this,arguments)}function zS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zS(Object(n),!0).forEach(function(r){MY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MY(t,e,n){return e=LY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LY(t){var e=BY(t,"string");return Bl(e)=="symbol"?e:e+""}function BY(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FY(t,e){if(t==null)return{};var n=UY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var e$={symbolCircle:E0,symbolCross:cY,symbolDiamond:uY,symbolSquare:dY,symbolStar:mY,symbolTriangle:gY,symbolWye:vY},VY=Math.PI/180,qY=function(e){var n="symbol".concat(fp(e));return e$[n]||E0},KY=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*VY;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},zY=function(e,n){e$["symbol".concat(fp(e))]=n},C0=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,c=FY(e,DY),l=WS(WS({},c),{},{type:r,size:a,sizeType:s}),u=function(){var b=qY(r),w=bY().type(b).size(KY(a,s,r));return w()},d=l.className,h=l.cx,m=l.cy,y=Ie(l,!0);return h===+h&&m===+m&&a===+a?$.createElement("path",Dy({},y,{className:Ge("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(m,")"),d:u()})):null};C0.registerSymbol=zY;function Is(t){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(t)}function My(){return My=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},My.apply(this,arguments)}function GS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(n),!0).forEach(function(r){Fl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n$(r.key),r)}}function YY(t,e,n){return e&&HY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XY(t,e,n){return e=kf(e),JY(t,t$()?Reflect.construct(e,n||[],kf(t).constructor):e.apply(t,n))}function JY(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZY(t)}function ZY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t$=function(){return!!t})()}function kf(t){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kf(t)}function QY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ly(t,e)}function Ly(t,e){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ly(t,e)}function Fl(t,e,n){return e=n$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n$(t){var e=eX(t,"string");return Is(e)=="symbol"?e:e+""}function eX(t,e){if(Is(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cr=32,N0=function(t){function e(){return GY(this,e),XY(this,e,arguments)}return QY(e,t),YY(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=cr/2,o=cr/6,s=cr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:cr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(cr,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return $.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(cr/8,"h").concat(cr,"v").concat(cr*3/4,"h").concat(-cr,"z"),className:"recharts-legend-icon"});if($.isValidElement(r.legendIcon)){var l=WY({},r);return delete l.legendIcon,$.cloneElement(r.legendIcon,l)}return $.createElement(C0,{fill:c,cx:a,cy:a,size:cr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,c=i.formatter,l=i.inactiveColor,u={x:0,y:0,width:cr,height:cr},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,y){var v=m.formatter||c,b=Ge(Fl(Fl({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var w=Ue(m.value)?null:m.value;Mr(!Ue(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=m.inactive?l:m.color;return $.createElement("li",My({className:b,style:d,key:"legend-item-".concat(y)},yo(r.props,m,y)),$.createElement(ky,{width:o,height:o,viewBox:u,style:h},r.renderIcon(m)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},v?v(w,m,y):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);Fl(N0,"displayName","Legend");Fl(N0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var tX=Qh;function nX(){this.__data__=new tX,this.size=0}var rX=nX;function iX(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var aX=iX;function oX(t){return this.__data__.get(t)}var sX=oX;function cX(t){return this.__data__.has(t)}var lX=cX,uX=Qh,dX=b0,fX=x0,hX=200;function pX(t,e){var n=this.__data__;if(n instanceof uX){var r=n.__data__;if(!dX||r.length<hX-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new fX(r)}return n.set(t,e),this.size=n.size,this}var mX=pX,gX=Qh,yX=rX,vX=aX,bX=sX,xX=lX,wX=mX;function wc(t){var e=this.__data__=new gX(t);this.size=e.size}wc.prototype.clear=yX;wc.prototype.delete=vX;wc.prototype.get=bX;wc.prototype.has=xX;wc.prototype.set=wX;var r$=wc,SX="__lodash_hash_undefined__";function _X(t){return this.__data__.set(t,SX),this}var AX=_X;function TX(t){return this.__data__.has(t)}var OX=TX,jX=x0,kX=AX,PX=OX;function Pf(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new jX;++e<n;)this.add(t[e])}Pf.prototype.add=Pf.prototype.push=kX;Pf.prototype.has=PX;var i$=Pf;function EX(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var a$=EX;function CX(t,e){return t.has(e)}var o$=CX,NX=i$,$X=a$,IX=o$,RX=1,DX=2;function MX(t,e,n,r,i,a){var o=n&RX,s=t.length,c=e.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(t),u=a.get(e);if(l&&u)return l==e&&u==t;var d=-1,h=!0,m=n&DX?new NX:void 0;for(a.set(t,e),a.set(e,t);++d<s;){var y=t[d],v=e[d];if(r)var b=o?r(v,y,d,e,t,a):r(y,v,d,t,e,a);if(b!==void 0){if(b)continue;h=!1;break}if(m){if(!$X(e,function(w,_){if(!IX(m,_)&&(y===w||i(y,w,n,r,a)))return m.push(_)})){h=!1;break}}else if(!(y===v||i(y,v,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var s$=MX,LX=oi,BX=LX.Uint8Array,FX=BX;function UX(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var VX=UX;function qX(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var $0=qX,HS=Bu,YS=FX,KX=v0,zX=s$,WX=VX,GX=$0,HX=1,YX=2,XX="[object Boolean]",JX="[object Date]",ZX="[object Error]",QX="[object Map]",eJ="[object Number]",tJ="[object RegExp]",nJ="[object Set]",rJ="[object String]",iJ="[object Symbol]",aJ="[object ArrayBuffer]",oJ="[object DataView]",XS=HS?HS.prototype:void 0,eg=XS?XS.valueOf:void 0;function sJ(t,e,n,r,i,a,o){switch(n){case oJ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case aJ:return!(t.byteLength!=e.byteLength||!a(new YS(t),new YS(e)));case XX:case JX:case eJ:return KX(+t,+e);case ZX:return t.name==e.name&&t.message==e.message;case tJ:case rJ:return t==e+"";case QX:var s=WX;case nJ:var c=r&HX;if(s||(s=GX),t.size!=e.size&&!c)return!1;var l=o.get(t);if(l)return l==e;r|=YX,o.set(t,e);var u=zX(s(t),s(e),r,i,a,o);return o.delete(t),u;case iJ:if(eg)return eg.call(t)==eg.call(e)}return!1}var cJ=sJ;function lJ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var c$=lJ,uJ=c$,dJ=Bn;function fJ(t,e,n){var r=e(t);return dJ(t)?r:uJ(r,n(t))}var hJ=fJ;function pJ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var mJ=pJ;function gJ(){return[]}var yJ=gJ,vJ=mJ,bJ=yJ,xJ=Object.prototype,wJ=xJ.propertyIsEnumerable,JS=Object.getOwnPropertySymbols,SJ=JS?function(t){return t==null?[]:(t=Object(t),vJ(JS(t),function(e){return wJ.call(t,e)}))}:bJ,_J=SJ;function AJ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var TJ=AJ,OJ=Ci,jJ=Ni,kJ="[object Arguments]";function PJ(t){return jJ(t)&&OJ(t)==kJ}var EJ=PJ,ZS=EJ,CJ=Ni,l$=Object.prototype,NJ=l$.hasOwnProperty,$J=l$.propertyIsEnumerable,IJ=ZS(function(){return arguments}())?ZS:function(t){return CJ(t)&&NJ.call(t,"callee")&&!$J.call(t,"callee")},I0=IJ,Ef={exports:{}};function RJ(){return!1}var DJ=RJ;Ef.exports;(function(t,e){var n=oi,r=DJ,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,c=s?s.isBuffer:void 0,l=c||r;t.exports=l})(Ef,Ef.exports);var u$=Ef.exports,MJ=9007199254740991,LJ=/^(?:0|[1-9]\d*)$/;function BJ(t,e){var n=typeof t;return e=e??MJ,!!e&&(n=="number"||n!="symbol"&&LJ.test(t))&&t>-1&&t%1==0&&t<e}var R0=BJ,FJ=9007199254740991;function UJ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=FJ}var D0=UJ,VJ=Ci,qJ=D0,KJ=Ni,zJ="[object Arguments]",WJ="[object Array]",GJ="[object Boolean]",HJ="[object Date]",YJ="[object Error]",XJ="[object Function]",JJ="[object Map]",ZJ="[object Number]",QJ="[object Object]",eZ="[object RegExp]",tZ="[object Set]",nZ="[object String]",rZ="[object WeakMap]",iZ="[object ArrayBuffer]",aZ="[object DataView]",oZ="[object Float32Array]",sZ="[object Float64Array]",cZ="[object Int8Array]",lZ="[object Int16Array]",uZ="[object Int32Array]",dZ="[object Uint8Array]",fZ="[object Uint8ClampedArray]",hZ="[object Uint16Array]",pZ="[object Uint32Array]",Pt={};Pt[oZ]=Pt[sZ]=Pt[cZ]=Pt[lZ]=Pt[uZ]=Pt[dZ]=Pt[fZ]=Pt[hZ]=Pt[pZ]=!0;Pt[zJ]=Pt[WJ]=Pt[iZ]=Pt[GJ]=Pt[aZ]=Pt[HJ]=Pt[YJ]=Pt[XJ]=Pt[JJ]=Pt[ZJ]=Pt[QJ]=Pt[eZ]=Pt[tZ]=Pt[nZ]=Pt[rZ]=!1;function mZ(t){return KJ(t)&&qJ(t.length)&&!!Pt[VJ(t)]}var gZ=mZ;function yZ(t){return function(e){return t(e)}}var d$=yZ,Cf={exports:{}};Cf.exports;(function(t,e){var n=bN,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Cf,Cf.exports);var vZ=Cf.exports,bZ=gZ,xZ=d$,QS=vZ,e_=QS&&QS.isTypedArray,wZ=e_?xZ(e_):bZ,f$=wZ,SZ=TJ,_Z=I0,AZ=Bn,TZ=u$,OZ=R0,jZ=f$,kZ=Object.prototype,PZ=kZ.hasOwnProperty;function EZ(t,e){var n=AZ(t),r=!n&&_Z(t),i=!n&&!r&&TZ(t),a=!n&&!r&&!i&&jZ(t),o=n||r||i||a,s=o?SZ(t.length,String):[],c=s.length;for(var l in t)(e||PZ.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||OZ(l,c)))&&s.push(l);return s}var CZ=EZ,NZ=Object.prototype;function $Z(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||NZ;return t===n}var IZ=$Z;function RZ(t,e){return function(n){return t(e(n))}}var h$=RZ,DZ=h$,MZ=DZ(Object.keys,Object),LZ=MZ,BZ=IZ,FZ=LZ,UZ=Object.prototype,VZ=UZ.hasOwnProperty;function qZ(t){if(!BZ(t))return FZ(t);var e=[];for(var n in Object(t))VZ.call(t,n)&&n!="constructor"&&e.push(n);return e}var KZ=qZ,zZ=y0,WZ=D0;function GZ(t){return t!=null&&WZ(t.length)&&!zZ(t)}var Uu=GZ,HZ=CZ,YZ=KZ,XZ=Uu;function JZ(t){return XZ(t)?HZ(t):YZ(t)}var gp=JZ,ZZ=hJ,QZ=_J,eQ=gp;function tQ(t){return ZZ(t,eQ,QZ)}var nQ=tQ,t_=nQ,rQ=1,iQ=Object.prototype,aQ=iQ.hasOwnProperty;function oQ(t,e,n,r,i,a){var o=n&rQ,s=t_(t),c=s.length,l=t_(e),u=l.length;if(c!=u&&!o)return!1;for(var d=c;d--;){var h=s[d];if(!(o?h in e:aQ.call(e,h)))return!1}var m=a.get(t),y=a.get(e);if(m&&y)return m==e&&y==t;var v=!0;a.set(t,e),a.set(e,t);for(var b=o;++d<c;){h=s[d];var w=t[h],_=e[h];if(r)var S=o?r(_,w,h,e,t,a):r(w,_,h,t,e,a);if(!(S===void 0?w===_||i(w,_,n,r,a):S)){v=!1;break}b||(b=h=="constructor")}if(v&&!b){var k=t.constructor,A=e.constructor;k!=A&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof A=="function"&&A instanceof A)&&(v=!1)}return a.delete(t),a.delete(e),v}var sQ=oQ,cQ=Ao,lQ=oi,uQ=cQ(lQ,"DataView"),dQ=uQ,fQ=Ao,hQ=oi,pQ=fQ(hQ,"Promise"),mQ=pQ,gQ=Ao,yQ=oi,vQ=gQ(yQ,"Set"),p$=vQ,bQ=Ao,xQ=oi,wQ=bQ(xQ,"WeakMap"),SQ=wQ,By=dQ,Fy=b0,Uy=mQ,Vy=p$,qy=SQ,m$=Ci,Sc=wN,n_="[object Map]",_Q="[object Object]",r_="[object Promise]",i_="[object Set]",a_="[object WeakMap]",o_="[object DataView]",AQ=Sc(By),TQ=Sc(Fy),OQ=Sc(Uy),jQ=Sc(Vy),kQ=Sc(qy),qa=m$;(By&&qa(new By(new ArrayBuffer(1)))!=o_||Fy&&qa(new Fy)!=n_||Uy&&qa(Uy.resolve())!=r_||Vy&&qa(new Vy)!=i_||qy&&qa(new qy)!=a_)&&(qa=function(t){var e=m$(t),n=e==_Q?t.constructor:void 0,r=n?Sc(n):"";if(r)switch(r){case AQ:return o_;case TQ:return n_;case OQ:return r_;case jQ:return i_;case kQ:return a_}return e});var PQ=qa,tg=r$,EQ=s$,CQ=cJ,NQ=sQ,s_=PQ,c_=Bn,l_=u$,$Q=f$,IQ=1,u_="[object Arguments]",d_="[object Array]",Nd="[object Object]",RQ=Object.prototype,f_=RQ.hasOwnProperty;function DQ(t,e,n,r,i,a){var o=c_(t),s=c_(e),c=o?d_:s_(t),l=s?d_:s_(e);c=c==u_?Nd:c,l=l==u_?Nd:l;var u=c==Nd,d=l==Nd,h=c==l;if(h&&l_(t)){if(!l_(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new tg),o||$Q(t)?EQ(t,e,n,r,i,a):CQ(t,e,c,n,r,i,a);if(!(n&IQ)){var m=u&&f_.call(t,"__wrapped__"),y=d&&f_.call(e,"__wrapped__");if(m||y){var v=m?t.value():t,b=y?e.value():e;return a||(a=new tg),i(v,b,n,r,a)}}return h?(a||(a=new tg),NQ(t,e,n,r,i,a)):!1}var MQ=DQ,LQ=MQ,h_=Ni;function g$(t,e,n,r,i){return t===e?!0:t==null||e==null||!h_(t)&&!h_(e)?t!==t&&e!==e:LQ(t,e,n,r,g$,i)}var M0=g$,BQ=r$,FQ=M0,UQ=1,VQ=2;function qQ(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var c=s[0],l=t[c],u=s[1];if(o&&s[2]){if(l===void 0&&!(c in t))return!1}else{var d=new BQ;if(r)var h=r(l,u,c,t,e,d);if(!(h===void 0?FQ(u,l,UQ|VQ,r,d):h))return!1}}return!0}var KQ=qQ,zQ=va;function WQ(t){return t===t&&!zQ(t)}var y$=WQ,GQ=y$,HQ=gp;function YQ(t){for(var e=HQ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,GQ(i)]}return e}var XQ=YQ;function JQ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var v$=JQ,ZQ=KQ,QQ=XQ,eee=v$;function tee(t){var e=QQ(t);return e.length==1&&e[0][2]?eee(e[0][0],e[0][1]):function(n){return n===t||ZQ(n,t,e)}}var nee=tee;function ree(t,e){return t!=null&&e in Object(t)}var iee=ree,aee=ON,oee=I0,see=Bn,cee=R0,lee=D0,uee=tp;function dee(t,e,n){e=aee(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=uee(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&lee(i)&&cee(o,i)&&(see(t)||oee(t)))}var fee=dee,hee=iee,pee=fee;function mee(t,e){return t!=null&&pee(t,e,hee)}var gee=mee,yee=M0,vee=jN,bee=gee,xee=g0,wee=y$,See=v$,_ee=tp,Aee=1,Tee=2;function Oee(t,e){return xee(t)&&wee(e)?See(_ee(t),e):function(n){var r=vee(n,t);return r===void 0&&r===e?bee(n,t):yee(e,r,Aee|Tee)}}var jee=Oee;function kee(t){return t}var _c=kee;function Pee(t){return function(e){return e==null?void 0:e[t]}}var Eee=Pee,Cee=_0;function Nee(t){return function(e){return Cee(e,t)}}var $ee=Nee,Iee=Eee,Ree=$ee,Dee=g0,Mee=tp;function Lee(t){return Dee(t)?Iee(Mee(t)):Ree(t)}var Bee=Lee,Fee=nee,Uee=jee,Vee=_c,qee=Bn,Kee=Bee;function zee(t){return typeof t=="function"?t:t==null?Vee:typeof t=="object"?qee(t)?Uee(t[0],t[1]):Fee(t):Kee(t)}var si=zee;function Wee(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var b$=Wee;function Gee(t){return t!==t}var Hee=Gee;function Yee(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Xee=Yee,Jee=b$,Zee=Hee,Qee=Xee;function ete(t,e,n){return e===e?Qee(t,e,n):Jee(t,Zee,n)}var tte=ete,nte=tte;function rte(t,e){var n=t==null?0:t.length;return!!n&&nte(t,e,0)>-1}var ite=rte;function ate(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var ote=ate;function ste(){}var cte=ste,ng=p$,lte=cte,ute=$0,dte=1/0,fte=ng&&1/ute(new ng([,-0]))[1]==dte?function(t){return new ng(t)}:lte,hte=fte,pte=i$,mte=ite,gte=ote,yte=o$,vte=hte,bte=$0,xte=200;function wte(t,e,n){var r=-1,i=mte,a=t.length,o=!0,s=[],c=s;if(n)o=!1,i=gte;else if(a>=xte){var l=e?null:vte(t);if(l)return bte(l);o=!1,i=yte,c=new pte}else c=e?[]:s;e:for(;++r<a;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,o&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;e&&c.push(d),s.push(u)}else i(c,d,n)||(c!==s&&c.push(d),s.push(u))}return s}var Ste=wte,_te=si,Ate=Ste;function Tte(t,e){return t&&t.length?Ate(t,_te(e)):[]}var Ote=Tte;const p_=gt(Ote);function x$(t,e,n){return e===!0?p_(t,n):Ue(e)?p_(t,e):t}function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}var jte=["ref"];function m_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m_(Object(n),!0).forEach(function(r){yp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S$(r.key),r)}}function Pte(t,e,n){return e&&g_(t.prototype,e),n&&g_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ete(t,e,n){return e=Nf(e),Cte(t,w$()?Reflect.construct(e,n||[],Nf(t).constructor):e.apply(t,n))}function Cte(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nte(t)}function Nte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w$=function(){return!!t})()}function Nf(t){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nf(t)}function $te(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ky(t,e)}function Ky(t,e){return Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ky(t,e)}function yp(t,e,n){return e=S$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S$(t){var e=Ite(t,"string");return Rs(e)=="symbol"?e:e+""}function Ite(t,e){if(Rs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rte(t,e){if(t==null)return{};var n=Dte(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mte(t){return t.value}function Lte(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var n=Rte(e,jte);return $.createElement(N0,n)}var y_=1,sa=function(t){function e(){var n;kte(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ete(this,e,[].concat(i)),yp(n,"lastBoundingBox",{width:-1,height:-1}),n}return $te(e,t),Pte(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>y_||Math.abs(i.height-this.lastBoundingBox.height)>y_)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,c=i.margin,l=i.chartWidth,u=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();d={left:((l||0)-m.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((u||0)-y.height)/2}}else h=s==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return fi(fi({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,c=i.wrapperStyle,l=i.payloadUniqBy,u=i.payload,d=fi(fi({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(c)),c);return $.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){r.wrapperNode=m}},Lte(a,fi(fi({},this.props),{},{payload:x$(u,l,Mte)})))}}],[{key:"getWithHeight",value:function(r,i){var a=fi(fi({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&ge(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(O.PureComponent);yp(sa,"displayName","Legend");yp(sa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var v_=Bu,Bte=I0,Fte=Bn,b_=v_?v_.isConcatSpreadable:void 0;function Ute(t){return Fte(t)||Bte(t)||!!(b_&&t&&t[b_])}var Vte=Ute,qte=c$,Kte=Vte;function _$(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=Kte),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?_$(s,e-1,n,r,i):qte(i,s):r||(i[i.length]=s)}return i}var A$=_$;function zte(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var c=o[t?s:++i];if(n(a[c],c,a)===!1)break}return e}}var Wte=zte,Gte=Wte,Hte=Gte(),Yte=Hte,Xte=Yte,Jte=gp;function Zte(t,e){return t&&Xte(t,e,Jte)}var T$=Zte,Qte=Uu;function ene(t,e){return function(n,r){if(n==null)return n;if(!Qte(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var tne=ene,nne=T$,rne=tne,ine=rne(nne),L0=ine,ane=L0,one=Uu;function sne(t,e){var n=-1,r=one(t)?Array(t.length):[];return ane(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var O$=sne;function cne(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var lne=cne,x_=mc;function une(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=x_(t),o=e!==void 0,s=e===null,c=e===e,l=x_(e);if(!s&&!l&&!a&&t>e||a&&o&&c&&!s&&!l||r&&o&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&t<e||l&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!c)return-1}return 0}var dne=une,fne=dne;function hne(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var c=fne(i[r],a[r]);if(c){if(r>=s)return c;var l=n[r];return c*(l=="desc"?-1:1)}}return t.index-e.index}var pne=hne,rg=S0,mne=_0,gne=si,yne=O$,vne=lne,bne=d$,xne=pne,wne=_c,Sne=Bn;function _ne(t,e,n){e.length?e=rg(e,function(a){return Sne(a)?function(o){return mne(o,a.length===1?a[0]:a)}:a}):e=[wne];var r=-1;e=rg(e,bne(gne));var i=yne(t,function(a,o,s){var c=rg(e,function(l){return l(a)});return{criteria:c,index:++r,value:a}});return vne(i,function(a,o){return xne(a,o,n)})}var Ane=_ne;function Tne(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var One=Tne,jne=One,w_=Math.max;function kne(t,e,n){return e=w_(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=w_(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),jne(t,this,s)}}var Pne=kne;function Ene(t){return function(){return t}}var Cne=Ene,Nne=Ao,$ne=function(){try{var t=Nne(Object,"defineProperty");return t({},"",{}),t}catch{}}(),j$=$ne,Ine=Cne,S_=j$,Rne=_c,Dne=S_?function(t,e){return S_(t,"toString",{configurable:!0,enumerable:!1,value:Ine(e),writable:!0})}:Rne,Mne=Dne,Lne=800,Bne=16,Fne=Date.now;function Une(t){var e=0,n=0;return function(){var r=Fne(),i=Bne-(r-n);if(n=r,i>0){if(++e>=Lne)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Vne=Une,qne=Mne,Kne=Vne,zne=Kne(qne),Wne=zne,Gne=_c,Hne=Pne,Yne=Wne;function Xne(t,e){return Yne(Hne(t,e,Gne),t+"")}var Jne=Xne,Zne=v0,Qne=Uu,ere=R0,tre=va;function nre(t,e,n){if(!tre(n))return!1;var r=typeof e;return(r=="number"?Qne(n)&&ere(e,n.length):r=="string"&&e in n)?Zne(n[e],t):!1}var vp=nre,rre=A$,ire=Ane,are=Jne,__=vp,ore=are(function(t,e){if(t==null)return[];var n=e.length;return n>1&&__(t,e[0],e[1])?e=[]:n>2&&__(e[0],e[1],e[2])&&(e=[e[0]]),ire(t,rre(e,1),[])}),sre=ore;const B0=gt(sre);function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zy.apply(this,arguments)}function cre(t,e){return fre(t)||dre(t,e)||ure(t,e)||lre()}function lre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ure(t,e){if(t){if(typeof t=="string")return A_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A_(t,e)}}function A_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function fre(t){if(Array.isArray(t))return t}function T_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ig(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T_(Object(n),!0).forEach(function(r){hre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hre(t,e,n){return e=pre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pre(t){var e=mre(t,"string");return Ul(e)=="symbol"?e:e+""}function mre(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gre(t){return Array.isArray(t)&&nn(t[0])&&nn(t[1])?t.join(" ~ "):t}var yre=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,c=e.labelStyle,l=c===void 0?{}:c,u=e.payload,d=e.formatter,h=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,v=e.label,b=e.labelFormatter,w=e.accessibilityLayer,_=w===void 0?!1:w,S=function(){if(u&&u.length){var D={padding:0,margin:0},X=(h?B0(u,h):u).map(function(ee,W){if(ee.type==="none")return null;var Q=ig({display:"block",paddingTop:4,paddingBottom:4,color:ee.color||"#000"},s),te=ee.formatter||d||gre,ae=ee.value,re=ee.name,de=ae,_e=re;if(te&&de!=null&&_e!=null){var ue=te(ae,re,ee,W,u);if(Array.isArray(ue)){var pe=cre(ue,2);de=pe[0],_e=pe[1]}else de=ue}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:Q},nn(_e)?$.createElement("span",{className:"recharts-tooltip-item-name"},_e):null,nn(_e)?$.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,$.createElement("span",{className:"recharts-tooltip-item-value"},de),$.createElement("span",{className:"recharts-tooltip-item-unit"},ee.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:D},X)}return null},k=ig({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),A=ig({margin:0},l),j=!Ke(v),E=j?v:"",N=Ge("recharts-default-tooltip",m),R=Ge("recharts-tooltip-label",y);j&&b&&u!==void 0&&u!==null&&(E=b(v,u));var q=_?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",zy({className:N,style:k},q),$.createElement("p",{className:R,style:A},$.isValidElement(E)?E:"".concat(E)),S())};function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function $d(t,e,n){return e=vre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vre(t){var e=bre(t,"string");return Vl(e)=="symbol"?e:e+""}function bre(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wc="recharts-tooltip-wrapper",xre={visibility:"hidden"};function wre(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ge(Wc,$d($d($d($d({},"".concat(Wc,"-right"),ge(n)&&e&&ge(e.x)&&n>=e.x),"".concat(Wc,"-left"),ge(n)&&e&&ge(e.x)&&n<e.x),"".concat(Wc,"-bottom"),ge(r)&&e&&ge(e.y)&&r>=e.y),"".concat(Wc,"-top"),ge(r)&&e&&ge(e.y)&&r<e.y))}function O_(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,c=t.viewBox,l=t.viewBoxDimension;if(a&&ge(a[r]))return a[r];var u=n[r]-s-i,d=n[r]+i;if(e[r])return o[r]?u:d;if(o[r]){var h=u,m=c[r];return h<m?Math.max(d,c[r]):Math.max(u,c[r])}var y=d+s,v=c[r]+l;return y>v?Math.max(u,c[r]):Math.max(d,c[r])}function Sre(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function _re(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,c=t.viewBox,l,u,d;return o.height>0&&o.width>0&&n?(u=O_({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=O_({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),l=Sre({translateX:u,translateY:d,useTranslate3d:s})):l=xre,{cssProperties:l,cssClasses:wre({translateX:u,translateY:d,coordinate:n})}}function Ds(t){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(t)}function j_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j_(Object(n),!0).forEach(function(r){Gy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Are(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P$(r.key),r)}}function Ore(t,e,n){return e&&Tre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jre(t,e,n){return e=$f(e),kre(t,k$()?Reflect.construct(e,n||[],$f(t).constructor):e.apply(t,n))}function kre(t,e){if(e&&(Ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pre(t)}function Pre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k$=function(){return!!t})()}function $f(t){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$f(t)}function Ere(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wy(t,e)}function Wy(t,e){return Wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wy(t,e)}function Gy(t,e,n){return e=P$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P$(t){var e=Cre(t,"string");return Ds(e)=="symbol"?e:e+""}function Cre(t,e){if(Ds(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P_=1,Nre=function(t){function e(){var n;Are(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=jre(this,e,[].concat(i)),Gy(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Gy(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,c,l,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(l=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&l!==void 0?l:0}})}}),n}return Ere(e,t),Ore(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>P_||Math.abs(r.height-this.state.lastBoundingBox.height)>P_)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,l=i.children,u=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,m=i.offset,y=i.position,v=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,S=_re({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:m,position:y,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:w}),k=S.cssClasses,A=S.cssProperties,j=k_(k_({transition:h&&a?"transform ".concat(s,"ms ").concat(c):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},_);return $.createElement("div",{tabIndex:-1,className:k,style:j,ref:function(N){r.wrapperNode=N}},l)}}])}(O.PureComponent),$re=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Qr={isSsr:$re(),get:function(e){return Qr[e]},set:function(e,n){if(typeof e=="string")Qr[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Qr[i]=e[i]})}}};function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}function E_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E_(Object(n),!0).forEach(function(r){F0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ire(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C$(r.key),r)}}function Dre(t,e,n){return e&&Rre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mre(t,e,n){return e=If(e),Lre(t,E$()?Reflect.construct(e,n||[],If(t).constructor):e.apply(t,n))}function Lre(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bre(t)}function Bre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E$=function(){return!!t})()}function If(t){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},If(t)}function Fre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hy(t,e)}function Hy(t,e){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hy(t,e)}function F0(t,e,n){return e=C$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C$(t){var e=Ure(t,"string");return Ms(e)=="symbol"?e:e+""}function Ure(t,e){if(Ms(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vre(t){return t.dataKey}function qre(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(yre,e)}var dr=function(t){function e(){return Ire(this,e),Mre(this,e,arguments)}return Fre(e,t),Dre(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,l=i.content,u=i.coordinate,d=i.filterNull,h=i.isAnimationActive,m=i.offset,y=i.payload,v=i.payloadUniqBy,b=i.position,w=i.reverseDirection,_=i.useTranslate3d,S=i.viewBox,k=i.wrapperStyle,A=y??[];d&&A.length&&(A=x$(y.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),v,Vre));var j=A.length>0;return $.createElement(Nre,{allowEscapeViewBox:o,animationDuration:s,animationEasing:c,isAnimationActive:h,active:a,coordinate:u,hasPayload:j,offset:m,position:b,reverseDirection:w,useTranslate3d:_,viewBox:S,wrapperStyle:k},qre(l,C_(C_({},this.props),{},{payload:A})))}}])}(O.PureComponent);F0(dr,"displayName","Tooltip");F0(dr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Qr.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Kre=oi,zre=function(){return Kre.Date.now()},Wre=zre,Gre=/\s/;function Hre(t){for(var e=t.length;e--&&Gre.test(t.charAt(e)););return e}var Yre=Hre,Xre=Yre,Jre=/^\s+/;function Zre(t){return t&&t.slice(0,Xre(t)+1).replace(Jre,"")}var Qre=Zre,eie=Qre,N_=va,tie=mc,$_=NaN,nie=/^[-+]0x[0-9a-f]+$/i,rie=/^0b[01]+$/i,iie=/^0o[0-7]+$/i,aie=parseInt;function oie(t){if(typeof t=="number")return t;if(tie(t))return $_;if(N_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=N_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=eie(t);var n=rie.test(t);return n||iie.test(t)?aie(t.slice(2),n?2:8):nie.test(t)?$_:+t}var N$=oie,sie=va,ag=Wre,I_=N$,cie="Expected a function",lie=Math.max,uie=Math.min;function die(t,e,n){var r,i,a,o,s,c,l=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(cie);e=I_(e)||0,sie(n)&&(u=!!n.leading,d="maxWait"in n,a=d?lie(I_(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function m(j){var E=r,N=i;return r=i=void 0,l=j,o=t.apply(N,E),o}function y(j){return l=j,s=setTimeout(w,e),u?m(j):o}function v(j){var E=j-c,N=j-l,R=e-E;return d?uie(R,a-N):R}function b(j){var E=j-c,N=j-l;return c===void 0||E>=e||E<0||d&&N>=a}function w(){var j=ag();if(b(j))return _(j);s=setTimeout(w,v(j))}function _(j){return s=void 0,h&&r?m(j):(r=i=void 0,o)}function S(){s!==void 0&&clearTimeout(s),l=0,r=c=i=s=void 0}function k(){return s===void 0?o:_(ag())}function A(){var j=ag(),E=b(j);if(r=arguments,i=this,c=j,E){if(s===void 0)return y(c);if(d)return clearTimeout(s),s=setTimeout(w,e),m(c)}return s===void 0&&(s=setTimeout(w,e)),o}return A.cancel=S,A.flush=k,A}var fie=die,hie=fie,pie=va,mie="Expected a function";function gie(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(mie);return pie(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),hie(t,e,{leading:r,maxWait:e,trailing:i})}var yie=gie;const $$=gt(yie);function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function R_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Id(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R_(Object(n),!0).forEach(function(r){vie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vie(t,e,n){return e=bie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bie(t){var e=xie(t,"string");return ql(e)=="symbol"?e:e+""}function xie(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wie(t,e){return Tie(t)||Aie(t,e)||_ie(t,e)||Sie()}function Sie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ie(t,e){if(t){if(typeof t=="string")return D_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D_(t,e)}}function D_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Aie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function Tie(t){if(Array.isArray(t))return t}var U0=O.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,c=s===void 0?"100%":s,l=t.minWidth,u=l===void 0?0:l,d=t.minHeight,h=t.maxHeight,m=t.children,y=t.debounce,v=y===void 0?0:y,b=t.id,w=t.className,_=t.onResize,S=t.style,k=S===void 0?{}:S,A=O.useRef(null),j=O.useRef();j.current=_,O.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var E=O.useState({containerWidth:i.width,containerHeight:i.height}),N=wie(E,2),R=N[0],q=N[1],L=O.useCallback(function(X,ee){q(function(W){var Q=Math.round(X),te=Math.round(ee);return W.containerWidth===Q&&W.containerHeight===te?W:{containerWidth:Q,containerHeight:te}})},[]);O.useEffect(function(){var X=function(re){var de,_e=re[0].contentRect,ue=_e.width,pe=_e.height;L(ue,pe),(de=j.current)===null||de===void 0||de.call(j,ue,pe)};v>0&&(X=$$(X,v,{trailing:!0,leading:!1}));var ee=new ResizeObserver(X),W=A.current.getBoundingClientRect(),Q=W.width,te=W.height;return L(Q,te),ee.observe(A.current),function(){ee.disconnect()}},[L,v]);var D=O.useMemo(function(){var X=R.containerWidth,ee=R.containerHeight;if(X<0||ee<0)return null;Mr(Za(o)||Za(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Mr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var W=Za(o)?X:o,Q=Za(c)?ee:c;n&&n>0&&(W?Q=W/n:Q&&(W=Q*n),h&&Q>h&&(Q=h)),Mr(W>0||Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,Q,o,c,u,d,n);var te=!Array.isArray(m)&&Si(m.type).endsWith("Chart");return $.Children.map(m,function(ae){return $.isValidElement(ae)?O.cloneElement(ae,Id({width:W,height:Q},te?{style:Id({height:"100%",width:"100%",maxHeight:Q,maxWidth:W},ae.props.style)}:{})):ae})},[n,m,c,h,d,u,R,o]);return $.createElement("div",{id:b?"".concat(b):void 0,className:Ge("recharts-responsive-container",w),style:Id(Id({},k),{},{width:o,height:c,minWidth:u,minHeight:d,maxHeight:h}),ref:A},D)}),Vu=function(e){return null};Vu.displayName="Cell";function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function M_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M_(Object(n),!0).forEach(function(r){Oie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oie(t,e,n){return e=jie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jie(t){var e=kie(t,"string");return Kl(e)=="symbol"?e:e+""}function kie(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ko={widthCache:{},cacheCount:0},Pie=2e3,Eie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},L_="recharts_measurement_span";function Cie(t){var e=Yy({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var gl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Qr.isSsr)return{width:0,height:0};var r=Cie(n),i=JSON.stringify({text:e,copyStyle:r});if(Ko.widthCache[i])return Ko.widthCache[i];try{var a=document.getElementById(L_);a||(a=document.createElement("span"),a.setAttribute("id",L_),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Yy(Yy({},Eie),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),c={width:s.width,height:s.height};return Ko.widthCache[i]=c,++Ko.cacheCount>Pie&&(Ko.cacheCount=0,Ko.widthCache={}),c}catch{return{width:0,height:0}}},Nie=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function Rf(t,e){return Die(t)||Rie(t,e)||Iie(t,e)||$ie()}function $ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iie(t,e){if(t){if(typeof t=="string")return B_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B_(t,e)}}function B_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function Die(t){if(Array.isArray(t))return t}function Mie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bie(r.key),r)}}function Lie(t,e,n){return e&&F_(t.prototype,e),n&&F_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bie(t){var e=Fie(t,"string");return zl(e)=="symbol"?e:e+""}function Fie(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var U_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,V_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Uie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Vie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,I$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},qie=Object.keys(I$),is="NaN";function Kie(t,e){return t*I$[e]}var Rd=function(){function t(e,n){Mie(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Uie.test(n)&&(this.num=NaN,this.unit=""),qie.includes(n)&&(this.num=Kie(e,n),this.unit="px")}return Lie(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Vie.exec(n))!==null&&r!==void 0?r:[],a=Rf(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function R$(t){if(t.includes(is))return is;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=U_.exec(e))!==null&&n!==void 0?n:[],i=Rf(r,4),a=i[1],o=i[2],s=i[3],c=Rd.parse(a??""),l=Rd.parse(s??""),u=o==="*"?c.multiply(l):c.divide(l);if(u.isNaN())return is;e=e.replace(U_,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=V_.exec(e))!==null&&d!==void 0?d:[],m=Rf(h,4),y=m[1],v=m[2],b=m[3],w=Rd.parse(y??""),_=Rd.parse(b??""),S=v==="+"?w.add(_):w.subtract(_);if(S.isNaN())return is;e=e.replace(V_,S.toString())}return e}var q_=/\(([^()]*)\)/;function zie(t){for(var e=t;e.includes("(");){var n=q_.exec(e),r=Rf(n,2),i=r[1];e=e.replace(q_,R$(i))}return e}function Wie(t){var e=t.replace(/\s+/g,"");return e=zie(e),e=R$(e),e}function Gie(t){try{return Wie(t)}catch{return is}}function og(t){var e=Gie(t.slice(5,-1));return e===is?"":e}var Hie=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Yie=["dx","dy","angle","className","breakAll"];function Xy(){return Xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xy.apply(this,arguments)}function K_(t,e){if(t==null)return{};var n=Xie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function z_(t,e){return eae(t)||Qie(t,e)||Zie(t,e)||Jie()}function Jie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zie(t,e){if(t){if(typeof t=="string")return W_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W_(t,e)}}function W_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function eae(t){if(Array.isArray(t))return t}var D$=/[ \f\n\r\t\v\u2028\u2029]+/,M$=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Ke(n)||(r?a=n.toString().split(""):a=n.toString().split(D$));var o=a.map(function(c){return{word:c,width:gl(c,i).width}}),s=r?0:gl("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},tae=function(e,n,r,i,a){var o=e.maxLines,s=e.children,c=e.style,l=e.breakAll,u=ge(o),d=s,h=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(Q,te){var ae=te.word,re=te.width,de=Q[Q.length-1];if(de&&(i==null||a||de.width+re+r<Number(i)))de.words.push(ae),de.width+=re+r;else{var _e={words:[ae],width:re};Q.push(_e)}return Q},[])},m=h(n),y=function(W){return W.reduce(function(Q,te){return Q.width>te.width?Q:te})};if(!u)return m;for(var v="",b=function(W){var Q=d.slice(0,W),te=M$({breakAll:l,style:c,children:Q+v}).wordsWithComputedWidth,ae=h(te),re=ae.length>o||y(ae).width>Number(i);return[re,ae]},w=0,_=d.length-1,S=0,k;w<=_&&S<=d.length-1;){var A=Math.floor((w+_)/2),j=A-1,E=b(j),N=z_(E,2),R=N[0],q=N[1],L=b(A),D=z_(L,1),X=D[0];if(!R&&!X&&(w=A+1),R&&X&&(_=A-1),!R&&X){k=q;break}S++}return k||m},G_=function(e){var n=Ke(e)?[]:e.toString().split(D$);return[{words:n}]},nae=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Qr.isSsr){var c,l,u=M$({breakAll:o,children:i,style:a});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;c=d,l=h}else return G_(i);return tae({breakAll:o,children:i,maxLines:s,style:a},c,l,n,r)}return G_(i)},H_="#808080",vo=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,c=e.capHeight,l=c===void 0?"0.71em":c,u=e.scaleToFit,d=u===void 0?!1:u,h=e.textAnchor,m=h===void 0?"start":h,y=e.verticalAnchor,v=y===void 0?"end":y,b=e.fill,w=b===void 0?H_:b,_=K_(e,Hie),S=O.useMemo(function(){return nae({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:d,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,d,_.style,_.width]),k=_.dx,A=_.dy,j=_.angle,E=_.className,N=_.breakAll,R=K_(_,Yie);if(!nn(r)||!nn(a))return null;var q=r+(ge(k)?k:0),L=a+(ge(A)?A:0),D;switch(v){case"start":D=og("calc(".concat(l,")"));break;case"middle":D=og("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:D=og("calc(".concat(S.length-1," * -").concat(s,")"));break}var X=[];if(d){var ee=S[0].width,W=_.width;X.push("scale(".concat((ge(W)?W/ee:1)/ee,")"))}return j&&X.push("rotate(".concat(j,", ").concat(q,", ").concat(L,")")),X.length&&(R.transform=X.join(" ")),$.createElement("text",Xy({},Ie(R,!0),{x:q,y:L,className:Ge("recharts-text",E),textAnchor:m,fill:w.includes("url")?H_:w}),S.map(function(Q,te){var ae=Q.words.join(N?"":" ");return $.createElement("tspan",{x:q,dy:te===0?D:s,key:"".concat(ae,"-").concat(te)},ae)}))};function ca(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function V0(t){let e,n,r;t.length!==2?(e=ca,n=(s,c)=>ca(t(s),c),r=(s,c)=>t(s)-c):(e=t===ca||t===rae?t:iae,n=t,r=t);function i(s,c,l=0,u=s.length){if(l<u){if(e(c,c)!==0)return u;do{const d=l+u>>>1;n(s[d],c)<0?l=d+1:u=d}while(l<u)}return l}function a(s,c,l=0,u=s.length){if(l<u){if(e(c,c)!==0)return u;do{const d=l+u>>>1;n(s[d],c)<=0?l=d+1:u=d}while(l<u)}return l}function o(s,c,l=0,u=s.length){const d=i(s,c,l,u-1);return d>l&&r(s[d-1],c)>-r(s[d],c)?d-1:d}return{left:i,center:o,right:a}}function iae(){return 0}function L$(t){return t===null?NaN:+t}function*aae(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const oae=V0(ca),qu=oae.right;V0(L$).center;class Y_ extends Map{constructor(e,n=lae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(X_(this,e))}has(e){return super.has(X_(this,e))}set(e,n){return super.set(sae(this,e),n)}delete(e){return super.delete(cae(this,e))}}function X_({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function sae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function cae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function lae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function uae(t=ca){if(t===ca)return B$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function B$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const dae=Math.sqrt(50),fae=Math.sqrt(10),hae=Math.sqrt(2);function Df(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=dae?10:a>=fae?5:a>=hae?2:1;let s,c,l;return i<0?(l=Math.pow(10,-i)/o,s=Math.round(t*l),c=Math.round(e*l),s/l<t&&++s,c/l>e&&--c,l=-l):(l=Math.pow(10,i)*o,s=Math.round(t/l),c=Math.round(e/l),s*l<t&&++s,c*l>e&&--c),c<s&&.5<=n&&n<2?Df(t,e,n*2):[s,c,l]}function Jy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Df(e,t,n):Df(t,e,n);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(r)if(o<0)for(let l=0;l<s;++l)c[l]=(a-l)/-o;else for(let l=0;l<s;++l)c[l]=(a-l)*o;else if(o<0)for(let l=0;l<s;++l)c[l]=(i+l)/-o;else for(let l=0;l<s;++l)c[l]=(i+l)*o;return c}function Zy(t,e,n){return e=+e,t=+t,n=+n,Df(t,e,n)[2]}function Qy(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Zy(e,t,n):Zy(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function J_(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Z_(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function F$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?B$:uae(i);r>n;){if(r-n>600){const c=r-n+1,l=e-n+1,u=Math.log(c),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(c-d)/c)*(l-c/2<0?-1:1),m=Math.max(n,Math.floor(e-l*d/c+h)),y=Math.min(r,Math.floor(e+(c-l)*d/c+h));F$(t,e,m,y,i)}const a=t[e];let o=n,s=r;for(Gc(t,n,e),i(t[r],a)>0&&Gc(t,n,r);o<s;){for(Gc(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Gc(t,n,s):(++s,Gc(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Gc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function pae(t,e,n){if(t=Float64Array.from(aae(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Z_(t);if(e>=1)return J_(t);var r,i=(r-1)*e,a=Math.floor(i),o=J_(F$(t,a).subarray(0,a+1)),s=Z_(t.subarray(a+1));return o+(s-o)*(i-a)}}function mae(t,e,n=L$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function gae(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function br(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function $i(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ev=Symbol("implicit");function q0(){var t=new Y_,e=[],n=[],r=ev;function i(a){let o=t.get(a);if(o===void 0){if(r!==ev)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Y_;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return q0(e,n).unknown(r)},br.apply(i,arguments),i}function Wl(){var t=q0().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,c=0,l=0,u=.5;delete t.unknown;function d(){var h=e().length,m=i<r,y=m?i:r,v=m?r:i;a=(v-y)/Math.max(1,h-c+l*2),s&&(a=Math.floor(a)),y+=(v-y-a*(h-c))*u,o=a*(1-c),s&&(y=Math.round(y),o=Math.round(o));var b=gae(h).map(function(w){return y+a*w});return n(m?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(c=Math.min(1,l=+h),d()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},t.paddingOuter=function(h){return arguments.length?(l=+h,d()):l},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return Wl(e(),[r,i]).round(s).paddingInner(c).paddingOuter(l).align(u)},br.apply(d(),arguments)}function U$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return U$(e())},t}function yl(){return U$(Wl.apply(null,arguments).paddingInner(1))}function K0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function V$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ku(){}var Gl=.7,Mf=1/Gl,ys="\\s*([+-]?\\d+)\\s*",Hl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yae=/^#([0-9a-f]{3,8})$/,vae=new RegExp(`^rgb\\(${ys},${ys},${ys}\\)$`),bae=new RegExp(`^rgb\\(${ei},${ei},${ei}\\)$`),xae=new RegExp(`^rgba\\(${ys},${ys},${ys},${Hl}\\)$`),wae=new RegExp(`^rgba\\(${ei},${ei},${ei},${Hl}\\)$`),Sae=new RegExp(`^hsl\\(${Hl},${ei},${ei}\\)$`),_ae=new RegExp(`^hsla\\(${Hl},${ei},${ei},${Hl}\\)$`),Q_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};K0(Ku,Yl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:eA,formatHex:eA,formatHex8:Aae,formatHsl:Tae,formatRgb:tA,toString:tA});function eA(){return this.rgb().formatHex()}function Aae(){return this.rgb().formatHex8()}function Tae(){return q$(this).formatHsl()}function tA(){return this.rgb().formatRgb()}function Yl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=yae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?nA(e):n===3?new Ln(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Dd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Dd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=vae.exec(t))?new Ln(e[1],e[2],e[3],1):(e=bae.exec(t))?new Ln(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=xae.exec(t))?Dd(e[1],e[2],e[3],e[4]):(e=wae.exec(t))?Dd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Sae.exec(t))?aA(e[1],e[2]/100,e[3]/100,1):(e=_ae.exec(t))?aA(e[1],e[2]/100,e[3]/100,e[4]):Q_.hasOwnProperty(t)?nA(Q_[t]):t==="transparent"?new Ln(NaN,NaN,NaN,0):null}function nA(t){return new Ln(t>>16&255,t>>8&255,t&255,1)}function Dd(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ln(t,e,n,r)}function Oae(t){return t instanceof Ku||(t=Yl(t)),t?(t=t.rgb(),new Ln(t.r,t.g,t.b,t.opacity)):new Ln}function tv(t,e,n,r){return arguments.length===1?Oae(t):new Ln(t,e,n,r??1)}function Ln(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}K0(Ln,tv,V$(Ku,{brighter(t){return t=t==null?Mf:Math.pow(Mf,t),new Ln(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Gl:Math.pow(Gl,t),new Ln(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ln(uo(this.r),uo(this.g),uo(this.b),Lf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rA,formatHex:rA,formatHex8:jae,formatRgb:iA,toString:iA}));function rA(){return`#${Qa(this.r)}${Qa(this.g)}${Qa(this.b)}`}function jae(){return`#${Qa(this.r)}${Qa(this.g)}${Qa(this.b)}${Qa((isNaN(this.opacity)?1:this.opacity)*255)}`}function iA(){const t=Lf(this.opacity);return`${t===1?"rgb(":"rgba("}${uo(this.r)}, ${uo(this.g)}, ${uo(this.b)}${t===1?")":`, ${t})`}`}function Lf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function uo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qa(t){return t=uo(t),(t<16?"0":"")+t.toString(16)}function aA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Dr(t,e,n,r)}function q$(t){if(t instanceof Dr)return new Dr(t.h,t.s,t.l,t.opacity);if(t instanceof Ku||(t=Yl(t)),!t)return new Dr;if(t instanceof Dr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new Dr(o,s,c,t.opacity)}function kae(t,e,n,r){return arguments.length===1?q$(t):new Dr(t,e,n,r??1)}function Dr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}K0(Dr,kae,V$(Ku,{brighter(t){return t=t==null?Mf:Math.pow(Mf,t),new Dr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Gl:Math.pow(Gl,t),new Dr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ln(sg(t>=240?t-240:t+120,i,r),sg(t,i,r),sg(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Dr(oA(this.h),Md(this.s),Md(this.l),Lf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Lf(this.opacity);return`${t===1?"hsl(":"hsla("}${oA(this.h)}, ${Md(this.s)*100}%, ${Md(this.l)*100}%${t===1?")":`, ${t})`}`}}));function oA(t){return t=(t||0)%360,t<0?t+360:t}function Md(t){return Math.max(0,Math.min(1,t||0))}function sg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const z0=t=>()=>t;function Pae(t,e){return function(n){return t+n*e}}function Eae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Cae(t){return(t=+t)==1?K$:function(e,n){return n-e?Eae(e,n,t):z0(isNaN(e)?n:e)}}function K$(t,e){var n=e-t;return n?Pae(t,n):z0(isNaN(t)?e:t)}const sA=function t(e){var n=Cae(e);function r(i,a){var o=n((i=tv(i)).r,(a=tv(a)).r),s=n(i.g,a.g),c=n(i.b,a.b),l=K$(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=c(u),i.opacity=l(u),i+""}}return r.gamma=t,r}(1);function Nae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function $ae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Iae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Ac(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Rae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Bf(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Dae(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ac(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var nv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cg=new RegExp(nv.source,"g");function Mae(t){return function(){return t}}function Lae(t){return function(e){return t(e)+""}}function Bae(t,e){var n=nv.lastIndex=cg.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(t=t+"",e=e+"";(r=nv.exec(t))&&(i=cg.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:Bf(r,i)})),n=cg.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?Lae(c[0].x):Mae(e):(e=c.length,function(l){for(var u=0,d;u<e;++u)s[(d=c[u]).i]=d.x(l);return s.join("")})}function Ac(t,e){var n=typeof e,r;return e==null||n==="boolean"?z0(e):(n==="number"?Bf:n==="string"?(r=Yl(e))?(e=r,sA):Bae:e instanceof Yl?sA:e instanceof Date?Rae:$ae(e)?Nae:Array.isArray(e)?Iae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Dae:Bf)(t,e)}function W0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Fae(t,e){e===void 0&&(e=t,t=Ac);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Uae(t){return function(){return t}}function Ff(t){return+t}var cA=[0,1];function In(t){return t}function rv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Uae(isNaN(e)?NaN:.5)}function Vae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function qae(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=rv(i,r),a=n(o,a)):(r=rv(r,i),a=n(a,o)),function(s){return a(r(s))}}function Kae(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=rv(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var c=qu(t,s,1,r)-1;return a[c](i[c](s))}}function zu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bp(){var t=cA,e=cA,n=Ac,r,i,a,o=In,s,c,l;function u(){var h=Math.min(t.length,e.length);return o!==In&&(o=Vae(t[0],t[h-1])),s=h>2?Kae:qae,c=l=null,d}function d(h){return h==null||isNaN(h=+h)?a:(c||(c=s(t.map(r),e,n)))(r(o(h)))}return d.invert=function(h){return o(i((l||(l=s(e,t.map(r),Bf)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Ff),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=W0,u()},d.clamp=function(h){return arguments.length?(o=h?!0:In,u()):o!==In},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,m){return r=h,i=m,u()}}function G0(){return bp()(In,In)}function zae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Uf(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ls(t){return t=Uf(Math.abs(t)),t?t[1]:NaN}function Wae(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Gae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Hae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xl(t){if(!(e=Hae.exec(t)))throw new Error("invalid format: "+t);var e;return new H0({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xl.prototype=H0.prototype;function H0(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}H0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Yae(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var z$;function Xae(t,e){var n=Uf(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(z$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Uf(t,Math.max(0,e+a-1))[0]}function lA(t,e){var n=Uf(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const uA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>lA(t*100,e),r:lA,s:Xae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function dA(t){return t}var fA=Array.prototype.map,hA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Jae(t){var e=t.grouping===void 0||t.thousands===void 0?dA:Wae(fA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?dA:Gae(fA.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function l(d){d=Xl(d);var h=d.fill,m=d.align,y=d.sign,v=d.symbol,b=d.zero,w=d.width,_=d.comma,S=d.precision,k=d.trim,A=d.type;A==="n"?(_=!0,A="g"):uA[A]||(S===void 0&&(S=12),k=!0,A="g"),(b||h==="0"&&m==="=")&&(b=!0,h="0",m="=");var j=v==="$"?n:v==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",E=v==="$"?r:/[%p]/.test(A)?o:"",N=uA[A],R=/[defgprs%]/.test(A);S=S===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function q(L){var D=j,X=E,ee,W,Q;if(A==="c")X=N(L)+X,L="";else{L=+L;var te=L<0||1/L<0;if(L=isNaN(L)?c:N(Math.abs(L),S),k&&(L=Yae(L)),te&&+L==0&&y!=="+"&&(te=!1),D=(te?y==="("?y:s:y==="-"||y==="("?"":y)+D,X=(A==="s"?hA[8+z$/3]:"")+X+(te&&y==="("?")":""),R){for(ee=-1,W=L.length;++ee<W;)if(Q=L.charCodeAt(ee),48>Q||Q>57){X=(Q===46?i+L.slice(ee+1):L.slice(ee))+X,L=L.slice(0,ee);break}}}_&&!b&&(L=e(L,1/0));var ae=D.length+L.length+X.length,re=ae<w?new Array(w-ae+1).join(h):"";switch(_&&b&&(L=e(re+L,re.length?w-X.length:1/0),re=""),m){case"<":L=D+L+X+re;break;case"=":L=D+re+L+X;break;case"^":L=re.slice(0,ae=re.length>>1)+D+L+X+re.slice(ae);break;default:L=re+D+L+X;break}return a(L)}return q.toString=function(){return d+""},q}function u(d,h){var m=l((d=Xl(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(Ls(h)/3)))*3,v=Math.pow(10,-y),b=hA[8+y/3];return function(w){return m(v*w)+b}}return{format:l,formatPrefix:u}}var Ld,Y0,W$;Zae({thousands:",",grouping:[3],currency:["$",""]});function Zae(t){return Ld=Jae(t),Y0=Ld.format,W$=Ld.formatPrefix,Ld}function Qae(t){return Math.max(0,-Ls(Math.abs(t)))}function eoe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ls(e)/3)))*3-Ls(Math.abs(t)))}function toe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ls(e)-Ls(t))+1}function G$(t,e,n,r){var i=Qy(t,e,n),a;switch(r=Xl(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=eoe(i,o))&&(r.precision=a),W$(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=toe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Qae(i))&&(r.precision=a-(r.type==="%")*2);break}}return Y0(r)}function ba(t){var e=t.domain;return t.ticks=function(n){var r=e();return Jy(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return G$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],c,l,u=10;for(s<o&&(l=o,o=s,s=l,l=i,i=a,a=l);u-- >0;){if(l=Zy(o,s,n),l===c)return r[i]=o,r[a]=s,e(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;c=l}return t},t}function Vf(){var t=G0();return t.copy=function(){return zu(t,Vf())},br.apply(t,arguments),ba(t)}function H$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ff),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return H$(t).unknown(e)},t=arguments.length?Array.from(t,Ff):[0,1],ba(n)}function Y$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function pA(t){return Math.log(t)}function mA(t){return Math.exp(t)}function noe(t){return-Math.log(-t)}function roe(t){return-Math.exp(-t)}function ioe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function aoe(t){return t===10?ioe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ooe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function gA(t){return(e,n)=>-t(-e,n)}function X0(t){const e=t(pA,mA),n=e.domain;let r=10,i,a;function o(){return i=ooe(r),a=aoe(r),n()[0]<0?(i=gA(i),a=gA(a),t(noe,roe)):t(pA,mA),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const c=n();let l=c[0],u=c[c.length-1];const d=u<l;d&&([l,u]=[u,l]);let h=i(l),m=i(u),y,v;const b=s==null?10:+s;let w=[];if(!(r%1)&&m-h<b){if(h=Math.floor(h),m=Math.ceil(m),l>0){for(;h<=m;++h)for(y=1;y<r;++y)if(v=h<0?y/a(-h):y*a(h),!(v<l)){if(v>u)break;w.push(v)}}else for(;h<=m;++h)for(y=r-1;y>=1;--y)if(v=h>0?y/a(-h):y*a(h),!(v<l)){if(v>u)break;w.push(v)}w.length*2<b&&(w=Jy(l,u,b))}else w=Jy(h,m,Math.min(m-h,b)).map(a);return d?w.reverse():w},e.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Xl(c)).precision==null&&(c.trim=!0),c=Y0(c)),s===1/0)return c;const l=Math.max(1,r*s/e.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=l?c(u):""}},e.nice=()=>n(Y$(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function X$(){const t=X0(bp()).domain([1,10]);return t.copy=()=>zu(t,X$()).base(t.base()),br.apply(t,arguments),t}function yA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function vA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function J0(t){var e=1,n=t(yA(e),vA(e));return n.constant=function(r){return arguments.length?t(yA(e=+r),vA(e)):e},ba(n)}function J$(){var t=J0(bp());return t.copy=function(){return zu(t,J$()).constant(t.constant())},br.apply(t,arguments)}function bA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function soe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function coe(t){return t<0?-t*t:t*t}function Z0(t){var e=t(In,In),n=1;function r(){return n===1?t(In,In):n===.5?t(soe,coe):t(bA(n),bA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ba(e)}function Q0(){var t=Z0(bp());return t.copy=function(){return zu(t,Q0()).exponent(t.exponent())},br.apply(t,arguments),t}function loe(){return Q0.apply(null,arguments).exponent(.5)}function xA(t){return Math.sign(t)*t*t}function uoe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Z$(){var t=G0(),e=[0,1],n=!1,r;function i(a){var o=uoe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(xA(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Ff)).map(xA)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Z$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},br.apply(i,arguments),ba(i)}function Q$(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=mae(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[qu(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(ca),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Q$().domain(t).range(e).unknown(r)},br.apply(a,arguments)}function eI(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[qu(r,c,0,n)]:a}function s(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,s()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,s()):i.slice()},o.invertExtent=function(c){var l=i.indexOf(c);return l<0?[NaN,NaN]:l<1?[t,r[0]]:l>=n?[r[n-1],e]:[r[l-1],r[l]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return eI().domain([t,e]).range(i).unknown(a)},br.apply(ba(o),arguments)}function tI(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[qu(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return tI().domain(t).range(e).unknown(n)},br.apply(i,arguments)}const lg=new Date,ug=new Date;function an(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const c=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return c;let l;do c.push(l=new Date(+a)),e(a,s),t(a);while(l<a&&a<o);return c},i.filter=a=>an(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(lg.setTime(+a),ug.setTime(+o),t(lg),t(ug),Math.floor(n(lg,ug))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const qf=an(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);qf.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?an(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):qf);qf.range;const yi=1e3,pr=yi*60,vi=pr*60,Oi=vi*24,ex=Oi*7,wA=Oi*30,dg=Oi*365,eo=an(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getUTCSeconds());eo.range;const tx=an(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yi)},(t,e)=>{t.setTime(+t+e*pr)},(t,e)=>(e-t)/pr,t=>t.getMinutes());tx.range;const nx=an(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*pr)},(t,e)=>(e-t)/pr,t=>t.getUTCMinutes());nx.range;const rx=an(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yi-t.getMinutes()*pr)},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getHours());rx.range;const ix=an(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getUTCHours());ix.range;const Wu=an(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*pr)/Oi,t=>t.getDate()-1);Wu.range;const xp=an(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oi,t=>t.getUTCDate()-1);xp.range;const nI=an(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oi,t=>Math.floor(t/Oi));nI.range;function To(t){return an(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*pr)/ex)}const wp=To(0),Kf=To(1),doe=To(2),foe=To(3),Bs=To(4),hoe=To(5),poe=To(6);wp.range;Kf.range;doe.range;foe.range;Bs.range;hoe.range;poe.range;function Oo(t){return an(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/ex)}const Sp=Oo(0),zf=Oo(1),moe=Oo(2),goe=Oo(3),Fs=Oo(4),yoe=Oo(5),voe=Oo(6);Sp.range;zf.range;moe.range;goe.range;Fs.range;yoe.range;voe.range;const ax=an(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ax.range;const ox=an(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ox.range;const ji=an(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ji.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:an(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ji.range;const ki=an(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ki.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:an(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ki.range;function rI(t,e,n,r,i,a){const o=[[eo,1,yi],[eo,5,5*yi],[eo,15,15*yi],[eo,30,30*yi],[a,1,pr],[a,5,5*pr],[a,15,15*pr],[a,30,30*pr],[i,1,vi],[i,3,3*vi],[i,6,6*vi],[i,12,12*vi],[r,1,Oi],[r,2,2*Oi],[n,1,ex],[e,1,wA],[e,3,3*wA],[t,1,dg]];function s(l,u,d){const h=u<l;h&&([l,u]=[u,l]);const m=d&&typeof d.range=="function"?d:c(l,u,d),y=m?m.range(l,+u+1):[];return h?y.reverse():y}function c(l,u,d){const h=Math.abs(u-l)/d,m=V0(([,,b])=>b).right(o,h);if(m===o.length)return t.every(Qy(l/dg,u/dg,d));if(m===0)return qf.every(Math.max(Qy(l,u,d),1));const[y,v]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return y.every(v)}return[s,c]}const[boe,xoe]=rI(ki,ox,Sp,nI,ix,nx),[woe,Soe]=rI(ji,ax,wp,Wu,rx,tx);function fg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function hg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Hc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function _oe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,c=t.shortMonths,l=Yc(i),u=Xc(i),d=Yc(a),h=Xc(a),m=Yc(o),y=Xc(o),v=Yc(s),b=Xc(s),w=Yc(c),_=Xc(c),S={a:te,A:ae,b:re,B:de,c:null,d:jA,e:jA,f:Woe,g:nse,G:ise,H:qoe,I:Koe,j:zoe,L:iI,m:Goe,M:Hoe,p:_e,q:ue,Q:EA,s:CA,S:Yoe,u:Xoe,U:Joe,V:Zoe,w:Qoe,W:ese,x:null,X:null,y:tse,Y:rse,Z:ase,"%":PA},k={a:pe,A:Ce,b:Ee,B:Qe,c:null,d:kA,e:kA,f:lse,g:bse,G:wse,H:ose,I:sse,j:cse,L:oI,m:use,M:dse,p:be,q:Ve,Q:EA,s:CA,S:fse,u:hse,U:pse,V:mse,w:gse,W:yse,x:null,X:null,y:vse,Y:xse,Z:Sse,"%":PA},A={a:q,A:L,b:D,B:X,c:ee,d:TA,e:TA,f:Boe,g:AA,G:_A,H:OA,I:OA,j:Roe,L:Loe,m:Ioe,M:Doe,p:R,q:$oe,Q:Uoe,s:Voe,S:Moe,u:koe,U:Poe,V:Eoe,w:joe,W:Coe,x:W,X:Q,y:AA,Y:_A,Z:Noe,"%":Foe};S.x=j(n,S),S.X=j(r,S),S.c=j(e,S),k.x=j(n,k),k.X=j(r,k),k.c=j(e,k);function j(ie,Te){return function(Ae){var Z=[],et=-1,qe=0,ot=ie.length,vt,Bt,Rn;for(Ae instanceof Date||(Ae=new Date(+Ae));++et<ot;)ie.charCodeAt(et)===37&&(Z.push(ie.slice(qe,et)),(Bt=SA[vt=ie.charAt(++et)])!=null?vt=ie.charAt(++et):Bt=vt==="e"?" ":"0",(Rn=Te[vt])&&(vt=Rn(Ae,Bt)),Z.push(vt),qe=et+1);return Z.push(ie.slice(qe,et)),Z.join("")}}function E(ie,Te){return function(Ae){var Z=Hc(1900,void 0,1),et=N(Z,ie,Ae+="",0),qe,ot;if(et!=Ae.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(Te&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(qe=hg(Hc(Z.y,0,1)),ot=qe.getUTCDay(),qe=ot>4||ot===0?zf.ceil(qe):zf(qe),qe=xp.offset(qe,(Z.V-1)*7),Z.y=qe.getUTCFullYear(),Z.m=qe.getUTCMonth(),Z.d=qe.getUTCDate()+(Z.w+6)%7):(qe=fg(Hc(Z.y,0,1)),ot=qe.getDay(),qe=ot>4||ot===0?Kf.ceil(qe):Kf(qe),qe=Wu.offset(qe,(Z.V-1)*7),Z.y=qe.getFullYear(),Z.m=qe.getMonth(),Z.d=qe.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),ot="Z"in Z?hg(Hc(Z.y,0,1)).getUTCDay():fg(Hc(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(ot+5)%7:Z.w+Z.U*7-(ot+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,hg(Z)):fg(Z)}}function N(ie,Te,Ae,Z){for(var et=0,qe=Te.length,ot=Ae.length,vt,Bt;et<qe;){if(Z>=ot)return-1;if(vt=Te.charCodeAt(et++),vt===37){if(vt=Te.charAt(et++),Bt=A[vt in SA?Te.charAt(et++):vt],!Bt||(Z=Bt(ie,Ae,Z))<0)return-1}else if(vt!=Ae.charCodeAt(Z++))return-1}return Z}function R(ie,Te,Ae){var Z=l.exec(Te.slice(Ae));return Z?(ie.p=u.get(Z[0].toLowerCase()),Ae+Z[0].length):-1}function q(ie,Te,Ae){var Z=m.exec(Te.slice(Ae));return Z?(ie.w=y.get(Z[0].toLowerCase()),Ae+Z[0].length):-1}function L(ie,Te,Ae){var Z=d.exec(Te.slice(Ae));return Z?(ie.w=h.get(Z[0].toLowerCase()),Ae+Z[0].length):-1}function D(ie,Te,Ae){var Z=w.exec(Te.slice(Ae));return Z?(ie.m=_.get(Z[0].toLowerCase()),Ae+Z[0].length):-1}function X(ie,Te,Ae){var Z=v.exec(Te.slice(Ae));return Z?(ie.m=b.get(Z[0].toLowerCase()),Ae+Z[0].length):-1}function ee(ie,Te,Ae){return N(ie,e,Te,Ae)}function W(ie,Te,Ae){return N(ie,n,Te,Ae)}function Q(ie,Te,Ae){return N(ie,r,Te,Ae)}function te(ie){return o[ie.getDay()]}function ae(ie){return a[ie.getDay()]}function re(ie){return c[ie.getMonth()]}function de(ie){return s[ie.getMonth()]}function _e(ie){return i[+(ie.getHours()>=12)]}function ue(ie){return 1+~~(ie.getMonth()/3)}function pe(ie){return o[ie.getUTCDay()]}function Ce(ie){return a[ie.getUTCDay()]}function Ee(ie){return c[ie.getUTCMonth()]}function Qe(ie){return s[ie.getUTCMonth()]}function be(ie){return i[+(ie.getUTCHours()>=12)]}function Ve(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Te=j(ie+="",S);return Te.toString=function(){return ie},Te},parse:function(ie){var Te=E(ie+="",!1);return Te.toString=function(){return ie},Te},utcFormat:function(ie){var Te=j(ie+="",k);return Te.toString=function(){return ie},Te},utcParse:function(ie){var Te=E(ie+="",!0);return Te.toString=function(){return ie},Te}}}var SA={"-":"",_:" ",0:"0"},fn=/^\s*\d+/,Aoe=/^%/,Toe=/[\\^$*+?|[\]().{}]/g;function dt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Ooe(t){return t.replace(Toe,"\\$&")}function Yc(t){return new RegExp("^(?:"+t.map(Ooe).join("|")+")","i")}function Xc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function joe(t,e,n){var r=fn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function koe(t,e,n){var r=fn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Poe(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Eoe(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Coe(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _A(t,e,n){var r=fn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function AA(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Noe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function $oe(t,e,n){var r=fn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Ioe(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function TA(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Roe(t,e,n){var r=fn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function OA(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Doe(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Moe(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Loe(t,e,n){var r=fn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Boe(t,e,n){var r=fn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Foe(t,e,n){var r=Aoe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Uoe(t,e,n){var r=fn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Voe(t,e,n){var r=fn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function jA(t,e){return dt(t.getDate(),e,2)}function qoe(t,e){return dt(t.getHours(),e,2)}function Koe(t,e){return dt(t.getHours()%12||12,e,2)}function zoe(t,e){return dt(1+Wu.count(ji(t),t),e,3)}function iI(t,e){return dt(t.getMilliseconds(),e,3)}function Woe(t,e){return iI(t,e)+"000"}function Goe(t,e){return dt(t.getMonth()+1,e,2)}function Hoe(t,e){return dt(t.getMinutes(),e,2)}function Yoe(t,e){return dt(t.getSeconds(),e,2)}function Xoe(t){var e=t.getDay();return e===0?7:e}function Joe(t,e){return dt(wp.count(ji(t)-1,t),e,2)}function aI(t){var e=t.getDay();return e>=4||e===0?Bs(t):Bs.ceil(t)}function Zoe(t,e){return t=aI(t),dt(Bs.count(ji(t),t)+(ji(t).getDay()===4),e,2)}function Qoe(t){return t.getDay()}function ese(t,e){return dt(Kf.count(ji(t)-1,t),e,2)}function tse(t,e){return dt(t.getFullYear()%100,e,2)}function nse(t,e){return t=aI(t),dt(t.getFullYear()%100,e,2)}function rse(t,e){return dt(t.getFullYear()%1e4,e,4)}function ise(t,e){var n=t.getDay();return t=n>=4||n===0?Bs(t):Bs.ceil(t),dt(t.getFullYear()%1e4,e,4)}function ase(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function kA(t,e){return dt(t.getUTCDate(),e,2)}function ose(t,e){return dt(t.getUTCHours(),e,2)}function sse(t,e){return dt(t.getUTCHours()%12||12,e,2)}function cse(t,e){return dt(1+xp.count(ki(t),t),e,3)}function oI(t,e){return dt(t.getUTCMilliseconds(),e,3)}function lse(t,e){return oI(t,e)+"000"}function use(t,e){return dt(t.getUTCMonth()+1,e,2)}function dse(t,e){return dt(t.getUTCMinutes(),e,2)}function fse(t,e){return dt(t.getUTCSeconds(),e,2)}function hse(t){var e=t.getUTCDay();return e===0?7:e}function pse(t,e){return dt(Sp.count(ki(t)-1,t),e,2)}function sI(t){var e=t.getUTCDay();return e>=4||e===0?Fs(t):Fs.ceil(t)}function mse(t,e){return t=sI(t),dt(Fs.count(ki(t),t)+(ki(t).getUTCDay()===4),e,2)}function gse(t){return t.getUTCDay()}function yse(t,e){return dt(zf.count(ki(t)-1,t),e,2)}function vse(t,e){return dt(t.getUTCFullYear()%100,e,2)}function bse(t,e){return t=sI(t),dt(t.getUTCFullYear()%100,e,2)}function xse(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function wse(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Fs(t):Fs.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function Sse(){return"+0000"}function PA(){return"%"}function EA(t){return+t}function CA(t){return Math.floor(+t/1e3)}var zo,cI,lI;_se({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _se(t){return zo=_oe(t),cI=zo.format,zo.parse,lI=zo.utcFormat,zo.utcParse,zo}function Ase(t){return new Date(t)}function Tse(t){return t instanceof Date?+t:+new Date(+t)}function sx(t,e,n,r,i,a,o,s,c,l){var u=G0(),d=u.invert,h=u.domain,m=l(".%L"),y=l(":%S"),v=l("%I:%M"),b=l("%I %p"),w=l("%a %d"),_=l("%b %d"),S=l("%B"),k=l("%Y");function A(j){return(c(j)<j?m:s(j)<j?y:o(j)<j?v:a(j)<j?b:r(j)<j?i(j)<j?w:_:n(j)<j?S:k)(j)}return u.invert=function(j){return new Date(d(j))},u.domain=function(j){return arguments.length?h(Array.from(j,Tse)):h().map(Ase)},u.ticks=function(j){var E=h();return t(E[0],E[E.length-1],j??10)},u.tickFormat=function(j,E){return E==null?A:l(E)},u.nice=function(j){var E=h();return(!j||typeof j.range!="function")&&(j=e(E[0],E[E.length-1],j??10)),j?h(Y$(E,j)):u},u.copy=function(){return zu(u,sx(t,e,n,r,i,a,o,s,c,l))},u}function Ose(){return br.apply(sx(woe,Soe,ji,ax,wp,Wu,rx,tx,eo,cI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jse(){return br.apply(sx(boe,xoe,ki,ox,Sp,xp,ix,nx,eo,lI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _p(){var t=0,e=1,n,r,i,a,o=In,s=!1,c;function l(d){return d==null||isNaN(d=+d)?c:o(i===0?.5:(d=(a(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),l):[t,e]},l.clamp=function(d){return arguments.length?(s=!!d,l):s},l.interpolator=function(d){return arguments.length?(o=d,l):o};function u(d){return function(h){var m,y;return arguments.length?([m,y]=h,o=d(m,y),l):[o(0),o(1)]}}return l.range=u(Ac),l.rangeRound=u(W0),l.unknown=function(d){return arguments.length?(c=d,l):c},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),l}}function xa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function uI(){var t=ba(_p()(In));return t.copy=function(){return xa(t,uI())},$i.apply(t,arguments)}function dI(){var t=X0(_p()).domain([1,10]);return t.copy=function(){return xa(t,dI()).base(t.base())},$i.apply(t,arguments)}function fI(){var t=J0(_p());return t.copy=function(){return xa(t,fI()).constant(t.constant())},$i.apply(t,arguments)}function cx(){var t=Z0(_p());return t.copy=function(){return xa(t,cx()).exponent(t.exponent())},$i.apply(t,arguments)}function kse(){return cx.apply(null,arguments).exponent(.5)}function hI(){var t=[],e=In;function n(r){if(r!=null&&!isNaN(r=+r))return e((qu(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ca),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>pae(t,a/r))},n.copy=function(){return hI(e).domain(t)},$i.apply(n,arguments)}function Ap(){var t=0,e=.5,n=1,r=1,i,a,o,s,c,l=In,u,d=!1,h;function m(v){return isNaN(v=+v)?h:(v=.5+((v=+u(v))-a)*(r*v<r*a?s:c),l(d?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([t,e,n]=v,i=u(t=+t),a=u(e=+e),o=u(n=+n),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(v){return arguments.length?(d=!!v,m):d},m.interpolator=function(v){return arguments.length?(l=v,m):l};function y(v){return function(b){var w,_,S;return arguments.length?([w,_,S]=b,l=Fae(v,[w,_,S]),m):[l(0),l(.5),l(1)]}}return m.range=y(Ac),m.rangeRound=y(W0),m.unknown=function(v){return arguments.length?(h=v,m):h},function(v){return u=v,i=v(t),a=v(e),o=v(n),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,m}}function pI(){var t=ba(Ap()(In));return t.copy=function(){return xa(t,pI())},$i.apply(t,arguments)}function mI(){var t=X0(Ap()).domain([.1,1,10]);return t.copy=function(){return xa(t,mI()).base(t.base())},$i.apply(t,arguments)}function gI(){var t=J0(Ap());return t.copy=function(){return xa(t,gI()).constant(t.constant())},$i.apply(t,arguments)}function lx(){var t=Z0(Ap());return t.copy=function(){return xa(t,lx()).exponent(t.exponent())},$i.apply(t,arguments)}function Pse(){return lx.apply(null,arguments).exponent(.5)}const NA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wl,scaleDiverging:pI,scaleDivergingLog:mI,scaleDivergingPow:lx,scaleDivergingSqrt:Pse,scaleDivergingSymlog:gI,scaleIdentity:H$,scaleImplicit:ev,scaleLinear:Vf,scaleLog:X$,scaleOrdinal:q0,scalePoint:yl,scalePow:Q0,scaleQuantile:Q$,scaleQuantize:eI,scaleRadial:Z$,scaleSequential:uI,scaleSequentialLog:dI,scaleSequentialPow:cx,scaleSequentialQuantile:hI,scaleSequentialSqrt:kse,scaleSequentialSymlog:fI,scaleSqrt:loe,scaleSymlog:J$,scaleThreshold:tI,scaleTime:Ose,scaleUtc:jse,tickFormat:G$},Symbol.toStringTag,{value:"Module"}));var Ese=mc;function Cse(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!Ese(o):n(o,s)))var s=o,c=a}return c}var Tp=Cse;function Nse(t,e){return t>e}var yI=Nse,$se=Tp,Ise=yI,Rse=_c;function Dse(t){return t&&t.length?$se(t,Rse,Ise):void 0}var Mse=Dse;const Op=gt(Mse);function Lse(t,e){return t<e}var vI=Lse,Bse=Tp,Fse=vI,Use=_c;function Vse(t){return t&&t.length?Bse(t,Use,Fse):void 0}var qse=Vse;const jp=gt(qse);var Kse=S0,zse=si,Wse=O$,Gse=Bn;function Hse(t,e){var n=Gse(t)?Kse:Wse;return n(t,zse(e))}var Yse=Hse,Xse=A$,Jse=Yse;function Zse(t,e){return Xse(Jse(t,e),1)}var Qse=Zse;const ece=gt(Qse);var tce=M0;function nce(t,e){return tce(t,e)}var rce=nce;const Gu=gt(rce);var Tc=1e9,ice={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dx,Rt=!0,gr="[DecimalError] ",fo=gr+"Invalid argument: ",ux=gr+"Exponent out of range: ",Oc=Math.floor,Ka=Math.pow,ace=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jn,ln=1e7,Et=7,bI=9007199254740991,Wf=Oc(bI/Et),ke={};ke.absoluteValue=ke.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ke.comparedTo=ke.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Et;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ke.dividedBy=ke.div=function(t){return _i(this,new this.constructor(t))};ke.dividedToIntegerBy=ke.idiv=function(t){var e=this,n=e.constructor;return wt(_i(e,new n(t),0,1),n.precision)};ke.equals=ke.eq=function(t){return!this.cmp(t)};ke.exponent=function(){return Xt(this)};ke.greaterThan=ke.gt=function(t){return this.cmp(t)>0};ke.greaterThanOrEqualTo=ke.gte=function(t){return this.cmp(t)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(t){return this.cmp(t)<0};ke.lessThanOrEqualTo=ke.lte=function(t){return this.cmp(t)<1};ke.logarithm=ke.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Jn))throw Error(gr+"NaN");if(n.s<1)throw Error(gr+(n.s?"NaN":"-Infinity"));return n.eq(Jn)?new r(0):(Rt=!1,e=_i(Jl(n,a),Jl(t,a),a),Rt=!0,wt(e,i))};ke.minus=ke.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?SI(e,t):xI(e,(t.s=-t.s,t))};ke.modulo=ke.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(gr+"NaN");return n.s?(Rt=!1,e=_i(n,t,0,1).times(t),Rt=!0,n.minus(e)):wt(new r(n),i)};ke.naturalExponential=ke.exp=function(){return wI(this)};ke.naturalLogarithm=ke.ln=function(){return Jl(this)};ke.negated=ke.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ke.plus=ke.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?xI(e,t):SI(e,(t.s=-t.s,t))};ke.precision=ke.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(fo+t);if(e=Xt(i)+1,r=i.d.length-1,n=r*Et+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ke.squareRoot=ke.sqrt=function(){var t,e,n,r,i,a,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(gr+"NaN")}for(t=Xt(s),Rt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Xr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Oc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(_i(s,a,o+2)).times(.5),Xr(a.d).slice(0,o)===(e=Xr(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(wt(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return Rt=!0,wt(r,n)};ke.times=ke.mul=function(t){var e,n,r,i,a,o,s,c,l,u=this,d=u.constructor,h=u.d,m=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,c=h.length,l=m.length,c<l&&(a=h,h=m,m=a,o=c,c=l,l=o),a=[],o=c+l,r=o;r--;)a.push(0);for(r=l;--r>=0;){for(e=0,i=c+r;i>r;)s=a[i]+m[r]*h[i-r-1]+e,a[i--]=s%ln|0,e=s/ln|0;a[i]=(a[i]+e)%ln|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Rt?wt(t,d.precision):t};ke.toDecimalPlaces=ke.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ri(t,0,Tc),e===void 0?e=r.rounding:ri(e,0,8),wt(n,t+Xt(n)+1,e))};ke.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=bo(r,!0):(ri(t,0,Tc),e===void 0?e=i.rounding:ri(e,0,8),r=wt(new i(r),t+1,e),n=bo(r,!0,t+1)),n};ke.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?bo(i):(ri(t,0,Tc),e===void 0?e=a.rounding:ri(e,0,8),r=wt(new a(i),t+Xt(i)+1,e),n=bo(r.abs(),!1,t+Xt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ke.toInteger=ke.toint=function(){var t=this,e=t.constructor;return wt(new e(t),Xt(t)+1,e.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(t){var e,n,r,i,a,o,s=this,c=s.constructor,l=12,u=+(t=new c(t));if(!t.s)return new c(Jn);if(s=new c(s),!s.s){if(t.s<1)throw Error(gr+"Infinity");return s}if(s.eq(Jn))return s;if(r=c.precision,t.eq(Jn))return wt(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=u<0?-u:u)<=bI){for(i=new c(Jn),e=Math.ceil(r/Et+4),Rt=!1;n%2&&(i=i.times(s),IA(i.d,e)),n=Oc(n/2),n!==0;)s=s.times(s),IA(s.d,e);return Rt=!0,t.s<0?new c(Jn).div(i):wt(i,r)}}else if(a<0)throw Error(gr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Rt=!1,i=t.times(Jl(s,r+l)),Rt=!0,i=wI(i),i.s=a,i};ke.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Xt(i),r=bo(i,n<=a.toExpNeg||n>=a.toExpPos)):(ri(t,1,Tc),e===void 0?e=a.rounding:ri(e,0,8),i=wt(new a(i),t,e),n=Xt(i),r=bo(i,t<=n||n<=a.toExpNeg,t)),r};ke.toSignificantDigits=ke.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ri(t,1,Tc),e===void 0?e=r.rounding:ri(e,0,8)),wt(new r(n),t,e)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Xt(t),n=t.constructor;return bo(t,e<=n.toExpNeg||e>=n.toExpPos)};function xI(t,e){var n,r,i,a,o,s,c,l,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Rt?wt(e,d):e;if(c=t.d,l=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,s=l.length):(r=l,i=o,s=c.length),o=Math.ceil(d/Et),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=c.length,a=l.length,s-a<0&&(a=s,r=l,l=c,c=r),n=0;a;)n=(c[--a]=c[a]+l[a]+n)/ln|0,c[a]%=ln;for(n&&(c.unshift(n),++i),s=c.length;c[--s]==0;)c.pop();return e.d=c,e.e=i,Rt?wt(e,d):e}function ri(t,e,n){if(t!==~~t||t<e||t>n)throw Error(fo+t)}function Xr(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Et-r.length,n&&(a+=Xi(n)),a+=r;o=t[e],r=o+"",n=Et-r.length,n&&(a+=Xi(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var _i=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%ln|0,o=a/ln|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,c;if(a!=o)c=a>o?1:-1;else for(s=c=0;s<a;s++)if(r[s]!=i[s]){c=r[s]>i[s]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*ln+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,c,l,u,d,h,m,y,v,b,w,_,S,k,A,j,E,N,R=r.constructor,q=r.s==i.s?1:-1,L=r.d,D=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(gr+"Division by zero");for(c=r.e-i.e,E=D.length,A=L.length,m=new R(q),y=m.d=[],l=0;D[l]==(L[l]||0);)++l;if(D[l]>(L[l]||0)&&--c,a==null?_=a=R.precision:o?_=a+(Xt(r)-Xt(i))+1:_=a,_<0)return new R(0);if(_=_/Et+2|0,l=0,E==1)for(u=0,D=D[0],_++;(l<A||u)&&_--;l++)S=u*ln+(L[l]||0),y[l]=S/D|0,u=S%D|0;else{for(u=ln/(D[0]+1)|0,u>1&&(D=t(D,u),L=t(L,u),E=D.length,A=L.length),k=E,v=L.slice(0,E),b=v.length;b<E;)v[b++]=0;N=D.slice(),N.unshift(0),j=D[0],D[1]>=ln/2&&++j;do u=0,s=e(D,v,E,b),s<0?(w=v[0],E!=b&&(w=w*ln+(v[1]||0)),u=w/j|0,u>1?(u>=ln&&(u=ln-1),d=t(D,u),h=d.length,b=v.length,s=e(d,v,h,b),s==1&&(u--,n(d,E<h?N:D,h))):(u==0&&(s=u=1),d=D.slice()),h=d.length,h<b&&d.unshift(0),n(v,d,b),s==-1&&(b=v.length,s=e(D,v,E,b),s<1&&(u++,n(v,E<b?N:D,b))),b=v.length):s===0&&(u++,v=[0]),y[l++]=u,s&&v[0]?v[b++]=L[k]||0:(v=[L[k]],b=1);while((k++<A||v[0]!==void 0)&&_--)}return y[0]||y.shift(),m.e=c,wt(m,o?a+Xt(m)+1:a)}}();function wI(t,e){var n,r,i,a,o,s,c=0,l=0,u=t.constructor,d=u.precision;if(Xt(t)>16)throw Error(ux+Xt(t));if(!t.s)return new u(Jn);for(e==null?(Rt=!1,s=d):s=e,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),l+=5;for(r=Math.log(Ka(2,l))/Math.LN10*2+5|0,s+=r,n=i=a=new u(Jn),u.precision=s;;){if(i=wt(i.times(t),s),n=n.times(++c),o=a.plus(_i(i,n,s)),Xr(o.d).slice(0,s)===Xr(a.d).slice(0,s)){for(;l--;)a=wt(a.times(a),s);return u.precision=d,e==null?(Rt=!0,wt(a,d)):a}a=o}}function Xt(t){for(var e=t.e*Et,n=t.d[0];n>=10;n/=10)e++;return e}function pg(t,e,n){if(e>t.LN10.sd())throw Rt=!0,n&&(t.precision=n),Error(gr+"LN10 precision limit exceeded");return wt(new t(t.LN10),e)}function Xi(t){for(var e="";t--;)e+="0";return e}function Jl(t,e){var n,r,i,a,o,s,c,l,u,d=1,h=10,m=t,y=m.d,v=m.constructor,b=v.precision;if(m.s<1)throw Error(gr+(m.s?"NaN":"-Infinity"));if(m.eq(Jn))return new v(0);if(e==null?(Rt=!1,l=b):l=e,m.eq(10))return e==null&&(Rt=!0),pg(v,l);if(l+=h,v.precision=l,n=Xr(y),r=n.charAt(0),a=Xt(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Xr(m.d),r=n.charAt(0),d++;a=Xt(m),r>1?(m=new v("0."+n),a++):m=new v(r+"."+n.slice(1))}else return c=pg(v,l+2,b).times(a+""),m=Jl(new v(r+"."+n.slice(1)),l-h).plus(c),v.precision=b,e==null?(Rt=!0,wt(m,b)):m;for(s=o=m=_i(m.minus(Jn),m.plus(Jn),l),u=wt(m.times(m),l),i=3;;){if(o=wt(o.times(u),l),c=s.plus(_i(o,new v(i),l)),Xr(c.d).slice(0,l)===Xr(s.d).slice(0,l))return s=s.times(2),a!==0&&(s=s.plus(pg(v,l+2,b).times(a+""))),s=_i(s,new v(d),l),v.precision=b,e==null?(Rt=!0,wt(s,b)):s;s=c,i+=2}}function $A(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Oc(n/Et),t.d=[],r=(n+1)%Et,n<0&&(r+=Et),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Et;r<i;)t.d.push(+e.slice(r,r+=Et));e=e.slice(r),r=Et-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Rt&&(t.e>Wf||t.e<-Wf))throw Error(ux+n)}else t.s=0,t.e=0,t.d=[0];return t}function wt(t,e,n){var r,i,a,o,s,c,l,u,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Et,i=e,l=d[u=0];else{if(u=Math.ceil((r+1)/Et),a=d.length,u>=a)return t;for(l=a=d[u],o=1;a>=10;a/=10)o++;r%=Et,i=r-Et+o}if(n!==void 0&&(a=Ka(10,o-i-1),s=l/a%10|0,c=e<0||d[u+1]!==void 0||l%a,c=n<4?(s||c)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||c||n==6&&(r>0?i>0?l/Ka(10,o-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return c?(a=Xt(t),d.length=1,e=e-a-1,d[0]=Ka(10,(Et-e%Et)%Et),t.e=Oc(-e/Et)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,a=1,u--):(d.length=u+1,a=Ka(10,Et-r),d[u]=i>0?(l/Ka(10,o-i)%Ka(10,i)|0)*a:0),c)for(;;)if(u==0){(d[0]+=a)==ln&&(d[0]=1,++t.e);break}else{if(d[u]+=a,d[u]!=ln)break;d[u--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(Rt&&(t.e>Wf||t.e<-Wf))throw Error(ux+Xt(t));return t}function SI(t,e){var n,r,i,a,o,s,c,l,u,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Rt?wt(e,m):e;if(c=t.d,d=e.d,r=e.e,l=t.e,c=c.slice(),o=l-r,o){for(u=o<0,u?(n=c,o=-o,s=d.length):(n=d,r=l,s=c.length),i=Math.max(Math.ceil(m/Et),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(c[i]!=d[i]){u=c[i]<d[i];break}o=0}for(u&&(n=c,c=d,d=n,e.s=-e.s),s=c.length,i=d.length-s;i>0;--i)c[s++]=0;for(i=d.length;i>o;){if(c[--i]<d[i]){for(a=i;a&&c[--a]===0;)c[a]=ln-1;--c[a],c[i]+=ln}c[i]-=d[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Rt?wt(e,m):e):new h(0)}function bo(t,e,n){var r,i=Xt(t),a=Xr(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Xi(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Xi(-i-1)+a,n&&(r=n-o)>0&&(a+=Xi(r))):i>=o?(a+=Xi(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Xi(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Xi(r))),t.s<0?"-"+a:a}function IA(t,e){if(t.length>e)return t.length=e,!0}function _I(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(fo+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return $A(o,a.toString())}else if(typeof a!="string")throw Error(fo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,ace.test(a))$A(o,a);else throw Error(fo+a)}if(i.prototype=ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_I,i.config=i.set=oce,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function oce(t){if(!t||typeof t!="object")throw Error(gr+"Object expected");var e,n,r,i=["precision",1,Tc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Oc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(fo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(fo+n+": "+r);return this}var dx=_I(ice);Jn=new dx(1);const bt=dx;function sce(t){return dce(t)||uce(t)||lce(t)||cce()}function cce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lce(t,e){if(t){if(typeof t=="string")return iv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iv(t,e)}}function uce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function dce(t){if(Array.isArray(t))return iv(t)}function iv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fce=function(e){return e},AI={"@@functional/placeholder":!0},TI=function(e){return e===AI},RA=function(e){return function n(){return arguments.length===0||arguments.length===1&&TI(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},hce=function t(e,n){return e===1?n:RA(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==AI}).length;return o>=e?n.apply(void 0,i):t(e-o,RA(function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];var u=i.map(function(d){return TI(d)?c.shift():d});return n.apply(void 0,sce(u).concat(c))}))})},kp=function(e){return hce(e.length,e)},av=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},pce=kp(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),mce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return fce;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,c){return c(s)},a.apply(void 0,arguments))}},ov=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},OI=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,c){return s===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function gce(t){var e;return t===0?e=1:e=Math.floor(new bt(t).abs().log(10).toNumber())+1,e}function yce(t,e,n){for(var r=new bt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var vce=kp(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),bce=kp(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),xce=kp(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Pp={rangeStep:yce,getDigitCount:gce,interpolateNumber:vce,uninterpolateNumber:bce,uninterpolateTruncation:xce};function sv(t){return _ce(t)||Sce(t)||jI(t)||wce()}function wce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _ce(t){if(Array.isArray(t))return cv(t)}function Zl(t,e){return Oce(t)||Tce(t,e)||jI(t,e)||Ace()}function Ace(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jI(t,e){if(t){if(typeof t=="string")return cv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cv(t,e)}}function cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tce(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Oce(t){if(Array.isArray(t))return t}function kI(t){var e=Zl(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function PI(t,e,n){if(t.lte(0))return new bt(0);var r=Pp.getDigitCount(t.toNumber()),i=new bt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new bt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=s.mul(i);return e?c:new bt(Math.ceil(c))}function jce(t,e,n){var r=1,i=new bt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new bt(10).pow(Pp.getDigitCount(t)-1),i=new bt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new bt(Math.floor(t)))}else t===0?i=new bt(Math.floor((e-1)/2)):n||(i=new bt(Math.floor(t)));var o=Math.floor((e-1)/2),s=mce(pce(function(c){return i.add(new bt(c-o).mul(r)).toNumber()}),av);return s(0,e)}function EI(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new bt(0),tickMin:new bt(0),tickMax:new bt(0)};var a=PI(new bt(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new bt(0):(o=new bt(t).add(e).div(2),o=o.sub(new bt(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new bt(e).sub(o).div(a).toNumber()),l=s+c+1;return l>n?EI(t,e,n,r,i+1):(l<n&&(c=e>0?c+(n-l):c,s=e>0?s:s+(n-l)),{step:a,tickMin:o.sub(new bt(s).mul(a)),tickMax:o.add(new bt(c).mul(a))})}function kce(t){var e=Zl(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=kI([n,r]),c=Zl(s,2),l=c[0],u=c[1];if(l===-1/0||u===1/0){var d=u===1/0?[l].concat(sv(av(0,i-1).map(function(){return 1/0}))):[].concat(sv(av(0,i-1).map(function(){return-1/0})),[u]);return n>r?ov(d):d}if(l===u)return jce(l,i,a);var h=EI(l,u,o,a),m=h.step,y=h.tickMin,v=h.tickMax,b=Pp.rangeStep(y,v.add(new bt(.1).mul(m)),m);return n>r?ov(b):b}function Pce(t,e){var n=Zl(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=kI([r,i]),s=Zl(o,2),c=s[0],l=s[1];if(c===-1/0||l===1/0)return[r,i];if(c===l)return[c];var u=Math.max(e,2),d=PI(new bt(l).sub(c).div(u-1),a,0),h=[].concat(sv(Pp.rangeStep(new bt(c),new bt(l).sub(new bt(.99).mul(d)),d)),[l]);return r>i?ov(h):h}var Ece=OI(kce),Cce=OI(Pce),Nce="Invariant failed";function xo(t,e){throw new Error(Nce)}var $ce=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gf.apply(this,arguments)}function Ice(t,e){return Lce(t)||Mce(t,e)||Dce(t,e)||Rce()}function Rce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dce(t,e){if(t){if(typeof t=="string")return DA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DA(t,e)}}function DA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function Lce(t){if(Array.isArray(t))return t}function Bce(t,e){if(t==null)return{};var n=Fce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Uce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$I(r.key),r)}}function qce(t,e,n){return e&&Vce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kce(t,e,n){return e=Hf(e),zce(t,CI()?Reflect.construct(e,n||[],Hf(t).constructor):e.apply(t,n))}function zce(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wce(t)}function Wce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CI=function(){return!!t})()}function Hf(t){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hf(t)}function Gce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lv(t,e)}function lv(t,e){return lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lv(t,e)}function NI(t,e,n){return e=$I(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $I(t){var e=Hce(t,"string");return Us(e)=="symbol"?e:e+""}function Hce(t,e){if(Us(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hu=function(t){function e(){return Uce(this,e),Kce(this,e,arguments)}return Gce(e,t),qce(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,c=r.data,l=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,h=Bce(r,$ce),m=Ie(h,!1);this.props.direction==="x"&&u.type!=="number"&&xo();var y=c.map(function(v){var b=l(v,s),w=b.x,_=b.y,S=b.value,k=b.errorVal;if(!k)return null;var A=[],j,E;if(Array.isArray(k)){var N=Ice(k,2);j=N[0],E=N[1]}else j=E=k;if(a==="vertical"){var R=u.scale,q=_+i,L=q+o,D=q-o,X=R(S-j),ee=R(S+E);A.push({x1:ee,y1:L,x2:ee,y2:D}),A.push({x1:X,y1:q,x2:ee,y2:q}),A.push({x1:X,y1:L,x2:X,y2:D})}else if(a==="horizontal"){var W=d.scale,Q=w+i,te=Q-o,ae=Q+o,re=W(S-j),de=W(S+E);A.push({x1:te,y1:de,x2:ae,y2:de}),A.push({x1:Q,y1:re,x2:Q,y2:de}),A.push({x1:te,y1:re,x2:ae,y2:re})}return $.createElement(ut,Gf({className:"recharts-errorBar",key:"bar-".concat(A.map(function(_e){return"".concat(_e.x1,"-").concat(_e.x2,"-").concat(_e.y1,"-").concat(_e.y2)}))},m),A.map(function(_e){return $.createElement("line",Gf({},_e,{key:"line-".concat(_e.x1,"-").concat(_e.x2,"-").concat(_e.y1,"-").concat(_e.y2)}))}))});return $.createElement(ut,{className:"recharts-errorBars"},y)}}])}($.Component);NI(Hu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});NI(Hu,"displayName","ErrorBar");function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function MA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MA(Object(n),!0).forEach(function(r){Yce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yce(t,e,n){return e=Xce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xce(t){var e=Jce(t,"string");return Ql(e)=="symbol"?e:e+""}function Jce(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var II=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Gn(n,sa);if(!o)return null;var s=sa.defaultProps,c=s!==void 0?Ra(Ra({},s),o.props):{},l;return o.props&&o.props.payload?l=o.props&&o.props.payload:a==="children"?l=(r||[]).reduce(function(u,d){var h=d.item,m=d.props,y=m.sectors||m.data||[];return u.concat(y.map(function(v){return{type:o.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):l=(r||[]).map(function(u){var d=u.item,h=d.type.defaultProps,m=h!==void 0?Ra(Ra({},h),d.props):{},y=m.dataKey,v=m.name,b=m.legendType,w=m.hide;return{inactive:w,dataKey:y,type:c.iconType||b||"square",color:fx(d),value:v||y,payload:m}}),Ra(Ra(Ra({},c),sa.getWithHeight(o,i)),{},{payload:l,item:o})};function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function LA(t){return tle(t)||ele(t)||Qce(t)||Zce()}function Zce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qce(t,e){if(t){if(typeof t=="string")return uv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uv(t,e)}}function ele(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tle(t){if(Array.isArray(t))return uv(t)}function uv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(n),!0).forEach(function(r){vs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vs(t,e,n){return e=nle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nle(t){var e=rle(t,"string");return eu(e)=="symbol"?e:e+""}function rle(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tn(t,e,n){return Ke(t)||Ke(e)?n:nn(e)?er(t,e,n):Ue(e)?e(t):n}function vl(t,e,n,r){var i=ece(t,function(s){return tn(s,e)});if(n==="number"){var a=i.filter(function(s){return ge(s)||parseFloat(s)});return a.length?[jp(a),Op(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!Ke(s)}):i;return o.map(function(s){return nn(s)||s instanceof Date?s:""})}var ile=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,l=0;l<s;l++){var u=l>0?i[l-1].coordinate:i[s-1].coordinate,d=i[l].coordinate,h=l>=s-1?i[0].coordinate:i[l+1].coordinate,m=void 0;if(Nn(d-u)!==Nn(h-d)){var y=[];if(Nn(h-d)===Nn(c[1]-c[0])){m=h;var v=d+c[1]-c[0];y[0]=Math.min(v,(v+u)/2),y[1]=Math.max(v,(v+u)/2)}else{m=u;var b=h+c[1]-c[0];y[0]=Math.min(d,(b+d)/2),y[1]=Math.max(d,(b+d)/2)}var w=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>w[0]&&e<=w[1]||e>=y[0]&&e<=y[1]){o=i[l].index;break}}else{var _=Math.min(u,h),S=Math.max(u,h);if(e>(_+d)/2&&e<=(S+d)/2){o=i[l].index;break}}}else for(var k=0;k<s;k++)if(k===0&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<s-1&&e>(r[k].coordinate+r[k-1].coordinate)/2&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k===s-1&&e>(r[k].coordinate+r[k-1].coordinate)/2){o=r[k].index;break}return o},fx=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Vt(Vt({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:s;break;default:c=s;break}return c},ale=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),c=0,l=s.length;c<l;c++)for(var u=a[s[c]].stackGroups,d=Object.keys(u),h=0,m=d.length;h<m;h++){var y=u[d[h]],v=y.items,b=y.cateAxisId,w=v.filter(function(E){return Si(E.type).indexOf("Bar")>=0});if(w&&w.length){var _=w[0].type.defaultProps,S=_!==void 0?Vt(Vt({},_),w[0].props):w[0].props,k=S.barSize,A=S[b];o[A]||(o[A]=[]);var j=Ke(k)?n:k;o[A].push({item:w[0],stackList:w.slice(1),barSize:Ke(j)?void 0:$n(j,r,0)})}}return o},ole=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,c=o.length;if(c<1)return null;var l=$n(n,i,0,!0),u,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=i/c,y=o.reduce(function(k,A){return k+A.barSize||0},0);y+=(c-1)*l,y>=i&&(y-=(c-1)*l,l=0),y>=i&&m>0&&(h=!0,m*=.9,y=c*m);var v=(i-y)/2>>0,b={offset:v-l,size:0};u=o.reduce(function(k,A){var j={item:A.item,position:{offset:b.offset+b.size+l,size:h?m:A.barSize}},E=[].concat(LA(k),[j]);return b=E[E.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(N){E.push({item:N,position:b})}),E},d)}else{var w=$n(r,i,0,!0);i-2*w-(c-1)*l<=0&&(l=0);var _=(i-2*w-(c-1)*l)/c;_>1&&(_>>=0);var S=s===+s?Math.min(_,s):_;u=o.reduce(function(k,A,j){var E=[].concat(LA(k),[{item:A.item,position:{offset:w+(_+l)*j+(_-S)/2,size:S}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(N){E.push({item:N,position:E[E.length-1].position})}),E},d)}return u},sle=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,c=o-(s.left||0)-(s.right||0),l=II({children:a,legendWidth:c});if(l){var u=i||{},d=u.width,h=u.height,m=l.align,y=l.verticalAlign,v=l.layout;if((v==="vertical"||v==="horizontal"&&y==="middle")&&m!=="center"&&ge(e[m]))return Vt(Vt({},e),{},vs({},m,e[m]+(d||0)));if((v==="horizontal"||v==="vertical"&&m==="center")&&y!=="middle"&&ge(e[y]))return Vt(Vt({},e),{},vs({},y,e[y]+(h||0)))}return e},cle=function(e,n,r){return Ke(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},RI=function(e,n,r,i,a){var o=n.props.children,s=tr(o,Hu).filter(function(l){return cle(i,a,l.props.direction)});if(s&&s.length){var c=s.map(function(l){return l.props.dataKey});return e.reduce(function(l,u){var d=tn(u,r);if(Ke(d))return l;var h=Array.isArray(d)?[jp(d),Op(d)]:[d,d],m=c.reduce(function(y,v){var b=tn(u,v,0),w=h[0]-Math.abs(Array.isArray(b)?b[0]:b),_=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(w,y[0]),Math.max(_,y[1])]},[1/0,-1/0]);return[Math.min(m[0],l[0]),Math.max(m[1],l[1])]},[1/0,-1/0])}return null},lle=function(e,n,r,i,a){var o=n.map(function(s){return RI(e,s,r,a,i)}).filter(function(s){return!Ke(s)});return o&&o.length?o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]):null},DI=function(e,n,r,i,a){var o=n.map(function(c){var l=c.props.dataKey;return r==="number"&&l&&RI(e,c,l,i)||vl(e,l,r,a)});if(r==="number")return o.reduce(function(c,l){return[Math.min(c[0],l[0]),Math.max(c[1],l[1])]},[1/0,-1/0]);var s={};return o.reduce(function(c,l){for(var u=0,d=l.length;u<d;u++)s[l[u]]||(s[l[u]]=!0,c.push(l[u]));return c},[])},MI=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},LI=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,o,s=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate});return a||s.push(n),o||s.push(r),s},bi=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,l=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(l=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Nn(s[0]-s[1])*2*l:l,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+l,value:d,offset:l}});return u.filter(function(d){return!Fu(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+l,value:d,index:h,offset:l}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+l,value:d,offset:l}}):i.domain().map(function(d,h){return{coordinate:i(d)+l,value:a?a[d]:d,index:h,offset:l}})},mg=new WeakMap,Bd=function(e,n){if(typeof n!="function")return e;mg.has(e)||mg.set(e,new WeakMap);var r=mg.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},BI=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Wl(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Vf(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:yl(),realScaleType:"point"}:a==="category"?{scale:Wl(),realScaleType:"band"}:{scale:Vf(),realScaleType:"linear"};if(go(i)){var c="scale".concat(fp(i));return{scale:(NA[c]||yl)(),realScaleType:NA[c]?c:"point"}}return Ue(i)?{scale:i}:{scale:yl(),realScaleType:"point"}},FA=1e-4,FI=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-FA,o=Math.max(i[0],i[1])+FA,s=e(n[0]),c=e(n[r-1]);(s<a||s>o||c<a||c>o)&&e.domain([n[0],n[r-1]])}},ule=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},dle=function(e,n){if(!n||n.length!==2||!ge(n[0])||!ge(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!ge(e[0])||e[0]<r)&&(a[0]=r),(!ge(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},fle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var c=Fu(e[s][r][1])?e[s][r][0]:e[s][r][1];c>=0?(e[s][r][0]=a,e[s][r][1]=a+c,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+c,o=e[s][r][1])}},hle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Fu(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},ple={sign:fle,expand:$Y,none:$s,silhouette:IY,wiggle:RY,positive:hle},mle=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=ple[r],o=NY().keys(i).value(function(s,c){return+tn(s,c,0)}).order(Ry).offset(a);return o(e)},gle=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,c={},l=s.reduce(function(d,h){var m,y=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Vt(Vt({},h.type.defaultProps),h.props):h.props,v=y.stackId,b=y.hide;if(b)return d;var w=y[r],_=d[w]||{hasStack:!1,stackGroups:{}};if(nn(v)){var S=_.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),_.hasStack=!0,_.stackGroups[v]=S}else _.stackGroups[xc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Vt(Vt({},d),{},vs({},w,_))},c),u={};return Object.keys(l).reduce(function(d,h){var m=l[h];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(v,b){var w=m.stackGroups[b];return Vt(Vt({},v),{},vs({},b,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:mle(e,w.items,a)}))},y)}return Vt(Vt({},d),{},vs({},h,m))},u)},UI=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var l=e.domain();if(!l.length)return null;var u=Ece(l,a,s);return e.domain([jp(u),Op(u)]),{niceTicks:u}}if(a&&i==="number"){var d=e.domain(),h=Cce(d,a,s);return{niceTicks:h}}return null};function UA(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ke(i[e.dataKey])){var s=wf(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=tn(i,Ke(o)?e.dataKey:o);return Ke(c)?null:e.scale(c)}var VA=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var c=tn(o,n.dataKey,n.domain[s]);return Ke(c)?null:n.scale(c)-a/2+i},yle=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},vle=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Vt(Vt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(nn(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},ble=function(e){return e.reduce(function(n,r){return[jp(r.concat([n[0]]).filter(ge)),Op(r.concat([n[1]]).filter(ge))]},[1/0,-1/0])},VI=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,c=s.reduce(function(l,u){var d=ble(u.slice(n,r+1));return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},qA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dv=function(e,n,r){if(Ue(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ge(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(qA.test(e[0])){var a=+qA.exec(e[0])[1];i[0]=n[0]-a}else Ue(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ge(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(KA.test(e[1])){var o=+KA.exec(e[1])[1];i[1]=n[1]+o}else Ue(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Yf=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=B0(n,function(d){return d.coordinate}),o=1/0,s=1,c=a.length;s<c;s++){var l=a[s],u=a[s-1];o=Math.min((l.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},zA=function(e,n,r){return!e||!e.length||Gu(e,er(r,"type.defaultProps.domain"))?n:e},qI=function(e,n){var r=e.type.defaultProps?Vt(Vt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,c=r.tooltipType,l=r.chartType,u=r.hide;return Vt(Vt({},Ie(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:fx(e),value:tn(n,i),type:c,payload:n,chartType:l,hide:u})};function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function WA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(n),!0).forEach(function(r){KI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KI(t,e,n){return e=xle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xle(t){var e=wle(t,"string");return tu(e)=="symbol"?e:e+""}function wle(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sle(t,e){return Ole(t)||Tle(t,e)||Ale(t,e)||_le()}function _le(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ale(t,e){if(t){if(typeof t=="string")return GA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GA(t,e)}}function GA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function Ole(t){if(Array.isArray(t))return t}var Xf=Math.PI/180,jle=function(e){return e*180/Math.PI},jt=function(e,n,r,i){return{x:e+Math.cos(-Xf*i)*r,y:n+Math.sin(-Xf*i)*r}},zI=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},kle=function(e,n,r,i,a){var o=e.width,s=e.height,c=e.startAngle,l=e.endAngle,u=$n(e.cx,o,o/2),d=$n(e.cy,s,s/2),h=zI(o,s,r),m=$n(e.innerRadius,h,0),y=$n(e.outerRadius,h,h*.8),v=Object.keys(n);return v.reduce(function(b,w){var _=n[w],S=_.domain,k=_.reversed,A;if(Ke(_.range))i==="angleAxis"?A=[c,l]:i==="radiusAxis"&&(A=[m,y]),k&&(A=[A[1],A[0]]);else{A=_.range;var j=A,E=Sle(j,2);c=E[0],l=E[1]}var N=BI(_,a),R=N.realScaleType,q=N.scale;q.domain(S).range(A),FI(q);var L=UI(q,mi(mi({},_),{},{realScaleType:R})),D=mi(mi(mi({},_),L),{},{range:A,radius:y,realScaleType:R,scale:q,cx:u,cy:d,innerRadius:m,outerRadius:y,startAngle:c,endAngle:l});return mi(mi({},b),{},KI({},w,D))},{})},Ple=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Ele=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=Ple({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var c=(r-a)/s,l=Math.acos(c);return i>o&&(l=2*Math.PI-l),{radius:s,angle:jle(l),angleInRadian:l}},Cle=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},Nle=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},HA=function(e,n){var r=e.x,i=e.y,a=Ele({x:r,y:i},n),o=a.radius,s=a.angle,c=n.innerRadius,l=n.outerRadius;if(o<c||o>l)return!1;if(o===0)return!0;var u=Cle(n),d=u.startAngle,h=u.endAngle,m=s,y;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;y=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=d}return y?mi(mi({},n),{},{radius:o,angle:Nle(m,n)}):null},WI=function(e){return!O.isValidElement(e)&&!Ue(e)&&typeof e!="boolean"?e.className:""};function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}var $le=["offset"];function Ile(t){return Lle(t)||Mle(t)||Dle(t)||Rle()}function Rle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dle(t,e){if(t){if(typeof t=="string")return fv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fv(t,e)}}function Mle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lle(t){if(Array.isArray(t))return fv(t)}function fv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ble(t,e){if(t==null)return{};var n=Fle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(n),!0).forEach(function(r){Ule(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ule(t,e,n){return e=Vle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vle(t){var e=qle(t,"string");return nu(e)=="symbol"?e:e+""}function qle(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ru(){return ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ru.apply(this,arguments)}var Kle=function(e){var n=e.value,r=e.formatter,i=Ke(e.children)?n:e.children;return Ue(r)?r(i):i},zle=function(e,n){var r=Nn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Wle=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,c=a,l=c.cx,u=c.cy,d=c.innerRadius,h=c.outerRadius,m=c.startAngle,y=c.endAngle,v=c.clockWise,b=(d+h)/2,w=zle(m,y),_=w>=0?1:-1,S,k;i==="insideStart"?(S=m+_*o,k=v):i==="insideEnd"?(S=y-_*o,k=!v):i==="end"&&(S=y+_*o,k=v),k=w<=0?k:!k;var A=jt(l,u,b,S),j=jt(l,u,b,S+(k?1:-1)*359),E="M".concat(A.x,",").concat(A.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(k?0:1,`,
    `).concat(j.x,",").concat(j.y),N=Ke(e.id)?xc("recharts-radial-line-"):e.id;return $.createElement("text",ru({},r,{dominantBaseline:"central",className:Ge("recharts-radial-bar-label",s)}),$.createElement("defs",null,$.createElement("path",{id:N,d:E})),$.createElement("textPath",{xlinkHref:"#".concat(N)},n))},Gle=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,c=a.innerRadius,l=a.outerRadius,u=a.startAngle,d=a.endAngle,h=(u+d)/2;if(i==="outside"){var m=jt(o,s,l+r,h),y=m.x,v=m.y;return{x:y,y:v,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(c+l)/2,w=jt(o,s,b,h),_=w.x,S=w.y;return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Hle=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,c=o.y,l=o.width,u=o.height,d=u>=0?1:-1,h=d*i,m=d>0?"end":"start",y=d>0?"start":"end",v=l>=0?1:-1,b=v*i,w=v>0?"end":"start",_=v>0?"start":"end";if(a==="top"){var S={x:s+l/2,y:c-d*i,textAnchor:"middle",verticalAnchor:m};return Zt(Zt({},S),r?{height:Math.max(c-r.y,0),width:l}:{})}if(a==="bottom"){var k={x:s+l/2,y:c+u+h,textAnchor:"middle",verticalAnchor:y};return Zt(Zt({},k),r?{height:Math.max(r.y+r.height-(c+u),0),width:l}:{})}if(a==="left"){var A={x:s-b,y:c+u/2,textAnchor:w,verticalAnchor:"middle"};return Zt(Zt({},A),r?{width:Math.max(A.x-r.x,0),height:u}:{})}if(a==="right"){var j={x:s+l+b,y:c+u/2,textAnchor:_,verticalAnchor:"middle"};return Zt(Zt({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:u}:{})}var E=r?{width:l,height:u}:{};return a==="insideLeft"?Zt({x:s+b,y:c+u/2,textAnchor:_,verticalAnchor:"middle"},E):a==="insideRight"?Zt({x:s+l-b,y:c+u/2,textAnchor:w,verticalAnchor:"middle"},E):a==="insideTop"?Zt({x:s+l/2,y:c+h,textAnchor:"middle",verticalAnchor:y},E):a==="insideBottom"?Zt({x:s+l/2,y:c+u-h,textAnchor:"middle",verticalAnchor:m},E):a==="insideTopLeft"?Zt({x:s+b,y:c+h,textAnchor:_,verticalAnchor:y},E):a==="insideTopRight"?Zt({x:s+l-b,y:c+h,textAnchor:w,verticalAnchor:y},E):a==="insideBottomLeft"?Zt({x:s+b,y:c+u-h,textAnchor:_,verticalAnchor:m},E):a==="insideBottomRight"?Zt({x:s+l-b,y:c+u-h,textAnchor:w,verticalAnchor:m},E):gc(a)&&(ge(a.x)||Za(a.x))&&(ge(a.y)||Za(a.y))?Zt({x:s+$n(a.x,l),y:c+$n(a.y,u),textAnchor:"end",verticalAnchor:"end"},E):Zt({x:s+l/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Yle=function(e){return"cx"in e&&ge(e.cx)};function dn(t){var e=t.offset,n=e===void 0?5:e,r=Ble(t,$le),i=Zt({offset:n},r),a=i.viewBox,o=i.position,s=i.value,c=i.children,l=i.content,u=i.className,d=u===void 0?"":u,h=i.textBreakAll;if(!a||Ke(s)&&Ke(c)&&!O.isValidElement(l)&&!Ue(l))return null;if(O.isValidElement(l))return O.cloneElement(l,i);var m;if(Ue(l)){if(m=O.createElement(l,i),O.isValidElement(m))return m}else m=Kle(i);var y=Yle(a),v=Ie(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Wle(i,m,v);var b=y?Gle(i):Hle(i);return $.createElement(vo,ru({className:Ge("recharts-label",d)},v,b,{breakAll:h}),m)}dn.displayName="Label";var GI=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,c=e.radius,l=e.innerRadius,u=e.outerRadius,d=e.x,h=e.y,m=e.top,y=e.left,v=e.width,b=e.height,w=e.clockWise,_=e.labelViewBox;if(_)return _;if(ge(v)&&ge(b)){if(ge(d)&&ge(h))return{x:d,y:h,width:v,height:b};if(ge(m)&&ge(y))return{x:m,y,width:v,height:b}}return ge(d)&&ge(h)?{x:d,y:h,width:0,height:0}:ge(n)&&ge(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:l||0,outerRadius:u||c||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},Xle=function(e,n){return e?e===!0?$.createElement(dn,{key:"label-implicit",viewBox:n}):nn(e)?$.createElement(dn,{key:"label-implicit",viewBox:n,value:e}):O.isValidElement(e)?e.type===dn?O.cloneElement(e,{key:"label-implicit",viewBox:n}):$.createElement(dn,{key:"label-implicit",content:e,viewBox:n}):Ue(e)?$.createElement(dn,{key:"label-implicit",content:e,viewBox:n}):gc(e)?$.createElement(dn,ru({viewBox:n},e,{key:"label-implicit"})):null:null},Jle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=GI(e),o=tr(i,dn).map(function(c,l){return O.cloneElement(c,{viewBox:n||a,key:"label-".concat(l)})});if(!r)return o;var s=Xle(e.label,n||a);return[s].concat(Ile(o))};dn.parseViewBox=GI;dn.renderCallByParent=Jle;function Zle(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Qle=Zle;const eue=gt(Qle);function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}var tue=["valueAccessor"],nue=["data","dataKey","clockWise","id","textBreakAll"];function rue(t){return sue(t)||oue(t)||aue(t)||iue()}function iue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aue(t,e){if(t){if(typeof t=="string")return hv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hv(t,e)}}function oue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sue(t){if(Array.isArray(t))return hv(t)}function hv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jf(){return Jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jf.apply(this,arguments)}function XA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XA(Object(n),!0).forEach(function(r){cue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cue(t,e,n){return e=lue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lue(t){var e=uue(t,"string");return iu(e)=="symbol"?e:e+""}function uue(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZA(t,e){if(t==null)return{};var n=due(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function due(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fue=function(e){return Array.isArray(e.value)?eue(e.value):e.value};function Ai(t){var e=t.valueAccessor,n=e===void 0?fue:e,r=ZA(t,tue),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,c=r.textBreakAll,l=ZA(r,nue);return!i||!i.length?null:$.createElement(ut,{className:"recharts-label-list"},i.map(function(u,d){var h=Ke(a)?n(u,d):tn(u&&u.payload,a),m=Ke(s)?{}:{id:"".concat(s,"-").concat(d)};return $.createElement(dn,Jf({},Ie(u,!0),l,m,{parentViewBox:u.parentViewBox,value:h,textBreakAll:c,viewBox:dn.parseViewBox(Ke(o)?u:JA(JA({},u),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Ai.displayName="LabelList";function hue(t,e){return t?t===!0?$.createElement(Ai,{key:"labelList-implicit",data:e}):$.isValidElement(t)||Ue(t)?$.createElement(Ai,{key:"labelList-implicit",data:e,content:t}):gc(t)?$.createElement(Ai,Jf({data:e},t,{key:"labelList-implicit"})):null:null}function pue(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=tr(r,Ai).map(function(o,s){return O.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=hue(t.label,e);return[a].concat(rue(i))}Ai.renderCallByParent=pue;function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pv.apply(this,arguments)}function QA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QA(Object(n),!0).forEach(function(r){mue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mue(t,e,n){return e=gue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gue(t){var e=yue(t,"string");return au(e)=="symbol"?e:e+""}function yue(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vue=function(e,n){var r=Nn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Fd=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,c=e.cornerRadius,l=e.cornerIsExternal,u=c*(s?1:-1)+i,d=Math.asin(c/u)/Xf,h=l?a:a+o*d,m=jt(n,r,u,h),y=jt(n,r,i,h),v=l?a-o*d:a,b=jt(n,r,u*Math.cos(d*Xf),v);return{center:m,circleTangency:y,lineTangency:b,theta:d}},HI=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,c=vue(o,s),l=o+c,u=jt(n,r,a,o),d=jt(n,r,a,l),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var m=jt(n,r,i,o),y=jt(n,r,i,l);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=l),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},bue=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,c=e.cornerIsExternal,l=e.startAngle,u=e.endAngle,d=Nn(u-l),h=Fd({cx:n,cy:r,radius:a,angle:l,sign:d,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,y=h.lineTangency,v=h.theta,b=Fd({cx:n,cy:r,radius:a,angle:u,sign:-d,cornerRadius:o,cornerIsExternal:c}),w=b.circleTangency,_=b.lineTangency,S=b.theta,k=c?Math.abs(l-u):Math.abs(l-u)-v-S;if(k<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):HI({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:l,endAngle:u});var A="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var j=Fd({cx:n,cy:r,radius:i,angle:l,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=j.circleTangency,N=j.lineTangency,R=j.theta,q=Fd({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=q.circleTangency,D=q.lineTangency,X=q.theta,ee=c?Math.abs(l-u):Math.abs(l-u)-R-X;if(ee<0&&o===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ee>180),",").concat(+(d>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},xue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},YI=function(e){var n=eT(eT({},xue),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,c=n.forceCornerRadius,l=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(o<a||u===d)return null;var m=Ge("recharts-sector",h),y=o-a,v=$n(s,y,0,!0),b;return v>0&&Math.abs(u-d)<360?b=bue({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(v,y/2),forceCornerRadius:c,cornerIsExternal:l,startAngle:u,endAngle:d}):b=HI({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}),$.createElement("path",pv({},Ie(n,!0),{className:m,d:b,role:"img"}))};function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(this,arguments)}function tT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tT(Object(n),!0).forEach(function(r){wue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wue(t,e,n){return e=Sue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sue(t){var e=_ue(t,"string");return ou(e)=="symbol"?e:e+""}function _ue(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rT={curveBasisClosed:wY,curveBasisOpen:SY,curveBasis:xY,curveBumpX:oY,curveBumpY:sY,curveLinearClosed:_Y,curveLinear:pp,curveMonotoneX:AY,curveMonotoneY:TY,curveNatural:OY,curveStep:jY,curveStepAfter:PY,curveStepBefore:kY},Ud=function(e){return e.x===+e.x&&e.y===+e.y},Jc=function(e){return e.x},Zc=function(e){return e.y},Aue=function(e,n){if(Ue(e))return e;var r="curve".concat(fp(e));return(r==="curveMonotone"||r==="curveBump")&&n?rT["".concat(r).concat(n==="vertical"?"Y":"X")]:rT[r]||pp},Tue=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,c=e.connectNulls,l=c===void 0?!1:c,u=Aue(r,s),d=l?a.filter(function(v){return Ud(v)}):a,h;if(Array.isArray(o)){var m=l?o.filter(function(v){return Ud(v)}):o,y=d.map(function(v,b){return nT(nT({},v),{},{base:m[b]})});return s==="vertical"?h=Cd().y(Zc).x1(Jc).x0(function(v){return v.base.x}):h=Cd().x(Jc).y1(Zc).y0(function(v){return v.base.y}),h.defined(Ud).curve(u),h(y)}return s==="vertical"&&ge(o)?h=Cd().y(Zc).x1(Jc).x0(o):ge(o)?h=Cd().x(Jc).y1(Zc).y0(o):h=qN().x(Jc).y(Zc),h.defined(Ud).curve(u),h(d)},Zf=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Tue(e):i;return O.createElement("path",mv({},Ie(e,!1),Sf(e),{className:Ge("recharts-curve",n),d:o,ref:a}))},XI={exports:{}},Oue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jue=Oue,kue=jue;function JI(){}function ZI(){}ZI.resetWarningCache=JI;var Pue=function(){function t(r,i,a,o,s,c){if(c!==kue){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ZI,resetWarningCache:JI};return n.PropTypes=n,n};XI.exports=Pue();var Eue=XI.exports;const mt=gt(Eue);var Cue=Object.getOwnPropertyNames,Nue=Object.getOwnPropertySymbols,$ue=Object.prototype.hasOwnProperty;function iT(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Vd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var c=t(n,r,i);return a.delete(n),a.delete(r),c}}function aT(t){return Cue(t).concat(Nue(t))}var Iue=Object.hasOwn||function(t,e){return $ue.call(t,e)};function jo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Rue="__v",Due="__o",Mue="_owner",oT=Object.getOwnPropertyDescriptor,sT=Object.keys;function Lue(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Bue(t,e){return jo(t.getTime(),e.getTime())}function Fue(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Uue(t,e){return t===e}function cT(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,c=0;(o=a.next())&&!o.done;){for(var l=e.entries(),u=!1,d=0;(s=l.next())&&!s.done;){if(i[d]){d++;continue}var h=o.value,m=s.value;if(n.equals(h[0],m[0],c,d,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1;c++}return!0}var Vue=jo;function que(t,e,n){var r=sT(t),i=r.length;if(sT(e).length!==i)return!1;for(;i-- >0;)if(!QI(t,e,n,r[i]))return!1;return!0}function Qc(t,e,n){var r=aT(t),i=r.length;if(aT(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!QI(t,e,n,a)||(o=oT(t,a),s=oT(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Kue(t,e){return jo(t.valueOf(),e.valueOf())}function zue(t,e){return t.source===e.source&&t.flags===e.flags}function lT(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var c=e.values(),l=!1,u=0;(s=c.next())&&!s.done;){if(!i[u]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){l=i[u]=!0;break}u++}if(!l)return!1}return!0}function Wue(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Gue(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function QI(t,e,n,r){return(r===Mue||r===Due||r===Rue)&&(t.$$typeof||e.$$typeof)?!0:Iue(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Hue="[object Arguments]",Yue="[object Boolean]",Xue="[object Date]",Jue="[object Error]",Zue="[object Map]",Que="[object Number]",ede="[object Object]",tde="[object RegExp]",nde="[object Set]",rde="[object String]",ide="[object URL]",ade=Array.isArray,uT=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,dT=Object.assign,ode=Object.prototype.toString.call.bind(Object.prototype.toString);function sde(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,l=t.areRegExpsEqual,u=t.areSetsEqual,d=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(y,v,b){if(y===v)return!0;if(y==null||v==null)return!1;var w=typeof y;if(w!==typeof v)return!1;if(w!=="object")return w==="number"?o(y,v,b):w==="function"?i(y,v,b):!1;var _=y.constructor;if(_!==v.constructor)return!1;if(_===Object)return s(y,v,b);if(ade(y))return e(y,v,b);if(uT!=null&&uT(y))return d(y,v,b);if(_===Date)return n(y,v,b);if(_===RegExp)return l(y,v,b);if(_===Map)return a(y,v,b);if(_===Set)return u(y,v,b);var S=ode(y);return S===Xue?n(y,v,b):S===tde?l(y,v,b):S===Zue?a(y,v,b):S===nde?u(y,v,b):S===ede?typeof y.then!="function"&&typeof v.then!="function"&&s(y,v,b):S===ide?h(y,v,b):S===Jue?r(y,v,b):S===Hue?s(y,v,b):S===Yue||S===Que||S===rde?c(y,v,b):!1}}function cde(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Qc:Lue,areDatesEqual:Bue,areErrorsEqual:Fue,areFunctionsEqual:Uue,areMapsEqual:r?iT(cT,Qc):cT,areNumbersEqual:Vue,areObjectsEqual:r?Qc:que,arePrimitiveWrappersEqual:Kue,areRegExpsEqual:zue,areSetsEqual:r?iT(lT,Qc):lT,areTypedArraysEqual:r?Qc:Wue,areUrlsEqual:Gue};if(n&&(i=dT({},i,n(i))),e){var a=Vd(i.areArraysEqual),o=Vd(i.areMapsEqual),s=Vd(i.areObjectsEqual),c=Vd(i.areSetsEqual);i=dT({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:c})}return i}function lde(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function ude(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(c,l){var u=r(),d=u.cache,h=d===void 0?e?new WeakMap:void 0:d,m=u.meta;return n(c,l,{cache:h,equals:i,meta:m,strict:a})};if(e)return function(c,l){return n(c,l,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,l){return n(c,l,o)}}var dde=wa();wa({strict:!0});wa({circular:!0});wa({circular:!0,strict:!0});wa({createInternalComparator:function(){return jo}});wa({strict:!0,createInternalComparator:function(){return jo}});wa({circular:!0,createInternalComparator:function(){return jo}});wa({circular:!0,createInternalComparator:function(){return jo},strict:!0});function wa(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=cde(t),c=sde(s),l=r?r(c):lde(c);return ude({circular:n,comparator:c,createState:i,equals:l,strict:o})}function fde(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function fT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):fde(i)};requestAnimationFrame(r)}function gv(t){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function hde(t){return yde(t)||gde(t)||mde(t)||pde()}function pde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mde(t,e){if(t){if(typeof t=="string")return hT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hT(t,e)}}function hT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yde(t){if(Array.isArray(t))return t}function vde(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=hde(o),c=s[0],l=s.slice(1);if(typeof c=="number"){fT(i.bind(null,l),c);return}i(c),fT(i.bind(null,l));return}gv(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function pT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pT(Object(n),!0).forEach(function(r){eR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eR(t,e,n){return e=bde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bde(t){var e=xde(t,"string");return su(e)==="symbol"?e:String(e)}function xde(t,e){if(su(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(su(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wde=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Sde=function(e){return e},_de=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},bl=function(e,n){return Object.keys(n).reduce(function(r,i){return mT(mT({},r),{},eR({},i,e(i,n[i])))},{})},gT=function(e,n,r){return e.map(function(i){return"".concat(_de(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Ade(t,e){return jde(t)||Ode(t,e)||tR(t,e)||Tde()}function Tde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ode(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function jde(t){if(Array.isArray(t))return t}function kde(t){return Cde(t)||Ede(t)||tR(t)||Pde()}function Pde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tR(t,e){if(t){if(typeof t=="string")return yv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yv(t,e)}}function Ede(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cde(t){if(Array.isArray(t))return yv(t)}function yv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qf=1e-4,nR=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},rR=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},yT=function(e,n){return function(r){var i=nR(e,n);return rR(i,r)}},Nde=function(e,n){return function(r){var i=nR(e,n),a=[].concat(kde(i.map(function(o,s){return o*s}).slice(1)),[0]);return rR(a,r)}},vT=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var l=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),u=Ade(l,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var d=yT(i,o),h=yT(a,s),m=Nde(i,o),y=function(w){return w>1?1:w<0?0:w},v=function(w){for(var _=w>1?1:w,S=_,k=0;k<8;++k){var A=d(S)-_,j=m(S);if(Math.abs(A-_)<Qf||j<Qf)return h(S);S=y(S-A/j)}return h(S)};return v.isStepper=!1,v},$de=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,c=function(u,d,h){var m=-(u-d)*r,y=h*a,v=h+(m-y)*s/1e3,b=h*s/1e3+u;return Math.abs(b-d)<Qf&&Math.abs(v)<Qf?[d,0]:[b,v]};return c.isStepper=!0,c.dt=s,c},Ide=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vT(i);case"spring":return $de();default:if(i.split("(")[0]==="cubic-bezier")return vT(i)}return typeof i=="function"?i:null};function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function bT(t){return Mde(t)||Dde(t)||iR(t)||Rde()}function Rde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mde(t){if(Array.isArray(t))return bv(t)}function xT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xT(Object(n),!0).forEach(function(r){vv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vv(t,e,n){return e=Lde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lde(t){var e=Bde(t,"string");return cu(e)==="symbol"?e:String(e)}function Bde(t,e){if(cu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fde(t,e){return qde(t)||Vde(t,e)||iR(t,e)||Ude()}function Ude(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iR(t,e){if(t){if(typeof t=="string")return bv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bv(t,e)}}function bv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function qde(t){if(Array.isArray(t))return t}var eh=function(e,n,r){return e+(n-e)*r},xv=function(e){var n=e.from,r=e.to;return n!==r},Kde=function t(e,n,r){var i=bl(function(a,o){if(xv(o)){var s=e(o.from,o.to,o.velocity),c=Fde(s,2),l=c[0],u=c[1];return gn(gn({},o),{},{from:l,velocity:u})}return o},n);return r<1?bl(function(a,o){return xv(o)?gn(gn({},o),{},{velocity:eh(o.velocity,i[a].velocity,r),from:eh(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const zde=function(t,e,n,r,i){var a=wde(t,e),o=a.reduce(function(b,w){return gn(gn({},b),{},vv({},w,[t[w],e[w]]))},{}),s=a.reduce(function(b,w){return gn(gn({},b),{},vv({},w,{from:t[w],velocity:0,to:e[w]}))},{}),c=-1,l,u,d=function(){return null},h=function(){return bl(function(w,_){return _.from},s)},m=function(){return!Object.values(s).filter(xv).length},y=function(w){l||(l=w);var _=w-l,S=_/n.dt;s=Kde(n,s,S),i(gn(gn(gn({},t),e),h())),l=w,m()||(c=requestAnimationFrame(d))},v=function(w){u||(u=w);var _=(w-u)/r,S=bl(function(A,j){return eh.apply(void 0,bT(j).concat([n(_)]))},o);if(i(gn(gn(gn({},t),e),S)),_<1)c=requestAnimationFrame(d);else{var k=bl(function(A,j){return eh.apply(void 0,bT(j).concat([n(1)]))},o);i(gn(gn(gn({},t),e),k))}};return d=n.isStepper?y:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}var Wde=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Gde(t,e){if(t==null)return{};var n=Hde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hde(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gg(t){return Zde(t)||Jde(t)||Xde(t)||Yde()}function Yde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xde(t,e){if(t){if(typeof t=="string")return wv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wv(t,e)}}function Jde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zde(t){if(Array.isArray(t))return wv(t)}function wv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wT(Object(n),!0).forEach(function(r){ol(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ol(t,e,n){return e=aR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function efe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aR(r.key),r)}}function tfe(t,e,n){return e&&efe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aR(t){var e=nfe(t,"string");return Vs(e)==="symbol"?e:String(e)}function nfe(t,e){if(Vs(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sv(t,e)}function Sv(t,e){return Sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sv(t,e)}function ife(t){var e=afe();return function(){var r=th(t),i;if(e){var a=th(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return _v(this,i)}}function _v(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Av(t)}function Av(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function afe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function th(t){return th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},th(t)}var ii=function(t){rfe(n,t);var e=ife(n);function n(r,i){var a;Qde(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,c=o.attributeName,l=o.from,u=o.to,d=o.steps,h=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Av(a)),a.changeStyle=a.changeStyle.bind(Av(a)),!s||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),_v(a);if(d&&d.length)a.state={style:d[0].style};else if(l){if(typeof h=="function")return a.state={style:l},_v(a);a.state={style:c?ol({},c,l):l}}else a.state={style:{}};return a}return tfe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,c=a.attributeName,l=a.shouldReAnimate,u=a.to,d=a.from,h=this.state.style;if(s){if(!o){var m={style:c?ol({},c,u):u};this.state&&h&&(c&&h[c]!==u||!c&&h!==u)&&this.setState(m);return}if(!(dde(i.to,u)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=y||l?d:i.to;if(this.state&&h){var b={style:c?ol({},c,v):v};(c&&h[c]!==v||!c&&h!==v)&&this.setState(b)}this.runAnimation(Ar(Ar({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,c=i.duration,l=i.easing,u=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,m=zde(o,s,Ide(l),c,this.changeStyle),y=function(){a.stopJSAnimation=m()};this.manager.start([h,u,y,c,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,c=i.onAnimationStart,l=o[0],u=l.style,d=l.duration,h=d===void 0?0:d,m=function(v,b,w){if(w===0)return v;var _=b.duration,S=b.easing,k=S===void 0?"ease":S,A=b.style,j=b.properties,E=b.onAnimationEnd,N=w>0?o[w-1]:b,R=j||Object.keys(A);if(typeof k=="function"||k==="spring")return[].concat(gg(v),[a.runJSAnimation.bind(a,{from:N.style,to:A,duration:_,easing:k}),_]);var q=gT(R,_,k),L=Ar(Ar(Ar({},N.style),A),{},{transition:q});return[].concat(gg(v),[L,_,E]).filter(Sde)};return this.manager.start([c].concat(gg(o.reduce(m,[u,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=vde());var a=i.begin,o=i.duration,s=i.attributeName,c=i.to,l=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,m=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof l=="function"||typeof m=="function"||l==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=s?ol({},s,c):c,b=gT(Object.keys(v),o,l);y.start([u,a,Ar(Ar({},v),{},{transition:b}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Gde(i,Wde),l=O.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||l===0||o<=0)return a;var d=function(m){var y=m.props,v=y.style,b=v===void 0?{}:v,w=y.className,_=O.cloneElement(m,Ar(Ar({},c),{},{style:Ar(Ar({},b),u),className:w}));return _};return l===1?d(O.Children.only(a)):$.createElement("div",null,O.Children.map(a,function(h){return d(h)}))}}]),n}(O.PureComponent);ii.displayName="Animate";ii.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ii.propTypes={from:mt.oneOfType([mt.object,mt.string]),to:mt.oneOfType([mt.object,mt.string]),attributeName:mt.string,duration:mt.number,begin:mt.number,easing:mt.oneOfType([mt.string,mt.func]),steps:mt.arrayOf(mt.shape({duration:mt.number.isRequired,style:mt.object.isRequired,easing:mt.oneOfType([mt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mt.func]),properties:mt.arrayOf("string"),onAnimationEnd:mt.func})),children:mt.oneOfType([mt.node,mt.func]),isActive:mt.bool,canBegin:mt.bool,onAnimationEnd:mt.func,shouldReAnimate:mt.bool,onAnimationStart:mt.func,onAnimationReStart:mt.func};function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nh.apply(this,arguments)}function ofe(t,e){return ufe(t)||lfe(t,e)||cfe(t,e)||sfe()}function sfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cfe(t,e){if(t){if(typeof t=="string")return ST(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ST(t,e)}}function ST(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function ufe(t){if(Array.isArray(t))return t}function _T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_T(Object(n),!0).forEach(function(r){dfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_T(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dfe(t,e,n){return e=ffe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ffe(t){var e=hfe(t,"string");return lu(e)=="symbol"?e:e+""}function hfe(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TT=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,c=r>=0?1:-1,l=i>=0&&r>=0||i<0&&r<0?1:0,u;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,m=4;h<m;h++)d[h]=a[h]>o?o:a[h];u="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(e+c*d[0],",").concat(n)),u+="L ".concat(e+r-c*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(n+s*d[1])),u+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(e+r-c*d[2],",").concat(n+i)),u+="L ".concat(e+c*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(n+i-s*d[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);u="M ".concat(e,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(l,",").concat(e+c*y,",").concat(n,`
            L `).concat(e+r-c*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(l,",").concat(e+r,",").concat(n+s*y,`
            L `).concat(e+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(l,",").concat(e+r-c*y,",").concat(n+i,`
            L `).concat(e+c*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(l,",").concat(e,",").concat(n+i-s*y," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},pfe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,c=n.height;if(Math.abs(s)>0&&Math.abs(c)>0){var l=Math.min(a,a+s),u=Math.max(a,a+s),d=Math.min(o,o+c),h=Math.max(o,o+c);return r>=l&&r<=u&&i>=d&&i<=h}return!1},mfe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hx=function(e){var n=AT(AT({},mfe),e),r=O.useRef(),i=O.useState(-1),a=ofe(i,2),o=a[0],s=a[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&s(k)}catch{}},[]);var c=n.x,l=n.y,u=n.width,d=n.height,h=n.radius,m=n.className,y=n.animationEasing,v=n.animationDuration,b=n.animationBegin,w=n.isAnimationActive,_=n.isUpdateAnimationActive;if(c!==+c||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var S=Ge("recharts-rectangle",m);return _?$.createElement(ii,{canBegin:o>0,from:{width:u,height:d,x:c,y:l},to:{width:u,height:d,x:c,y:l},duration:v,animationEasing:y,isActive:_},function(k){var A=k.width,j=k.height,E=k.x,N=k.y;return $.createElement(ii,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,isActive:w,easing:y},$.createElement("path",nh({},Ie(n,!0),{className:S,d:TT(E,N,A,j,h),ref:r})))}):$.createElement("path",nh({},Ie(n,!0),{className:S,d:TT(c,l,u,d,h)}))},gfe=["points","className","baseLinePoints","connectNulls"];function as(){return as=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},as.apply(this,arguments)}function yfe(t,e){if(t==null)return{};var n=vfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OT(t){return Sfe(t)||wfe(t)||xfe(t)||bfe()}function bfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xfe(t,e){if(t){if(typeof t=="string")return Tv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tv(t,e)}}function wfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sfe(t){if(Array.isArray(t))return Tv(t)}function Tv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jT=function(e){return e&&e.x===+e.x&&e.y===+e.y},_fe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){jT(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),jT(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},xl=function(e,n){var r=_fe(e);n&&(r=[r.reduce(function(a,o){return[].concat(OT(a),OT(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,c){return"".concat(o).concat(c===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Afe=function(e,n,r){var i=xl(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(xl(n.reverse(),r).slice(1))},Tfe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=yfe(e,gfe);if(!n||!n.length)return null;var s=Ge("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",l=Afe(n,i,a);return $.createElement("g",{className:s},$.createElement("path",as({},Ie(o,!0),{fill:l.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:l})),c?$.createElement("path",as({},Ie(o,!0),{fill:"none",d:xl(n,a)})):null,c?$.createElement("path",as({},Ie(o,!0),{fill:"none",d:xl(i,a)})):null)}var u=xl(n,a);return $.createElement("path",as({},Ie(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:s,d:u}))};function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ov.apply(this,arguments)}var Ep=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Ge("recharts-dot",a);return n===+n&&r===+r&&i===+i?O.createElement("circle",Ov({},Ie(e,!1),Sf(e),{className:o,cx:n,cy:r,r:i})):null};function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}var Ofe=["x","y","top","left","width","height","className"];function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(this,arguments)}function kT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kT(Object(n),!0).forEach(function(r){kfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kfe(t,e,n){return e=Pfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pfe(t){var e=Efe(t,"string");return uu(e)=="symbol"?e:e+""}function Efe(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cfe(t,e){if(t==null)return{};var n=Nfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var $fe=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Ife=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,c=e.left,l=c===void 0?0:c,u=e.width,d=u===void 0?0:u,h=e.height,m=h===void 0?0:h,y=e.className,v=Cfe(e,Ofe),b=jfe({x:r,y:a,top:s,left:l,width:d,height:m},v);return!ge(r)||!ge(a)||!ge(d)||!ge(m)||!ge(s)||!ge(l)?null:$.createElement("path",jv({},Ie(b,!0),{className:Ge("recharts-cross",y),d:$fe(r,a,d,m,s,l)}))},Rfe=Tp,Dfe=yI,Mfe=si;function Lfe(t,e){return t&&t.length?Rfe(t,Mfe(e),Dfe):void 0}var Bfe=Lfe;const Ffe=gt(Bfe);var Ufe=Tp,Vfe=si,qfe=vI;function Kfe(t,e){return t&&t.length?Ufe(t,Vfe(e),qfe):void 0}var zfe=Kfe;const Wfe=gt(zfe);var Gfe=["cx","cy","angle","ticks","axisLine"],Hfe=["ticks","tick","angle","tickFormatter","stroke"];function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(this,arguments)}function PT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PT(Object(n),!0).forEach(function(r){Cp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ET(t,e){if(t==null)return{};var n=Yfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sR(r.key),r)}}function Jfe(t,e,n){return e&&CT(t.prototype,e),n&&CT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zfe(t,e,n){return e=rh(e),Qfe(t,oR()?Reflect.construct(e,n||[],rh(t).constructor):e.apply(t,n))}function Qfe(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ehe(t)}function ehe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oR=function(){return!!t})()}function rh(t){return rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rh(t)}function the(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kv(t,e)}function kv(t,e){return kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kv(t,e)}function Cp(t,e,n){return e=sR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sR(t){var e=nhe(t,"string");return qs(e)=="symbol"?e:e+""}function nhe(t,e){if(qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Np=function(t){function e(){return Xfe(this,e),Zfe(this,e,arguments)}return the(e,t),Jfe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,c=a.cy;return jt(s,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,c=Ffe(s,function(u){return u.coordinate||0}),l=Wfe(s,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:l.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,c=r.axisLine,l=ET(r,Gfe),u=s.reduce(function(y,v){return[Math.min(y[0],v.coordinate),Math.max(y[1],v.coordinate)]},[1/0,-1/0]),d=jt(i,a,u[0],o),h=jt(i,a,u[1],o),m=Da(Da(Da({},Ie(l,!1)),{},{fill:"none"},Ie(c,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return $.createElement("line",wl({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,c=i.tickFormatter,l=i.stroke,u=ET(i,Hfe),d=this.getTickTextAnchor(),h=Ie(u,!1),m=Ie(o,!1),y=a.map(function(v,b){var w=r.getTickValueCoord(v),_=Da(Da(Da(Da({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:l},m),{},{index:b},w),{},{payload:v});return $.createElement(ut,wl({className:Ge("recharts-polar-radius-axis-tick",WI(o)),key:"tick-".concat(v.coordinate)},yo(r.props,v,b)),e.renderTickItem(o,_,c?c(v.value,b):v.value))});return $.createElement(ut,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:$.createElement(ut,{className:Ge("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),dn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return $.isValidElement(r)?o=$.cloneElement(r,i):Ue(r)?o=r(i):o=$.createElement(vo,wl({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(O.PureComponent);Cp(Np,"displayName","PolarRadiusAxis");Cp(Np,"axisType","radiusAxis");Cp(Np,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function Ga(){return Ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ga.apply(this,arguments)}function NT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(n),!0).forEach(function(r){$p(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lR(r.key),r)}}function ihe(t,e,n){return e&&$T(t.prototype,e),n&&$T(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ahe(t,e,n){return e=ih(e),ohe(t,cR()?Reflect.construct(e,n||[],ih(t).constructor):e.apply(t,n))}function ohe(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return she(t)}function she(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cR=function(){return!!t})()}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ih(t)}function che(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pv(t,e)}function Pv(t,e){return Pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Pv(t,e)}function $p(t,e,n){return e=lR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lR(t){var e=lhe(t,"string");return Ks(e)=="symbol"?e:e+""}function lhe(t,e){if(Ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uhe=Math.PI/180,IT=1e-5,Ip=function(t){function e(){return rhe(this,e),ahe(this,e,arguments)}return che(e,t),ihe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,c=i.orientation,l=i.tickSize,u=l||8,d=jt(a,o,s,r.coordinate),h=jt(a,o,s+(c==="inner"?-1:1)*u,r.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*uhe),o;return a>IT?o=i==="outer"?"start":"end":a<-IT?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,c=r.axisLineType,l=Ma(Ma({},Ie(this.props,!1)),{},{fill:"none"},Ie(s,!1));if(c==="circle")return $.createElement(Ep,Ga({className:"recharts-polar-angle-axis-line"},l,{cx:i,cy:a,r:o}));var u=this.props.ticks,d=u.map(function(h){return jt(i,a,o,h.coordinate)});return $.createElement(Tfe,Ga({className:"recharts-polar-angle-axis-line"},l,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,c=i.tickFormatter,l=i.stroke,u=Ie(this.props,!1),d=Ie(o,!1),h=Ma(Ma({},u),{},{fill:"none"},Ie(s,!1)),m=a.map(function(y,v){var b=r.getTickLineCoord(y),w=r.getTickTextAnchor(y),_=Ma(Ma(Ma({textAnchor:w},u),{},{stroke:"none",fill:l},d),{},{index:v,payload:y,x:b.x2,y:b.y2});return $.createElement(ut,Ga({className:Ge("recharts-polar-angle-axis-tick",WI(o)),key:"tick-".concat(y.coordinate)},yo(r.props,y,v)),s&&$.createElement("line",Ga({className:"recharts-polar-angle-axis-tick-line"},h,b)),o&&e.renderTickItem(o,_,c?c(y.value,v):y.value))});return $.createElement(ut,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:$.createElement(ut,{className:Ge("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return $.isValidElement(r)?o=$.cloneElement(r,i):Ue(r)?o=r(i):o=$.createElement(vo,Ga({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(O.PureComponent);$p(Ip,"displayName","PolarAngleAxis");$p(Ip,"axisType","angleAxis");$p(Ip,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var dhe=h$,fhe=dhe(Object.getPrototypeOf,Object),hhe=fhe,phe=Ci,mhe=hhe,ghe=Ni,yhe="[object Object]",vhe=Function.prototype,bhe=Object.prototype,uR=vhe.toString,xhe=bhe.hasOwnProperty,whe=uR.call(Object);function She(t){if(!ghe(t)||phe(t)!=yhe)return!1;var e=mhe(t);if(e===null)return!0;var n=xhe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&uR.call(n)==whe}var _he=She;const Ahe=gt(_he);var The=Ci,Ohe=Ni,jhe="[object Boolean]";function khe(t){return t===!0||t===!1||Ohe(t)&&The(t)==jhe}var Phe=khe;const Ehe=gt(Phe);function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function ah(){return ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ah.apply(this,arguments)}function Che(t,e){return Rhe(t)||Ihe(t,e)||$he(t,e)||Nhe()}function Nhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $he(t,e){if(t){if(typeof t=="string")return RT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RT(t,e)}}function RT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ihe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function Rhe(t){if(Array.isArray(t))return t}function DT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DT(Object(n),!0).forEach(function(r){Dhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dhe(t,e,n){return e=Mhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mhe(t){var e=Lhe(t,"string");return du(e)=="symbol"?e:e+""}function Lhe(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LT=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},Bhe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Fhe=function(e){var n=MT(MT({},Bhe),e),r=O.useRef(),i=O.useState(-1),a=Che(i,2),o=a[0],s=a[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var c=n.x,l=n.y,u=n.upperWidth,d=n.lowerWidth,h=n.height,m=n.className,y=n.animationEasing,v=n.animationDuration,b=n.animationBegin,w=n.isUpdateAnimationActive;if(c!==+c||l!==+l||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var _=Ge("recharts-trapezoid",m);return w?$.createElement(ii,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:l},to:{upperWidth:u,lowerWidth:d,height:h,x:c,y:l},duration:v,animationEasing:y,isActive:w},function(S){var k=S.upperWidth,A=S.lowerWidth,j=S.height,E=S.x,N=S.y;return $.createElement(ii,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,easing:y},$.createElement("path",ah({},Ie(n,!0),{className:_,d:LT(E,N,k,A,j),ref:r})))}):$.createElement("g",null,$.createElement("path",ah({},Ie(n,!0),{className:_,d:LT(c,l,u,d,h)})))},Uhe=["option","shapeType","propTransformer","activeClassName","isActive"];function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function Vhe(t,e){if(t==null)return{};var n=qhe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BT(Object(n),!0).forEach(function(r){Khe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Khe(t,e,n){return e=zhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zhe(t){var e=Whe(t,"string");return fu(e)=="symbol"?e:e+""}function Whe(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ghe(t,e){return oh(oh({},e),t)}function Hhe(t,e){return t==="symbols"}function FT(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return $.createElement(hx,n);case"trapezoid":return $.createElement(Fhe,n);case"sector":return $.createElement(YI,n);case"symbols":if(Hhe(e))return $.createElement(C0,n);break;default:return null}}function Yhe(t){return O.isValidElement(t)?t.props:t}function dR(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Ghe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,c=Vhe(t,Uhe),l;if(O.isValidElement(e))l=O.cloneElement(e,oh(oh({},c),Yhe(e)));else if(Ue(e))l=e(c);else if(Ahe(e)&&!Ehe(e)){var u=i(e,c);l=$.createElement(FT,{shapeType:n,elementProps:u})}else{var d=c;l=$.createElement(FT,{shapeType:n,elementProps:d})}return s?$.createElement(ut,{className:o},l):l}function Rp(t,e){return e!=null&&"trapezoids"in t.props}function Dp(t,e){return e!=null&&"sectors"in t.props}function hu(t,e){return e!=null&&"points"in t.props}function Xhe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Jhe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Zhe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Qhe(t,e){var n;return Rp(t,e)?n=Xhe:Dp(t,e)?n=Jhe:hu(t,e)&&(n=Zhe),n}function epe(t,e){var n;return Rp(t,e)?n="trapezoids":Dp(t,e)?n="sectors":hu(t,e)&&(n="points"),n}function tpe(t,e){if(Rp(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Dp(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return hu(t,e)?e.payload:{}}function npe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=epe(n,e),a=tpe(n,e),o=r.filter(function(c,l){var u=Gu(a,c),d=n.props[i].filter(function(y){var v=Qhe(n,e);return v(y,e)}),h=n.props[i].indexOf(d[d.length-1]),m=l===h;return u&&m}),s=r.indexOf(o[o.length-1]);return s}var Qd;function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function os(){return os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},os.apply(this,arguments)}function UT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UT(Object(n),!0).forEach(function(r){fr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hR(r.key),r)}}function ipe(t,e,n){return e&&VT(t.prototype,e),n&&VT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ape(t,e,n){return e=sh(e),ope(t,fR()?Reflect.construct(e,n||[],sh(t).constructor):e.apply(t,n))}function ope(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return spe(t)}function spe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fR=function(){return!!t})()}function sh(t){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sh(t)}function cpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ev(t,e)}function Ev(t,e){return Ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ev(t,e)}function fr(t,e,n){return e=hR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hR(t){var e=lpe(t,"string");return zs(e)=="symbol"?e:e+""}function lpe(t,e){if(zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ii=function(t){function e(n){var r;return rpe(this,e),r=ape(this,e,[n]),fr(r,"pieRef",null),fr(r,"sectorRefs",[]),fr(r,"id",xc("recharts-pie-")),fr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ue(i)&&i()}),fr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ue(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return cpe(e,t),ipe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,c=a.dataKey,l=a.valueKey,u=Ie(this.props,!1),d=Ie(o,!1),h=Ie(s,!1),m=o&&o.offsetRadius||20,y=r.map(function(v,b){var w=(v.startAngle+v.endAngle)/2,_=jt(v.cx,v.cy,v.outerRadius+m,w),S=Tt(Tt(Tt(Tt({},u),v),{},{stroke:"none"},d),{},{index:b,textAnchor:e.getTextAnchor(_.x,v.cx)},_),k=Tt(Tt(Tt(Tt({},u),v),{},{fill:"none",stroke:v.fill},h),{},{index:b,points:[jt(v.cx,v.cy,v.outerRadius,w),_]}),A=c;return Ke(c)&&Ke(l)?A="value":Ke(c)&&(A=l),$.createElement(ut,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(b)},s&&e.renderLabelLineItem(s,k,"line"),e.renderLabelItem(o,S,tn(v,A)))});return $.createElement(ut,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,c=a.inactiveShape;return r.map(function(l,u){if((l==null?void 0:l.startAngle)===0&&(l==null?void 0:l.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(u),h=c&&i.hasActiveIndex()?c:null,m=d?o:h,y=Tt(Tt({},l),{},{stroke:s?l.fill:l.stroke,tabIndex:-1});return $.createElement(ut,os({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},yo(i.props,l,u),{key:"sector-".concat(l==null?void 0:l.startAngle,"-").concat(l==null?void 0:l.endAngle,"-").concat(l.midAngle,"-").concat(u)}),$.createElement(dR,os({option:m,isActive:d,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,c=i.animationDuration,l=i.animationEasing,u=i.animationId,d=this.state,h=d.prevSectors,m=d.prevIsAnimationActive;return $.createElement(ii,{begin:s,duration:c,isActive:o,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var v=y.t,b=[],w=a&&a[0],_=w.startAngle;return a.forEach(function(S,k){var A=h&&h[k],j=k>0?er(S,"paddingAngle",0):0;if(A){var E=Hn(A.endAngle-A.startAngle,S.endAngle-S.startAngle),N=Tt(Tt({},S),{},{startAngle:_+j,endAngle:_+E(v)+j});b.push(N),_=N.endAngle}else{var R=S.endAngle,q=S.startAngle,L=Hn(0,R-q),D=L(v),X=Tt(Tt({},S),{},{startAngle:_+j,endAngle:_+D+j});b.push(X),_=X.endAngle}}),$.createElement(ut,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Gu(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,c=i.label,l=i.cx,u=i.cy,d=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!o||!o.length||!ge(l)||!ge(u)||!ge(d)||!ge(h))return null;var v=Ge("recharts-pie",s);return $.createElement(ut,{tabIndex:this.props.rootTabIndex,className:v,ref:function(w){r.pieRef=w}},this.renderSectors(),c&&this.renderLabels(o),dn.renderCallByParent(this.props,null,!1),(!m||y)&&Ai.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if($.isValidElement(r))return $.cloneElement(r,i);if(Ue(r))return r(i);var o=Ge("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return $.createElement(Zf,os({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if($.isValidElement(r))return $.cloneElement(r,i);var o=a;if(Ue(r)&&(o=r(i),$.isValidElement(o)))return o;var s=Ge("recharts-pie-label-text",typeof r!="boolean"&&!Ue(r)?r.className:"");return $.createElement(vo,os({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(O.PureComponent);Qd=Ii;fr(Ii,"displayName","Pie");fr(Ii,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Qr.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});fr(Ii,"parseDeltaAngle",function(t,e){var n=Nn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});fr(Ii,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ie(t,!1),i=tr(n,Vu);return e&&e.length?e.map(function(a,o){return Tt(Tt(Tt({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Tt(Tt({},r),a.props)}):[]});fr(Ii,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=zI(i,a),s=r+$n(t.cx,i,i/2),c=n+$n(t.cy,a,a/2),l=$n(t.innerRadius,o,0),u=$n(t.outerRadius,o,o*.8),d=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:c,innerRadius:l,outerRadius:u,maxRadius:d}});fr(Ii,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Tt(Tt({},e.type.defaultProps),e.props):e.props,i=Qd.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,c=r.paddingAngle,l=r.dataKey,u=r.nameKey,d=r.valueKey,h=r.tooltipType,m=Math.abs(r.minAngle),y=Qd.parseCoordinateOfPie(r,n),v=Qd.parseDeltaAngle(o,s),b=Math.abs(v),w=l;Ke(l)&&Ke(d)?(Mr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Ke(l)&&(Mr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=d);var _=i.filter(function(N){return tn(N,w,0)!==0}).length,S=(b>=360?_:_-1)*c,k=b-_*m-S,A=i.reduce(function(N,R){var q=tn(R,w,0);return N+(ge(q)?q:0)},0),j;if(A>0){var E;j=i.map(function(N,R){var q=tn(N,w,0),L=tn(N,u,R),D=(ge(q)?q:0)/A,X;R?X=E.endAngle+Nn(v)*c*(q!==0?1:0):X=o;var ee=X+Nn(v)*((q!==0?m:0)+D*k),W=(X+ee)/2,Q=(y.innerRadius+y.outerRadius)/2,te=[{name:L,value:q,payload:N,dataKey:w,type:h}],ae=jt(y.cx,y.cy,Q,W);return E=Tt(Tt(Tt({percent:D,cornerRadius:a,name:L,tooltipPayload:te,midAngle:W,middleRadius:Q,tooltipPosition:ae},N),y),{},{value:tn(N,w),startAngle:X,endAngle:ee,payload:N,paddingAngle:Nn(v)*c}),E})}return Tt(Tt({},y),{},{sectors:j,data:i})});var upe=Math.ceil,dpe=Math.max;function fpe(t,e,n,r){for(var i=-1,a=dpe(upe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var hpe=fpe,ppe=N$,qT=1/0,mpe=17976931348623157e292;function gpe(t){if(!t)return t===0?t:0;if(t=ppe(t),t===qT||t===-qT){var e=t<0?-1:1;return e*mpe}return t===t?t:0}var pR=gpe,ype=hpe,vpe=vp,yg=pR;function bpe(t){return function(e,n,r){return r&&typeof r!="number"&&vpe(e,n,r)&&(n=r=void 0),e=yg(e),n===void 0?(n=e,e=0):n=yg(n),r=r===void 0?e<n?1:-1:yg(r),ype(e,n,r,t)}}var xpe=bpe,wpe=xpe,Spe=wpe(),_pe=Spe;const ch=gt(_pe);function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function KT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(n),!0).forEach(function(r){mR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mR(t,e,n){return e=Ape(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ape(t){var e=Tpe(t,"string");return pu(e)=="symbol"?e:e+""}function Tpe(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ope=["Webkit","Moz","O","ms"],jpe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Ope.reduce(function(a,o){return zT(zT({},a),{},mR({},o+r,n))},{});return i[e]=n,i};function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(this,arguments)}function WT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WT(Object(n),!0).forEach(function(r){zn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yR(r.key),r)}}function Ppe(t,e,n){return e&&GT(t.prototype,e),n&&GT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Epe(t,e,n){return e=uh(e),Cpe(t,gR()?Reflect.construct(e,n||[],uh(t).constructor):e.apply(t,n))}function Cpe(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Npe(t)}function Npe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gR=function(){return!!t})()}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uh(t)}function $pe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cv(t,e)}function Cv(t,e){return Cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cv(t,e)}function zn(t,e,n){return e=yR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yR(t){var e=Ipe(t,"string");return Ws(e)=="symbol"?e:e+""}function Ipe(t,e){if(Ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rpe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,l=yl().domain(ch(0,c)).range([a,a+o-s]),u=l.domain().map(function(d){return l(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(i),scale:l,scaleValues:u}},HT=function(e){return e.changedTouches&&!!e.changedTouches.length},Gs=function(t){function e(n){var r;return kpe(this,e),r=Epe(this,e,[n]),zn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),zn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),zn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),zn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),zn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),zn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),zn(r,"handleSlideDragStart",function(i){var a=HT(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return $pe(e,t),Ppe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,c=s.gap,l=s.data,u=l.length-1,d=Math.min(i,a),h=Math.max(i,a),m=e.getIndexInRange(o,d),y=e.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:y===u?u:y-y%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,c=tn(a[r],s,r);return Ue(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,c=this.props,l=c.x,u=c.width,d=c.travellerWidth,h=c.startIndex,m=c.endIndex,y=c.onChange,v=r.pageX-a;v>0?v=Math.min(v,l+u-d-s,l+u-d-o):v<0&&(v=Math.max(v,l-o,l-s));var b=this.getIndex({startX:o+v,endX:s+v});(b.startIndex!==h||b.endIndex!==m)&&y&&y(b),this.setState({startX:o+v,endX:s+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=HT(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,c=i.startX,l=this.state[o],u=this.props,d=u.x,h=u.width,m=u.travellerWidth,y=u.onChange,v=u.gap,b=u.data,w={startX:this.state.startX,endX:this.state.endX},_=r.pageX-a;_>0?_=Math.min(_,d+h-m-l):_<0&&(_=Math.max(_,d-l)),w[o]=l+_;var S=this.getIndex(w),k=S.startIndex,A=S.endIndex,j=function(){var N=b.length-1;return o==="startX"&&(s>c?k%v===0:A%v===0)||s<c&&A===N||o==="endX"&&(s>c?A%v===0:k%v===0)||s>c&&A===N};this.setState(zn(zn({},o,l+_),"brushMoveStartX",r.pageX),function(){y&&j()&&y(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,c=o.startX,l=o.endX,u=this.state[i],d=s.indexOf(u);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=l||i==="endX"&&m<=c||this.setState(zn({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,c=r.fill,l=r.stroke;return $.createElement("rect",{stroke:l,fill:c,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,c=r.data,l=r.children,u=r.padding,d=O.Children.only(l);return d?$.cloneElement(d,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,c=this.props,l=c.y,u=c.travellerWidth,d=c.height,h=c.traveller,m=c.ariaLabel,y=c.data,v=c.startIndex,b=c.endIndex,w=Math.max(r,this.props.x),_=vg(vg({},Ie(this.props,!1)),{},{x:w,y:l,width:u,height:d}),S=m||"Min value: ".concat((a=y[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[b])===null||o===void 0?void 0:o.name);return $.createElement(ut,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),s.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,c=a.stroke,l=a.travellerWidth,u=Math.min(r,i)+l,d=Math.max(Math.abs(i-r)-l,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,c=r.travellerWidth,l=r.stroke,u=this.state,d=u.startX,h=u.endX,m=5,y={pointerEvents:"none",fill:l};return $.createElement(ut,{className:"recharts-brush-texts"},$.createElement(vo,lh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-m,y:o+s/2},y),this.getTextOfTick(i)),$.createElement(vo,lh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+m,y:o+s/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,c=r.y,l=r.width,u=r.height,d=r.alwaysShowText,h=this.state,m=h.startX,y=h.endX,v=h.isTextActive,b=h.isSlideMoving,w=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!ge(s)||!ge(c)||!ge(l)||!ge(u)||l<=0||u<=0)return null;var S=Ge("recharts-brush",a),k=$.Children.count(o)===1,A=jpe("userSelect","none");return $.createElement(ut,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(v||b||w||_||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,c=r.stroke,l=Math.floor(a+s/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:a,width:o,height:s,fill:c,stroke:"none"}),$.createElement("line",{x1:i+1,y1:l,x2:i+o-1,y2:l,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:l+2,x2:i+o-1,y2:l+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return $.isValidElement(r)?a=$.cloneElement(r,i):Ue(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,c=r.travellerWidth,l=r.updateId,u=r.startIndex,d=r.endIndex;if(a!==i.prevData||l!==i.prevUpdateId)return vg({prevData:a,prevTravellerWidth:c,prevUpdateId:l,prevX:s,prevWidth:o},a&&a.length?Rpe({data:a,width:o,x:s,travellerWidth:c,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([s,s+o-c]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:l,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var c=Math.floor((o+s)/2);r[c]>i?s=c:o=c}return i>=r[s]?s:o}}])}(O.PureComponent);zn(Gs,"displayName","Brush");zn(Gs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Dpe=L0;function Mpe(t,e){var n;return Dpe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var Lpe=Mpe,Bpe=a$,Fpe=si,Upe=Lpe,Vpe=Bn,qpe=vp;function Kpe(t,e,n){var r=Vpe(t)?Bpe:Upe;return n&&qpe(t,e,n)&&(e=void 0),r(t,Fpe(e))}var zpe=Kpe;const Wpe=gt(zpe);var ti=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},YT=j$;function Gpe(t,e,n){e=="__proto__"&&YT?YT(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Hpe=Gpe,Ype=Hpe,Xpe=T$,Jpe=si;function Zpe(t,e){var n={};return e=Jpe(e),Xpe(t,function(r,i,a){Ype(n,i,e(r,i,a))}),n}var Qpe=Zpe;const eme=gt(Qpe);function tme(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var nme=tme,rme=L0;function ime(t,e){var n=!0;return rme(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var ame=ime,ome=nme,sme=ame,cme=si,lme=Bn,ume=vp;function dme(t,e,n){var r=lme(t)?ome:sme;return n&&ume(t,e,n)&&(e=void 0),r(t,cme(e))}var fme=dme;const vR=gt(fme);var hme=["x","y"];function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nv.apply(this,arguments)}function XT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function el(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(n),!0).forEach(function(r){pme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pme(t,e,n){return e=mme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mme(t){var e=gme(t,"string");return mu(e)=="symbol"?e:e+""}function gme(t,e){if(mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yme(t,e){if(t==null)return{};var n=vme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bme(t,e){var n=t.x,r=t.y,i=yme(t,hme),a="".concat(n),o=parseInt(a,10),s="".concat(r),c=parseInt(s,10),l="".concat(e.height||i.height),u=parseInt(l,10),d="".concat(e.width||i.width),h=parseInt(d,10);return el(el(el(el(el({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function JT(t){return $.createElement(dR,Nv({shapeType:"rectangle",propTransformer:bme,activeClassName:"recharts-active-bar"},t))}var xme=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=ge(r)||zH(r);return a?e(r,i):(a||xo(),n)}},wme=["value","background"],bR;function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function Sme(t,e){if(t==null)return{};var n=_me(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _me(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dh.apply(this,arguments)}function ZT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZT(Object(n),!0).forEach(function(r){aa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ame(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wR(r.key),r)}}function Tme(t,e,n){return e&&QT(t.prototype,e),n&&QT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ome(t,e,n){return e=fh(e),jme(t,xR()?Reflect.construct(e,n||[],fh(t).constructor):e.apply(t,n))}function jme(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kme(t)}function kme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xR=function(){return!!t})()}function fh(t){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fh(t)}function Pme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$v(t,e)}function $v(t,e){return $v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$v(t,e)}function aa(t,e,n){return e=wR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wR(t){var e=Eme(t,"string");return Hs(e)=="symbol"?e:e+""}function Eme(t,e){if(Hs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var da=function(t){function e(){var n;Ame(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ome(this,e,[].concat(i)),aa(n,"state",{isAnimationFinished:!1}),aa(n,"id",xc("recharts-bar-")),aa(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),aa(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Pme(e,t),Tme(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,c=a.activeIndex,l=a.activeBar,u=Ie(this.props,!1);return r&&r.map(function(d,h){var m=h===c,y=m?l:o,v=Gt(Gt(Gt({},u),d),{},{isActive:m,option:y,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(ut,dh({className:"recharts-bar-rectangle"},yo(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),$.createElement(JT,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,c=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state.prevData;return $.createElement(ii,{begin:c,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,v=a.map(function(b,w){var _=h&&h[w];if(_){var S=Hn(_.x,b.x),k=Hn(_.y,b.y),A=Hn(_.width,b.width),j=Hn(_.height,b.height);return Gt(Gt({},b),{},{x:S(y),y:k(y),width:A(y),height:j(y)})}if(o==="horizontal"){var E=Hn(0,b.height),N=E(y);return Gt(Gt({},b),{},{y:b.y+b.height-N,height:N})}var R=Hn(0,b.width),q=R(y);return Gt(Gt({},b),{},{width:q})});return $.createElement(ut,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Gu(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,c=Ie(this.props.background,!1);return a.map(function(l,u){l.value;var d=l.background,h=Sme(l,wme);if(!d)return null;var m=Gt(Gt(Gt(Gt(Gt({},h),{},{fill:"#eee"},d),c),yo(r.props,l,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return $.createElement(JT,dh({key:"background-bar-".concat(u),option:r.props.background,isActive:u===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,c=a.yAxis,l=a.layout,u=a.children,d=tr(u,Hu);if(!d)return null;var h=l==="vertical"?o[0].height/2:o[0].width/2,m=function(b,w){var _=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:_,errorVal:tn(b,w)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(ut,y,d.map(function(v){return $.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:o,xAxis:s,yAxis:c,layout:l,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,c=r.yAxis,l=r.left,u=r.top,d=r.width,h=r.height,m=r.isAnimationActive,y=r.background,v=r.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,w=Ge("recharts-bar",o),_=s&&s.allowDataOverflow,S=c&&c.allowDataOverflow,k=_||S,A=Ke(v)?this.id:v;return $.createElement(ut,{className:w},_||S?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(A)},$.createElement("rect",{x:_?l:l-d/2,y:S?u:u-h/2,width:_?d:d*2,height:S?h:h*2}))):null,$.createElement(ut,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(A,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,A),(!m||b)&&Ai.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(O.PureComponent);bR=da;aa(da,"displayName","Bar");aa(da,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Qr.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});aa(da,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,c=t.yAxisTicks,l=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,m=ule(r,n);if(!m)return null;var y=e.layout,v=n.type.defaultProps,b=v!==void 0?Gt(Gt({},v),n.props):n.props,w=b.dataKey,_=b.children,S=b.minPointSize,k=y==="horizontal"?o:a,A=l?k.scale.domain():null,j=yle({numericAxis:k}),E=tr(_,Vu),N=d.map(function(R,q){var L,D,X,ee,W,Q;l?L=dle(l[u+q],A):(L=tn(R,w),Array.isArray(L)||(L=[j,L]));var te=xme(S,bR.defaultProps.minPointSize)(L[1],q);if(y==="horizontal"){var ae,re=[o.scale(L[0]),o.scale(L[1])],de=re[0],_e=re[1];D=VA({axis:a,ticks:s,bandSize:i,offset:m.offset,entry:R,index:q}),X=(ae=_e??de)!==null&&ae!==void 0?ae:void 0,ee=m.size;var ue=de-_e;if(W=Number.isNaN(ue)?0:ue,Q={x:D,y:o.y,width:ee,height:o.height},Math.abs(te)>0&&Math.abs(W)<Math.abs(te)){var pe=Nn(W||te)*(Math.abs(te)-Math.abs(W));X-=pe,W+=pe}}else{var Ce=[a.scale(L[0]),a.scale(L[1])],Ee=Ce[0],Qe=Ce[1];if(D=Ee,X=VA({axis:o,ticks:c,bandSize:i,offset:m.offset,entry:R,index:q}),ee=Qe-Ee,W=m.size,Q={x:a.x,y:X,width:a.width,height:W},Math.abs(te)>0&&Math.abs(ee)<Math.abs(te)){var be=Nn(ee||te)*(Math.abs(te)-Math.abs(ee));ee+=be}}return Gt(Gt(Gt({},R),{},{x:D,y:X,width:ee,height:W,value:l?L:L[1],payload:R,background:Q},E&&E[q]&&E[q].props),{},{tooltipPayload:[qI(n,R)],tooltipPosition:{x:D+ee/2,y:X+W/2}})});return Gt({data:N,layout:y},h)});function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function Cme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SR(r.key),r)}}function Nme(t,e,n){return e&&eO(t.prototype,e),n&&eO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(n),!0).forEach(function(r){Mp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mp(t,e,n){return e=SR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SR(t){var e=$me(t,"string");return gu(e)=="symbol"?e:e+""}function $me(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _R=function(e,n,r,i,a){var o=e.width,s=e.height,c=e.layout,l=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Gn(l,da);return u.reduce(function(m,y){var v=n[y],b=v.orientation,w=v.domain,_=v.padding,S=_===void 0?{}:_,k=v.mirror,A=v.reversed,j="".concat(b).concat(k?"Mirror":""),E,N,R,q,L;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var D=w[1]-w[0],X=1/0,ee=v.categoricalDomain.sort(HH);if(ee.forEach(function(Ce,Ee){Ee>0&&(X=Math.min((Ce||0)-(ee[Ee-1]||0),X))}),Number.isFinite(X)){var W=X/D,Q=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(E=W*Q/2),v.padding==="no-gap"){var te=$n(e.barCategoryGap,W*Q),ae=W*Q/2;E=ae-te-(ae-te)/Q*te}}}i==="xAxis"?N=[r.left+(S.left||0)+(E||0),r.left+r.width-(S.right||0)-(E||0)]:i==="yAxis"?N=c==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(E||0),r.top+r.height-(S.bottom||0)-(E||0)]:N=v.range,A&&(N=[N[1],N[0]]);var re=BI(v,a,h),de=re.scale,_e=re.realScaleType;de.domain(w).range(N),FI(de);var ue=UI(de,$r($r({},v),{},{realScaleType:_e}));i==="xAxis"?(L=b==="top"&&!k||b==="bottom"&&k,R=r.left,q=d[j]-L*v.height):i==="yAxis"&&(L=b==="left"&&!k||b==="right"&&k,R=d[j]-L*v.width,q=r.top);var pe=$r($r($r({},v),ue),{},{realScaleType:_e,x:R,y:q,scale:de,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return pe.bandSize=Yf(pe,ue),!v.hide&&i==="xAxis"?d[j]+=(L?-1:1)*pe.height:v.hide||(d[j]+=(L?-1:1)*pe.width),$r($r({},m),{},Mp({},y,pe))},{})},AR=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Ime=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return AR({x:n,y:r},{x:i,y:a})},TR=function(){function t(e){Cme(this,t),this.scale=e}return Nme(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Mp(TR,"EPS",1e-4);var px=function(e){var n=Object.keys(e).reduce(function(r,i){return $r($r({},r),{},Mp({},i,TR.create(e[i])))},{});return $r($r({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return eme(i,function(c,l){return n[l].apply(c,{bandAware:o,position:s})})},isInRange:function(i){return vR(i,function(a,o){return n[o].isInRange(a)})}})};function Rme(t){return(t%180+180)%180}var Dme=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Rme(i),o=a*Math.PI/180,s=Math.atan(r/n),c=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},Mme=si,Lme=Uu,Bme=gp;function Fme(t){return function(e,n,r){var i=Object(e);if(!Lme(e)){var a=Mme(n);e=Bme(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var Ume=Fme,Vme=pR;function qme(t){var e=Vme(t),n=e%1;return e===e?n?e-n:e:0}var Kme=qme,zme=b$,Wme=si,Gme=Kme,Hme=Math.max;function Yme(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Gme(n);return i<0&&(i=Hme(r+i,0)),zme(t,Wme(e),i)}var Xme=Yme,Jme=Ume,Zme=Xme,Qme=Jme(Zme),ege=Qme;const tge=gt(ege);var nge=YG(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),mx=O.createContext(void 0),gx=O.createContext(void 0),OR=O.createContext(void 0),jR=O.createContext({}),kR=O.createContext(void 0),PR=O.createContext(0),ER=O.createContext(0),nO=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,c=e.width,l=e.height,u=nge(a);return $.createElement(mx.Provider,{value:r},$.createElement(gx.Provider,{value:i},$.createElement(jR.Provider,{value:a},$.createElement(OR.Provider,{value:u},$.createElement(kR.Provider,{value:o},$.createElement(PR.Provider,{value:l},$.createElement(ER.Provider,{value:c},s)))))))},rge=function(){return O.useContext(kR)},CR=function(e){var n=O.useContext(mx);n==null&&xo();var r=n[e];return r==null&&xo(),r},ige=function(){var e=O.useContext(mx);return Zi(e)},age=function(){var e=O.useContext(gx),n=tge(e,function(r){return vR(r.domain,Number.isFinite)});return n||Zi(e)},NR=function(e){var n=O.useContext(gx);n==null&&xo();var r=n[e];return r==null&&xo(),r},oge=function(){var e=O.useContext(OR);return e},sge=function(){return O.useContext(jR)},yx=function(){return O.useContext(ER)},vx=function(){return O.useContext(PR)};function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function cge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IR(r.key),r)}}function uge(t,e,n){return e&&lge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dge(t,e,n){return e=hh(e),fge(t,$R()?Reflect.construct(e,n||[],hh(t).constructor):e.apply(t,n))}function fge(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hge(t)}function hge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $R(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($R=function(){return!!t})()}function hh(t){return hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hh(t)}function pge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iv(t,e)}function Iv(t,e){return Iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Iv(t,e)}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){bx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bx(t,e,n){return e=IR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IR(t){var e=mge(t,"string");return Ys(e)=="symbol"?e:e+""}function mge(t,e){if(Ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gge(t,e){return xge(t)||bge(t,e)||vge(t,e)||yge()}function yge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vge(t,e){if(t){if(typeof t=="string")return aO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aO(t,e)}}function aO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function xge(t){if(Array.isArray(t))return t}function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(this,arguments)}var wge=function(e,n){var r;return $.isValidElement(e)?r=$.cloneElement(e,n):Ue(e)?r=e(n):r=$.createElement("line",Rv({},n,{className:"recharts-reference-line-line"})),r},Sge=function(e,n,r,i,a,o,s,c,l){var u=a.x,d=a.y,h=a.width,m=a.height;if(r){var y=l.y,v=e.y.apply(y,{position:o});if(ti(l,"discard")&&!e.y.isInRange(v))return null;var b=[{x:u+h,y:v},{x:u,y:v}];return c==="left"?b.reverse():b}if(n){var w=l.x,_=e.x.apply(w,{position:o});if(ti(l,"discard")&&!e.x.isInRange(_))return null;var S=[{x:_,y:d+m},{x:_,y:d}];return s==="top"?S.reverse():S}if(i){var k=l.segment,A=k.map(function(j){return e.apply(j,{position:o})});return ti(l,"discard")&&Wpe(A,function(j){return!e.isInRange(j)})?null:A}return null};function _ge(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,c=t.alwaysShow,l=rge(),u=CR(i),d=NR(a),h=oge();if(!l||!h)return null;Mr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=px({x:u.scale,y:d.scale}),y=nn(e),v=nn(n),b=r&&r.length===2,w=Sge(m,y,v,b,h,t.position,u.orientation,d.orientation,t);if(!w)return null;var _=gge(w,2),S=_[0],k=S.x,A=S.y,j=_[1],E=j.x,N=j.y,R=ti(t,"hidden")?"url(#".concat(l,")"):void 0,q=iO(iO({clipPath:R},Ie(t,!0)),{},{x1:k,y1:A,x2:E,y2:N});return $.createElement(ut,{className:Ge("recharts-reference-line",s)},wge(o,q),dn.renderCallByParent(t,Ime({x1:k,y1:A,x2:E,y2:N})))}var xx=function(t){function e(){return cge(this,e),dge(this,e,arguments)}return pge(e,t),uge(e,[{key:"render",value:function(){return $.createElement(_ge,this.props)}}])}($.Component);bx(xx,"displayName","ReferenceLine");bx(xx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dv.apply(this,arguments)}function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(r){Lp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Age(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DR(r.key),r)}}function Oge(t,e,n){return e&&Tge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jge(t,e,n){return e=ph(e),kge(t,RR()?Reflect.construct(e,n||[],ph(t).constructor):e.apply(t,n))}function kge(t,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pge(t)}function Pge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RR=function(){return!!t})()}function ph(t){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ph(t)}function Ege(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mv(t,e)}function Mv(t,e){return Mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mv(t,e)}function Lp(t,e,n){return e=DR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DR(t){var e=Cge(t,"string");return Xs(e)=="symbol"?e:e+""}function Cge(t,e){if(Xs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nge=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=px({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return ti(e,"discard")&&!o.isInRange(s)?null:s},Bp=function(t){function e(){return Age(this,e),jge(this,e,arguments)}return Ege(e,t),Oge(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,c=r.clipPathId,l=nn(i),u=nn(a);if(Mr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!u)return null;var d=Nge(this.props);if(!d)return null;var h=d.x,m=d.y,y=this.props,v=y.shape,b=y.className,w=ti(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=sO(sO({clipPath:w},Ie(this.props,!0)),{},{cx:h,cy:m});return $.createElement(ut,{className:Ge("recharts-reference-dot",b)},e.renderDot(v,_),dn.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}($.Component);Lp(Bp,"displayName","ReferenceDot");Lp(Bp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Lp(Bp,"renderDot",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):Ue(t)?n=t(e):n=$.createElement(Ep,Dv({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(this,arguments)}function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){Fp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ige(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LR(r.key),r)}}function Rge(t,e,n){return e&&Ige(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dge(t,e,n){return e=mh(e),Mge(t,MR()?Reflect.construct(e,n||[],mh(t).constructor):e.apply(t,n))}function Mge(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lge(t)}function Lge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MR=function(){return!!t})()}function mh(t){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mh(t)}function Bge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bv(t,e)}function Bv(t,e){return Bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bv(t,e)}function Fp(t,e,n){return e=LR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LR(t){var e=Fge(t,"string");return Js(e)=="symbol"?e:e+""}function Fge(t,e){if(Js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uge=function(e,n,r,i,a){var o=a.x1,s=a.x2,c=a.y1,l=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var h=px({x:u.scale,y:d.scale}),m={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(l,{position:"end"}):h.y.rangeMax};return ti(a,"discard")&&(!h.isInRange(m)||!h.isInRange(y))?null:AR(m,y)},Up=function(t){function e(){return $ge(this,e),Dge(this,e,arguments)}return Bge(e,t),Rge(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,c=r.className,l=r.alwaysShow,u=r.clipPathId;Mr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=nn(i),h=nn(a),m=nn(o),y=nn(s),v=this.props.shape;if(!d&&!h&&!m&&!y&&!v)return null;var b=Uge(d,h,m,y,this.props);if(!b&&!v)return null;var w=ti(this.props,"hidden")?"url(#".concat(u,")"):void 0;return $.createElement(ut,{className:Ge("recharts-reference-area",c)},e.renderRect(v,lO(lO({clipPath:w},Ie(this.props,!0)),b)),dn.renderCallByParent(this.props,b))}}])}($.Component);Fp(Up,"displayName","ReferenceArea");Fp(Up,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Fp(Up,"renderRect",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):Ue(t)?n=t(e):n=$.createElement(hx,Lv({},e,{className:"recharts-reference-area-rect"})),n});function BR(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Vge(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Dme(r,n)}function qge(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function gh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Kge(t,e){return BR(t,e+1)}function zge(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,c=0,l=1,u=o,d=function(){var y=r==null?void 0:r[c];if(y===void 0)return{v:BR(r,l)};var v=c,b,w=function(){return b===void 0&&(b=n(y,v)),b},_=y.coordinate,S=c===0||gh(t,_,w,u,s);S||(c=0,u=o,l+=1),S&&(u=_+t*(w()/2+i),c+=l)},h;l<=a.length;)if(h=d(),h)return h.v;return[]}function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function uO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(n),!0).forEach(function(r){Wge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wge(t,e,n){return e=Gge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gge(t){var e=Hge(t,"string");return yu(e)=="symbol"?e:e+""}function Hge(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yge(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,c=e.end,l=function(h){var m=a[h],y,v=function(){return y===void 0&&(y=n(m,h)),y};if(h===o-1){var b=t*(m.coordinate+t*v()/2-c);a[h]=m=_n(_n({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate})}else a[h]=m=_n(_n({},m),{},{tickCoord:m.coordinate});var w=gh(t,m.tickCoord,v,s,c);w&&(c=m.tickCoord-t*(v()/2+i),a[h]=_n(_n({},m),{},{isShow:!0}))},u=o-1;u>=0;u--)l(u);return a}function Xge(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,c=e.start,l=e.end;if(a){var u=r[s-1],d=n(u,s-1),h=t*(u.coordinate+t*d/2-l);o[s-1]=u=_n(_n({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var m=gh(t,u.tickCoord,function(){return d},c,l);m&&(l=u.tickCoord-t*(d/2+i),o[s-1]=_n(_n({},u),{},{isShow:!0}))}for(var y=a?s-1:s,v=function(_){var S=o[_],k,A=function(){return k===void 0&&(k=n(S,_)),k};if(_===0){var j=t*(S.coordinate-t*A()/2-c);o[_]=S=_n(_n({},S),{},{tickCoord:j<0?S.coordinate-j*t:S.coordinate})}else o[_]=S=_n(_n({},S),{},{tickCoord:S.coordinate});var E=gh(t,S.tickCoord,A,c,l);E&&(c=S.tickCoord+t*(A()/2+i),o[_]=_n(_n({},S),{},{isShow:!0}))},b=0;b<y;b++)v(b);return o}function wx(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,c=t.interval,l=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(ge(c)||Qr.isSsr)return Kge(i,typeof c=="number"&&ge(c)?c:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",y=u&&m==="width"?gl(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(S,k){var A=Ue(l)?l(S.value,k):S.value;return m==="width"?Vge(gl(A,{fontSize:e,letterSpacing:n}),y,d):gl(A,{fontSize:e,letterSpacing:n})[m]},b=i.length>=2?Nn(i[1].coordinate-i[0].coordinate):1,w=qge(a,b,m);return c==="equidistantPreserveStart"?zge(b,w,v,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=Xge(b,w,v,i,o,c==="preserveStartEnd"):h=Yge(b,w,v,i,o),h.filter(function(_){return _.isShow}))}var Jge=["viewBox"],Zge=["viewBox"],Qge=["ticks"];function Zs(t){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}function ss(){return ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ss.apply(this,arguments)}function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(r){Sx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bg(t,e){if(t==null)return{};var n=eye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UR(r.key),r)}}function nye(t,e,n){return e&&fO(t.prototype,e),n&&fO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rye(t,e,n){return e=yh(e),iye(t,FR()?Reflect.construct(e,n||[],yh(t).constructor):e.apply(t,n))}function iye(t,e){if(e&&(Zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aye(t)}function aye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FR=function(){return!!t})()}function yh(t){return yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yh(t)}function oye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fv(t,e)}function Fv(t,e){return Fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fv(t,e)}function Sx(t,e,n){return e=UR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UR(t){var e=sye(t,"string");return Zs(e)=="symbol"?e:e+""}function sye(t,e){if(Zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jc=function(t){function e(n){var r;return tye(this,e),r=rye(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return oye(e,t),nye(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=bg(r,Jge),s=this.props,c=s.viewBox,l=bg(s,Zge);return!gs(a,c)||!gs(o,l)||!gs(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,c=i.height,l=i.orientation,u=i.tickSize,d=i.mirror,h=i.tickMargin,m,y,v,b,w,_,S=d?-1:1,k=r.tickSize||u,A=ge(r.tickCoord)?r.tickCoord:r.coordinate;switch(l){case"top":m=y=r.coordinate,b=o+ +!d*c,v=b-S*k,_=v-S*h,w=A;break;case"left":v=b=r.coordinate,y=a+ +!d*s,m=y-S*k,w=m-S*h,_=A;break;case"right":v=b=r.coordinate,y=a+ +d*s,m=y+S*k,w=m+S*h,_=A;break;default:m=y=r.coordinate,b=o+ +d*c,v=b+S*k,_=v+S*h,w=A;break}return{line:{x1:m,y1:v,x2:y,y2:b},tick:{x:w,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,c=r.orientation,l=r.mirror,u=r.axisLine,d=Jt(Jt(Jt({},Ie(this.props,!1)),Ie(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!l||c==="bottom"&&l);d=Jt(Jt({},d),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var m=+(c==="left"&&!l||c==="right"&&l);d=Jt(Jt({},d),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+s})}return $.createElement("line",ss({},d,{className:Ge("recharts-cartesian-axis-line",er(u,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,c=s.tickLine,l=s.stroke,u=s.tick,d=s.tickFormatter,h=s.unit,m=wx(Jt(Jt({},this.props),{},{ticks:r}),i,a),y=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),b=Ie(this.props,!1),w=Ie(u,!1),_=Jt(Jt({},b),{},{fill:"none"},Ie(c,!1)),S=m.map(function(k,A){var j=o.getTickLineCoord(k),E=j.line,N=j.tick,R=Jt(Jt(Jt(Jt({textAnchor:y,verticalAnchor:v},b),{},{stroke:"none",fill:l},w),N),{},{index:A,payload:k,visibleTicksCount:m.length,tickFormatter:d});return $.createElement(ut,ss({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},yo(o.props,k,A)),c&&$.createElement("line",ss({},_,E,{className:Ge("recharts-cartesian-axis-tick-line",er(c,"className"))})),u&&e.renderTickItem(u,R,"".concat(Ue(d)?d(k.value,A):k.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,c=i.ticksGenerator,l=i.className,u=i.hide;if(u)return null;var d=this.props,h=d.ticks,m=bg(d,Qge),y=h;return Ue(c)&&(y=h&&h.length>0?c(this.props):c(m)),o<=0||s<=0||!y||!y.length?null:$.createElement(ut,{className:Ge("recharts-cartesian-axis",l),ref:function(b){r.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),dn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=Ge(i.className,"recharts-cartesian-axis-tick-value");return $.isValidElement(r)?o=$.cloneElement(r,Jt(Jt({},i),{},{className:s})):Ue(r)?o=r(Jt(Jt({},i),{},{className:s})):o=$.createElement(vo,ss({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(O.Component);Sx(jc,"displayName","CartesianAxis");Sx(jc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var cye=["x1","y1","x2","y2","key"],lye=["offset"];function wo(t){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(t)}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){uye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uye(t,e,n){return e=dye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dye(t){var e=fye(t,"string");return wo(e)=="symbol"?e:e+""}function fye(t,e){if(wo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function to(){return to=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},to.apply(this,arguments)}function pO(t,e){if(t==null)return{};var n=hye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var pye=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,c=e.ry;return $.createElement("rect",{x:i,y:a,ry:c,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function VR(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(Ue(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,c=pO(e,cye),l=Ie(c,!1);l.offset;var u=pO(l,lye);n=$.createElement("line",to({},u,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function mye(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,c){var l=An(An({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(c),index:c});return VR(i,l)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function gye(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,c){var l=An(An({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(c),index:c});return VR(i,l)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function yye(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,c=t.horizontal,l=c===void 0?!0:c;if(!l||!e||!e.length)return null;var u=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==u[0]&&u.unshift(0);var d=u.map(function(h,m){var y=!u[m+1],v=y?i+o-h:u[m+1]-h;if(v<=0)return null;var b=m%e.length;return $.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:v,width:a,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function vye(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,c=t.height,l=t.verticalPoints;if(!n||!r||!r.length)return null;var u=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==u[0]&&u.unshift(0);var d=u.map(function(h,m){var y=!u[m+1],v=y?a+s-h:u[m+1]-h;if(v<=0)return null;var b=m%r.length;return $.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:v,height:c,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var bye=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return LI(wx(An(An(An({},jc.defaultProps),r),{},{ticks:bi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},xye=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return LI(wx(An(An(An({},jc.defaultProps),r),{},{ticks:bi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Wo={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function _x(t){var e,n,r,i,a,o,s=yx(),c=vx(),l=sge(),u=An(An({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Wo.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Wo.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Wo.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Wo.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Wo.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Wo.verticalFill,x:ge(t.x)?t.x:l.left,y:ge(t.y)?t.y:l.top,width:ge(t.width)?t.width:l.width,height:ge(t.height)?t.height:l.height}),d=u.x,h=u.y,m=u.width,y=u.height,v=u.syncWithTicks,b=u.horizontalValues,w=u.verticalValues,_=ige(),S=age();if(!ge(m)||m<=0||!ge(y)||y<=0||!ge(d)||d!==+d||!ge(h)||h!==+h)return null;var k=u.verticalCoordinatesGenerator||bye,A=u.horizontalCoordinatesGenerator||xye,j=u.horizontalPoints,E=u.verticalPoints;if((!j||!j.length)&&Ue(A)){var N=b&&b.length,R=A({yAxis:S?An(An({},S),{},{ticks:N?b:S.ticks}):void 0,width:s,height:c,offset:l},N?!0:v);Mr(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wo(R),"]")),Array.isArray(R)&&(j=R)}if((!E||!E.length)&&Ue(k)){var q=w&&w.length,L=k({xAxis:_?An(An({},_),{},{ticks:q?w:_.ticks}):void 0,width:s,height:c,offset:l},q?!0:v);Mr(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wo(L),"]")),Array.isArray(L)&&(E=L)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(pye,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),$.createElement(mye,to({},u,{offset:l,horizontalPoints:j,xAxis:_,yAxis:S})),$.createElement(gye,to({},u,{offset:l,verticalPoints:E,xAxis:_,yAxis:S})),$.createElement(yye,to({},u,{horizontalPoints:j})),$.createElement(vye,to({},u,{verticalPoints:E})))}_x.displayName="CartesianGrid";var wye=["type","layout","connectNulls","ref"],Sye=["key"];function Qs(t){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(t)}function mO(t,e){if(t==null)return{};var n=_ye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _ye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sl(){return Sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sl.apply(this,arguments)}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){Ir(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Go(t){return jye(t)||Oye(t)||Tye(t)||Aye()}function Aye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tye(t,e){if(t){if(typeof t=="string")return Uv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uv(t,e)}}function Oye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jye(t){if(Array.isArray(t))return Uv(t)}function Uv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KR(r.key),r)}}function Pye(t,e,n){return e&&yO(t.prototype,e),n&&yO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eye(t,e,n){return e=vh(e),Cye(t,qR()?Reflect.construct(e,n||[],vh(t).constructor):e.apply(t,n))}function Cye(t,e){if(e&&(Qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nye(t)}function Nye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qR=function(){return!!t})()}function vh(t){return vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vh(t)}function $ye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vv(t,e)}function Vv(t,e){return Vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vv(t,e)}function Ir(t,e,n){return e=KR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KR(t){var e=Iye(t,"string");return Qs(e)=="symbol"?e:e+""}function Iye(t,e){if(Qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ec=function(t){function e(){var n;kye(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Eye(this,e,[].concat(i)),Ir(n,"state",{isAnimationFinished:!0,totalLength:0}),Ir(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),Ir(n,"getStrokeDasharray",function(o,s,c){var l=c.reduce(function(w,_){return w+_});if(!l)return n.generateSimpleStrokeDasharray(s,o);for(var u=Math.floor(o/l),d=o%l,h=s-o,m=[],y=0,v=0;y<c.length;v+=c[y],++y)if(v+c[y]>d){m=[].concat(Go(c.slice(0,y)),[d-v]);break}var b=m.length%2===0?[0,h]:[h];return[].concat(Go(e.repeat(c,u)),Go(m),b).map(function(w){return"".concat(w,"px")}).join(", ")}),Ir(n,"id",xc("recharts-line-")),Ir(n,"pathRef",function(o){n.mainCurve=o}),Ir(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ir(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return $ye(e,t),Pye(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,c=a.yAxis,l=a.layout,u=a.children,d=tr(u,Hu);if(!d)return null;var h=function(v,b){return{x:v.x,y:v.y,value:v.value,errorVal:tn(v.payload,b)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(ut,m,d.map(function(y){return $.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:s,yAxis:c,layout:l,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.dot,l=s.points,u=s.dataKey,d=Ie(this.props,!1),h=Ie(c,!0),m=l.map(function(v,b){var w=Kn(Kn(Kn({key:"dot-".concat(b),r:3},d),h),{},{index:b,cx:v.x,cy:v.y,value:v.value,dataKey:u,payload:v.payload,points:l});return e.renderDotItem(c,w)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return $.createElement(ut,Sl({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,c=s.type,l=s.layout,u=s.connectNulls;s.ref;var d=mO(s,wye),h=Kn(Kn(Kn({},Ie(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:c,layout:l,connectNulls:u});return $.createElement(Zf,Sl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,c=o.strokeDasharray,l=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,h=o.animationEasing,m=o.animationId,y=o.animateNewValues,v=o.width,b=o.height,w=this.state,_=w.prevPoints,S=w.totalLength;return $.createElement(ii,{begin:u,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var A=k.t;if(_){var j=_.length/s.length,E=s.map(function(D,X){var ee=Math.floor(X*j);if(_[ee]){var W=_[ee],Q=Hn(W.x,D.x),te=Hn(W.y,D.y);return Kn(Kn({},D),{},{x:Q(A),y:te(A)})}if(y){var ae=Hn(v*2,D.x),re=Hn(b/2,D.y);return Kn(Kn({},D),{},{x:ae(A),y:re(A)})}return Kn(Kn({},D),{},{x:D.x,y:D.y})});return a.renderCurveStatically(E,r,i)}var N=Hn(0,S),R=N(A),q;if(c){var L="".concat(c).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});q=a.getStrokeDasharray(R,S,L)}else q=a.generateSimpleStrokeDasharray(S,R);return a.renderCurveStatically(s,r,i,{strokeDasharray:q})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,c=this.state,l=c.prevPoints,u=c.totalLength;return s&&o&&o.length&&(!l&&u>0||!Gu(l,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,c=i.className,l=i.xAxis,u=i.yAxis,d=i.top,h=i.left,m=i.width,y=i.height,v=i.isAnimationActive,b=i.id;if(a||!s||!s.length)return null;var w=this.state.isAnimationFinished,_=s.length===1,S=Ge("recharts-line",c),k=l&&l.allowDataOverflow,A=u&&u.allowDataOverflow,j=k||A,E=Ke(b)?this.id:b,N=(r=Ie(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},R=N.r,q=R===void 0?3:R,L=N.strokeWidth,D=L===void 0?2:L,X=r7(o)?o:{},ee=X.clipDot,W=ee===void 0?!0:ee,Q=q*2+D;return $.createElement(ut,{className:S},k||A?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(E)},$.createElement("rect",{x:k?h:h-m/2,y:A?d:d-y/2,width:k?m:m*2,height:A?y:y*2})),!W&&$.createElement("clipPath",{id:"clipPath-dots-".concat(E)},$.createElement("rect",{x:h-Q/2,y:d-Q/2,width:m+Q,height:y+Q}))):null,!_&&this.renderCurve(j,E),this.renderErrorBar(j,E),(_||o)&&this.renderDots(j,W,E),(!v||w)&&Ai.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Go(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(Go(o),Go(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if($.isValidElement(r))a=$.cloneElement(r,i);else if(Ue(r))a=r(i);else{var o=i.key,s=mO(i,Sye),c=Ge("recharts-line-dot",typeof r!="boolean"?r.className:"");a=$.createElement(Ep,Sl({key:o},s,{className:c}))}return a}}])}(O.PureComponent);Ir(ec,"displayName","Line");Ir(ec,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Qr.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ir(ec,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,c=t.displayedData,l=t.offset,u=e.layout,d=c.map(function(h,m){var y=tn(h,o);return u==="horizontal"?{x:UA({axis:n,ticks:i,bandSize:s,entry:h,index:m}),y:Ke(y)?null:r.scale(y),value:y,payload:h}:{x:Ke(y)?null:n.scale(y),y:UA({axis:r,ticks:a,bandSize:s,entry:h,index:m}),value:y,payload:h}});return Kn({points:d,layout:u},l)});function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function Rye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GR(r.key),r)}}function Mye(t,e,n){return e&&Dye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lye(t,e,n){return e=bh(e),Bye(t,zR()?Reflect.construct(e,n||[],bh(t).constructor):e.apply(t,n))}function Bye(t,e){if(e&&(tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fye(t)}function Fye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zR=function(){return!!t})()}function bh(t){return bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bh(t)}function Uye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qv(t,e)}function qv(t,e){return qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qv(t,e)}function WR(t,e,n){return e=GR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GR(t){var e=Vye(t,"string");return tc(e)=="symbol"?e:e+""}function Vye(t,e){if(tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kv.apply(this,arguments)}function qye(t){var e=t.xAxisId,n=yx(),r=vx(),i=CR(e);return i==null?null:O.createElement(jc,Kv({},i,{className:Ge("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return bi(o,!0)}}))}var kc=function(t){function e(){return Rye(this,e),Lye(this,e,arguments)}return Uye(e,t),Mye(e,[{key:"render",value:function(){return O.createElement(qye,this.props)}}])}(O.Component);WR(kc,"displayName","XAxis");WR(kc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function Kye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XR(r.key),r)}}function Wye(t,e,n){return e&&zye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gye(t,e,n){return e=xh(e),Hye(t,HR()?Reflect.construct(e,n||[],xh(t).constructor):e.apply(t,n))}function Hye(t,e){if(e&&(nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yye(t)}function Yye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HR=function(){return!!t})()}function xh(t){return xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xh(t)}function Xye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zv(t,e)}function zv(t,e){return zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zv(t,e)}function YR(t,e,n){return e=XR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XR(t){var e=Jye(t,"string");return nc(e)=="symbol"?e:e+""}function Jye(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wv.apply(this,arguments)}var Zye=function(e){var n=e.yAxisId,r=yx(),i=vx(),a=NR(n);return a==null?null:O.createElement(jc,Wv({},a,{className:Ge("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return bi(s,!0)}}))},Pc=function(t){function e(){return Kye(this,e),Gye(this,e,arguments)}return Xye(e,t),Wye(e,[{key:"render",value:function(){return O.createElement(Zye,this.props)}}])}(O.Component);YR(Pc,"displayName","YAxis");YR(Pc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function vO(t){return nve(t)||tve(t)||eve(t)||Qye()}function Qye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eve(t,e){if(t){if(typeof t=="string")return Gv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gv(t,e)}}function tve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nve(t){if(Array.isArray(t))return Gv(t)}function Gv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hv=function(e,n,r,i,a){var o=tr(e,xx),s=tr(e,Bp),c=[].concat(vO(o),vO(s)),l=tr(e,Up),u="".concat(i,"Id"),d=i[0],h=n;if(c.length&&(h=c.reduce(function(v,b){if(b.props[u]===r&&ti(b.props,"extendDomain")&&ge(b.props[d])){var w=b.props[d];return[Math.min(v[0],w),Math.max(v[1],w)]}return v},h)),l.length){var m="".concat(d,"1"),y="".concat(d,"2");h=l.reduce(function(v,b){if(b.props[u]===r&&ti(b.props,"extendDomain")&&ge(b.props[m])&&ge(b.props[y])){var w=b.props[m],_=b.props[y];return[Math.min(v[0],w,_),Math.max(v[1],w,_)]}return v},h)}return a&&a.length&&(h=a.reduce(function(v,b){return ge(b)?[Math.min(v[0],b),Math.max(v[1],b)]:v},h)),h},JR={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function a(c,l,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new i(u,d||c,h),y=n?n+l:l;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,y=new Array(m);h<m;h++)y[h]=d[h].fn;return y},s.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,u,d,h,m,y){var v=n?n+l:l;if(!this._events[v])return!1;var b=this._events[v],w=arguments.length,_,S;if(b.fn){switch(b.once&&this.removeListener(l,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,d),!0;case 4:return b.fn.call(b.context,u,d,h),!0;case 5:return b.fn.call(b.context,u,d,h,m),!0;case 6:return b.fn.call(b.context,u,d,h,m,y),!0}for(S=1,_=new Array(w-1);S<w;S++)_[S-1]=arguments[S];b.fn.apply(b.context,_)}else{var k=b.length,A;for(S=0;S<k;S++)switch(b[S].once&&this.removeListener(l,b[S].fn,void 0,!0),w){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,u);break;case 3:b[S].fn.call(b[S].context,u,d);break;case 4:b[S].fn.call(b[S].context,u,d,h);break;default:if(!_)for(A=1,_=new Array(w-1);A<w;A++)_[A-1]=arguments[A];b[S].fn.apply(b[S].context,_)}}return!0},s.prototype.on=function(l,u,d){return a(this,l,u,d,!1)},s.prototype.once=function(l,u,d){return a(this,l,u,d,!0)},s.prototype.removeListener=function(l,u,d,h){var m=n?n+l:l;if(!this._events[m])return this;if(!u)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===u&&(!h||y.once)&&(!d||y.context===d)&&o(this,m);else{for(var v=0,b=[],w=y.length;v<w;v++)(y[v].fn!==u||h&&!y[v].once||d&&y[v].context!==d)&&b.push(y[v]);b.length?this._events[m]=b.length===1?b[0]:b:o(this,m)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(JR);var rve=JR.exports;const ive=gt(rve);var xg=new ive,wg="recharts.syncMouseEvents";function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function ave(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ove(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZR(r.key),r)}}function sve(t,e,n){return e&&ove(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sg(t,e,n){return e=ZR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZR(t){var e=cve(t,"string");return vu(e)=="symbol"?e:e+""}function cve(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lve=function(){function t(){ave(this,t),Sg(this,"activeIndex",0),Sg(this,"coordinateList",[]),Sg(this,"layout","horizontal")}return sve(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,c=n.layout,l=c===void 0?null:c,u=n.offset,d=u===void 0?null:u,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=l??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,c=this.coordinateList[this.activeIndex].coordinate,l=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+c+l,h=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function uve(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ge(r)&&ge(i))return!0}return!1}function dve(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function QR(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=jt(e,n,r,i),s=jt(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function fve(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,c=e.cy,l=e.innerRadius,u=e.outerRadius,d=e.angle,h=jt(s,c,l,d),m=jt(s,c,u,d);r=h.x,i=h.y,a=m.x,o=m.y}else return QR(e);return[{x:r,y:i},{x:a,y:o}]}function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){hve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hve(t,e,n){return e=pve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pve(t){var e=mve(t,"string");return bu(e)=="symbol"?e:e+""}function mve(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gve(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,c=t.offset,l=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var y,v=Zf;if(h==="ScatterChart")y=o,v=Ife;else if(h==="BarChart")y=dve(d,o,c,u),v=hx;else if(d==="radial"){var b=QR(o),w=b.cx,_=b.cy,S=b.radius,k=b.startAngle,A=b.endAngle;y={cx:w,cy:_,startAngle:k,endAngle:A,innerRadius:S,outerRadius:S},v=YI}else y={points:fve(d,o,c)},v=Zf;var j=qd(qd(qd(qd({stroke:"#ccc",pointerEvents:"none"},c),y),Ie(m,!1)),{},{payload:s,payloadIndex:l,className:Ge("recharts-tooltip-cursor",m.className)});return O.isValidElement(m)?O.cloneElement(m,j):O.createElement(v,j)}var yve=["item"],vve=["children","className","width","height","style","compact","title","desc"];function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function cs(){return cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cs.apply(this,arguments)}function xO(t,e){return wve(t)||xve(t,e)||t2(t,e)||bve()}function bve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function wve(t){if(Array.isArray(t))return t}function wO(t,e){if(t==null)return{};var n=Sve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ave(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n2(r.key),r)}}function Tve(t,e,n){return e&&Ave(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ove(t,e,n){return e=wh(e),jve(t,e2()?Reflect.construct(e,n||[],wh(t).constructor):e.apply(t,n))}function jve(t,e){if(e&&(rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kve(t)}function kve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e2=function(){return!!t})()}function wh(t){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wh(t)}function Pve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yv(t,e)}function Yv(t,e){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yv(t,e)}function ic(t){return Nve(t)||Cve(t)||t2(t)||Eve()}function Eve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t2(t,e){if(t){if(typeof t=="string")return Xv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xv(t,e)}}function Cve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nve(t){if(Array.isArray(t))return Xv(t)}function Xv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){De(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function De(t,e,n){return e=n2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n2(t){var e=$ve(t,"string");return rc(e)=="symbol"?e:e+""}function $ve(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ive={xAxis:["bottom","top"],yAxis:["left","right"]},Rve={width:"100%",height:"100%"},r2={x:0,y:0};function Kd(t){return t}var Dve=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Mve=function(e,n,r,i){var a=n.find(function(u){return u&&u.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return se(se(se({},i),jt(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var c=a.coordinate,l=i.angle;return se(se(se({},i),jt(i.cx,i.cy,c,l)),{},{angle:l,radius:c})}return r2},Vp=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,c){var l=c.props.data;return l&&l.length?[].concat(ic(s),ic(l)):s},[]);return o.length>0?o:e&&e.length&&ge(i)&&ge(a)?e.slice(i,a+1):[]};function i2(t){return t==="number"?[0,"auto"]:void 0}var Jv=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Vp(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(c,l){var u,d=(u=l.props.data)!==null&&u!==void 0?u:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=d===void 0?s:d;h=wf(m,o.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(ic(c),[qI(l,h)]):c},[])},_O=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=Dve(a,r),s=e.orderedTooltipTicks,c=e.tooltipAxis,l=e.tooltipTicks,u=ile(o,s,l,c);if(u>=0&&l){var d=l[u]&&l[u].value,h=Jv(e,n,u,d),m=Mve(r,s,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:m}}return null},Lve=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,c=n.dataStartIndex,l=n.dataEndIndex,u=e.layout,d=e.children,h=e.stackOffset,m=MI(u,a);return r.reduce(function(y,v){var b,w=v.type.defaultProps!==void 0?se(se({},v.type.defaultProps),v.props):v.props,_=w.type,S=w.dataKey,k=w.allowDataOverflow,A=w.allowDuplicatedCategory,j=w.scale,E=w.ticks,N=w.includeHidden,R=w[o];if(y[R])return y;var q=Vp(e.data,{graphicalItems:i.filter(function(ue){var pe,Ce=o in ue.props?ue.props[o]:(pe=ue.type.defaultProps)===null||pe===void 0?void 0:pe[o];return Ce===R}),dataStartIndex:c,dataEndIndex:l}),L=q.length,D,X,ee;uve(w.domain,k,_)&&(D=dv(w.domain,null,k),m&&(_==="number"||j!=="auto")&&(ee=vl(q,S,"category")));var W=i2(_);if(!D||D.length===0){var Q,te=(Q=w.domain)!==null&&Q!==void 0?Q:W;if(S){if(D=vl(q,S,_),_==="category"&&m){var ae=GH(D);A&&ae?(X=D,D=ch(0,L)):A||(D=zA(te,D,v).reduce(function(ue,pe){return ue.indexOf(pe)>=0?ue:[].concat(ic(ue),[pe])},[]))}else if(_==="category")A?D=D.filter(function(ue){return ue!==""&&!Ke(ue)}):D=zA(te,D,v).reduce(function(ue,pe){return ue.indexOf(pe)>=0||pe===""||Ke(pe)?ue:[].concat(ic(ue),[pe])},[]);else if(_==="number"){var re=lle(q,i.filter(function(ue){var pe,Ce,Ee=o in ue.props?ue.props[o]:(pe=ue.type.defaultProps)===null||pe===void 0?void 0:pe[o],Qe="hide"in ue.props?ue.props.hide:(Ce=ue.type.defaultProps)===null||Ce===void 0?void 0:Ce.hide;return Ee===R&&(N||!Qe)}),S,a,u);re&&(D=re)}m&&(_==="number"||j!=="auto")&&(ee=vl(q,S,"category"))}else m?D=ch(0,L):s&&s[R]&&s[R].hasStack&&_==="number"?D=h==="expand"?[0,1]:VI(s[R].stackGroups,c,l):D=DI(q,i.filter(function(ue){var pe=o in ue.props?ue.props[o]:ue.type.defaultProps[o],Ce="hide"in ue.props?ue.props.hide:ue.type.defaultProps.hide;return pe===R&&(N||!Ce)}),_,u,!0);if(_==="number")D=Hv(d,D,R,a,E),te&&(D=dv(te,D,k));else if(_==="category"&&te){var de=te,_e=D.every(function(ue){return de.indexOf(ue)>=0});_e&&(D=de)}}return se(se({},y),{},De({},R,se(se({},w),{},{axisType:a,domain:D,categoricalDomain:ee,duplicateDomain:X,originalDomain:(b=w.domain)!==null&&b!==void 0?b:W,isCategorical:m,layout:u})))},{})},Bve=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,c=n.dataStartIndex,l=n.dataEndIndex,u=e.layout,d=e.children,h=Vp(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:l}),m=h.length,y=MI(u,a),v=-1;return r.reduce(function(b,w){var _=w.type.defaultProps!==void 0?se(se({},w.type.defaultProps),w.props):w.props,S=_[o],k=i2("number");if(!b[S]){v++;var A;return y?A=ch(0,m):s&&s[S]&&s[S].hasStack?(A=VI(s[S].stackGroups,c,l),A=Hv(d,A,S,a)):(A=dv(k,DI(h,r.filter(function(j){var E,N,R=o in j.props?j.props[o]:(E=j.type.defaultProps)===null||E===void 0?void 0:E[o],q="hide"in j.props?j.props.hide:(N=j.type.defaultProps)===null||N===void 0?void 0:N.hide;return R===S&&!q}),"number",u),i.defaultProps.allowDataOverflow),A=Hv(d,A,S,a)),se(se({},b),{},De({},S,se(se({axisType:a},i.defaultProps),{},{hide:!0,orientation:er(Ive,"".concat(a,".").concat(v%2),null),domain:A,originalDomain:k,isCategorical:y,layout:u})))}return b},{})},Fve=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,c=n.dataStartIndex,l=n.dataEndIndex,u=e.children,d="".concat(i,"Id"),h=tr(u,a),m={};return h&&h.length?m=Lve(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:c,dataEndIndex:l}):o&&o.length&&(m=Bve(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:c,dataEndIndex:l})),m},Uve=function(e){var n=Zi(e),r=bi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:B0(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Yf(n,r)}},AO=function(e){var n=e.children,r=e.defaultShowTooltip,i=Gn(n,Gs),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Vve=function(e){return!e||!e.length?!1:e.some(function(n){var r=Si(n&&n.type);return r&&r.indexOf("Bar")>=0})},TO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},qve=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,c=s===void 0?{}:s,l=r.width,u=r.height,d=r.children,h=r.margin||{},m=Gn(d,Gs),y=Gn(d,sa),v=Object.keys(c).reduce(function(A,j){var E=c[j],N=E.orientation;return!E.mirror&&!E.hide?se(se({},A),{},De({},N,A[N]+E.width)):A},{left:h.left||0,right:h.right||0}),b=Object.keys(o).reduce(function(A,j){var E=o[j],N=E.orientation;return!E.mirror&&!E.hide?se(se({},A),{},De({},N,er(A,"".concat(N))+E.height)):A},{top:h.top||0,bottom:h.bottom||0}),w=se(se({},b),v),_=w.bottom;m&&(w.bottom+=m.props.height||Gs.defaultProps.height),y&&n&&(w=sle(w,i,r,n));var S=l-w.left-w.right,k=u-w.top-w.bottom;return se(se({brushBottom:_},w),{},{width:Math.max(S,0),height:Math.max(k,0)})},Kve=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Ax=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,c=e.axisComponents,l=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(w,_){var S=_.graphicalItems,k=_.stackGroups,A=_.offset,j=_.updateId,E=_.dataStartIndex,N=_.dataEndIndex,R=w.barSize,q=w.layout,L=w.barGap,D=w.barCategoryGap,X=w.maxBarSize,ee=TO(q),W=ee.numericAxisName,Q=ee.cateAxisName,te=Vve(S),ae=[];return S.forEach(function(re,de){var _e=Vp(w.data,{graphicalItems:[re],dataStartIndex:E,dataEndIndex:N}),ue=re.type.defaultProps!==void 0?se(se({},re.type.defaultProps),re.props):re.props,pe=ue.dataKey,Ce=ue.maxBarSize,Ee=ue["".concat(W,"Id")],Qe=ue["".concat(Q,"Id")],be={},Ve=c.reduce(function(Nt,Fn){var hn=_["".concat(Fn.axisType,"Map")],Sa=ue["".concat(Fn.axisType,"Id")];hn&&hn[Sa]||Fn.axisType==="zAxis"||xo();var Ur=hn[Sa];return se(se({},Nt),{},De(De({},Fn.axisType,Ur),"".concat(Fn.axisType,"Ticks"),bi(Ur)))},be),ie=Ve[Q],Te=Ve["".concat(Q,"Ticks")],Ae=k&&k[Ee]&&k[Ee].hasStack&&vle(re,k[Ee].stackGroups),Z=Si(re.type).indexOf("Bar")>=0,et=Yf(ie,Te),qe=[],ot=te&&ale({barSize:R,stackGroups:k,totalSize:Kve(Ve,Q)});if(Z){var vt,Bt,Rn=Ke(Ce)?X:Ce,Fr=(vt=(Bt=Yf(ie,Te,!0))!==null&&Bt!==void 0?Bt:Rn)!==null&&vt!==void 0?vt:0;qe=ole({barGap:L,barCategoryGap:D,bandSize:Fr!==et?Fr:et,sizeList:ot[Qe],maxBarSize:Rn}),Fr!==et&&(qe=qe.map(function(Nt){return se(se({},Nt),{},{position:se(se({},Nt.position),{},{offset:Nt.position.offset-Fr/2})})}))}var xr=re&&re.type&&re.type.getComposedData;xr&&ae.push({props:se(se({},xr(se(se({},Ve),{},{displayedData:_e,props:w,dataKey:pe,item:re,bandSize:et,barPosition:qe,offset:A,stackedData:Ae,layout:q,dataStartIndex:E,dataEndIndex:N}))),{},De(De(De({key:re.key||"item-".concat(de)},W,Ve[W]),Q,Ve[Q]),"animationId",j)),childIndex:o7(re,w.children),item:re})}),ae},m=function(w,_){var S=w.props,k=w.dataStartIndex,A=w.dataEndIndex,j=w.updateId;if(!LS({props:S}))return null;var E=S.children,N=S.layout,R=S.stackOffset,q=S.data,L=S.reverseStackOrder,D=TO(N),X=D.numericAxisName,ee=D.cateAxisName,W=tr(E,r),Q=gle(q,W,"".concat(X,"Id"),"".concat(ee,"Id"),R,L),te=c.reduce(function(ue,pe){var Ce="".concat(pe.axisType,"Map");return se(se({},ue),{},De({},Ce,Fve(S,se(se({},pe),{},{graphicalItems:W,stackGroups:pe.axisType===X&&Q,dataStartIndex:k,dataEndIndex:A}))))},{}),ae=qve(se(se({},te),{},{props:S,graphicalItems:W}),_==null?void 0:_.legendBBox);Object.keys(te).forEach(function(ue){te[ue]=u(S,te[ue],ae,ue.replace("Map",""),n)});var re=te["".concat(ee,"Map")],de=Uve(re),_e=h(S,se(se({},te),{},{dataStartIndex:k,dataEndIndex:A,updateId:j,graphicalItems:W,stackGroups:Q,offset:ae}));return se(se({formattedGraphicalItems:_e,graphicalItems:W,offset:ae,stackGroups:Q},de),te)},y=function(b){function w(_){var S,k,A;return _ve(this,w),A=Ove(this,w,[_]),De(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),De(A,"accessibilityManager",new lve),De(A,"handleLegendBBoxUpdate",function(j){if(j){var E=A.state,N=E.dataStartIndex,R=E.dataEndIndex,q=E.updateId;A.setState(se({legendBBox:j},m({props:A.props,dataStartIndex:N,dataEndIndex:R,updateId:q},se(se({},A.state),{},{legendBBox:j}))))}}),De(A,"handleReceiveSyncEvent",function(j,E,N){if(A.props.syncId===j){if(N===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(E)}}),De(A,"handleBrushChange",function(j){var E=j.startIndex,N=j.endIndex;if(E!==A.state.dataStartIndex||N!==A.state.dataEndIndex){var R=A.state.updateId;A.setState(function(){return se({dataStartIndex:E,dataEndIndex:N},m({props:A.props,dataStartIndex:E,dataEndIndex:N,updateId:R},A.state))}),A.triggerSyncEvent({dataStartIndex:E,dataEndIndex:N})}}),De(A,"handleMouseEnter",function(j){var E=A.getMouseInfo(j);if(E){var N=se(se({},E),{},{isTooltipActive:!0});A.setState(N),A.triggerSyncEvent(N);var R=A.props.onMouseEnter;Ue(R)&&R(N,j)}}),De(A,"triggeredAfterMouseMove",function(j){var E=A.getMouseInfo(j),N=E?se(se({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(N),A.triggerSyncEvent(N);var R=A.props.onMouseMove;Ue(R)&&R(N,j)}),De(A,"handleItemMouseEnter",function(j){A.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),De(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),De(A,"handleMouseMove",function(j){j.persist(),A.throttleTriggeredAfterMouseMove(j)}),De(A,"handleMouseLeave",function(j){A.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};A.setState(E),A.triggerSyncEvent(E);var N=A.props.onMouseLeave;Ue(N)&&N(E,j)}),De(A,"handleOuterEvent",function(j){var E=a7(j),N=er(A.props,"".concat(E));if(E&&Ue(N)){var R,q;/.*touch.*/i.test(E)?q=A.getMouseInfo(j.changedTouches[0]):q=A.getMouseInfo(j),N((R=q)!==null&&R!==void 0?R:{},j)}}),De(A,"handleClick",function(j){var E=A.getMouseInfo(j);if(E){var N=se(se({},E),{},{isTooltipActive:!0});A.setState(N),A.triggerSyncEvent(N);var R=A.props.onClick;Ue(R)&&R(N,j)}}),De(A,"handleMouseDown",function(j){var E=A.props.onMouseDown;if(Ue(E)){var N=A.getMouseInfo(j);E(N,j)}}),De(A,"handleMouseUp",function(j){var E=A.props.onMouseUp;if(Ue(E)){var N=A.getMouseInfo(j);E(N,j)}}),De(A,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),De(A,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&A.handleMouseDown(j.changedTouches[0])}),De(A,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&A.handleMouseUp(j.changedTouches[0])}),De(A,"handleDoubleClick",function(j){var E=A.props.onDoubleClick;if(Ue(E)){var N=A.getMouseInfo(j);E(N,j)}}),De(A,"handleContextMenu",function(j){var E=A.props.onContextMenu;if(Ue(E)){var N=A.getMouseInfo(j);E(N,j)}}),De(A,"triggerSyncEvent",function(j){A.props.syncId!==void 0&&xg.emit(wg,A.props.syncId,j,A.eventEmitterSymbol)}),De(A,"applySyncEvent",function(j){var E=A.props,N=E.layout,R=E.syncMethod,q=A.state.updateId,L=j.dataStartIndex,D=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)A.setState(se({dataStartIndex:L,dataEndIndex:D},m({props:A.props,dataStartIndex:L,dataEndIndex:D,updateId:q},A.state)));else if(j.activeTooltipIndex!==void 0){var X=j.chartX,ee=j.chartY,W=j.activeTooltipIndex,Q=A.state,te=Q.offset,ae=Q.tooltipTicks;if(!te)return;if(typeof R=="function")W=R(ae,j);else if(R==="value"){W=-1;for(var re=0;re<ae.length;re++)if(ae[re].value===j.activeLabel){W=re;break}}var de=se(se({},te),{},{x:te.left,y:te.top}),_e=Math.min(X,de.x+de.width),ue=Math.min(ee,de.y+de.height),pe=ae[W]&&ae[W].value,Ce=Jv(A.state,A.props.data,W),Ee=ae[W]?{x:N==="horizontal"?ae[W].coordinate:_e,y:N==="horizontal"?ue:ae[W].coordinate}:r2;A.setState(se(se({},j),{},{activeLabel:pe,activeCoordinate:Ee,activePayload:Ce,activeTooltipIndex:W}))}else A.setState(j)}),De(A,"renderCursor",function(j){var E,N=A.state,R=N.isTooltipActive,q=N.activeCoordinate,L=N.activePayload,D=N.offset,X=N.activeTooltipIndex,ee=N.tooltipAxisBandSize,W=A.getTooltipEventType(),Q=(E=j.props.active)!==null&&E!==void 0?E:R,te=A.props.layout,ae=j.key||"_recharts-cursor";return $.createElement(gve,{key:ae,activeCoordinate:q,activePayload:L,activeTooltipIndex:X,chartName:n,element:j,isActive:Q,layout:te,offset:D,tooltipAxisBandSize:ee,tooltipEventType:W})}),De(A,"renderPolarAxis",function(j,E,N){var R=er(j,"type.axisType"),q=er(A.state,"".concat(R,"Map")),L=j.type.defaultProps,D=L!==void 0?se(se({},L),j.props):j.props,X=q&&q[D["".concat(R,"Id")]];return O.cloneElement(j,se(se({},X),{},{className:Ge(R,X.className),key:j.key||"".concat(E,"-").concat(N),ticks:bi(X,!0)}))}),De(A,"renderPolarGrid",function(j){var E=j.props,N=E.radialLines,R=E.polarAngles,q=E.polarRadius,L=A.state,D=L.radiusAxisMap,X=L.angleAxisMap,ee=Zi(D),W=Zi(X),Q=W.cx,te=W.cy,ae=W.innerRadius,re=W.outerRadius;return O.cloneElement(j,{polarAngles:Array.isArray(R)?R:bi(W,!0).map(function(de){return de.coordinate}),polarRadius:Array.isArray(q)?q:bi(ee,!0).map(function(de){return de.coordinate}),cx:Q,cy:te,innerRadius:ae,outerRadius:re,key:j.key||"polar-grid",radialLines:N})}),De(A,"renderLegend",function(){var j=A.state.formattedGraphicalItems,E=A.props,N=E.children,R=E.width,q=E.height,L=A.props.margin||{},D=R-(L.left||0)-(L.right||0),X=II({children:N,formattedGraphicalItems:j,legendWidth:D,legendContent:l});if(!X)return null;var ee=X.item,W=wO(X,yve);return O.cloneElement(ee,se(se({},W),{},{chartWidth:R,chartHeight:q,margin:L,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),De(A,"renderTooltip",function(){var j,E=A.props,N=E.children,R=E.accessibilityLayer,q=Gn(N,dr);if(!q)return null;var L=A.state,D=L.isTooltipActive,X=L.activeCoordinate,ee=L.activePayload,W=L.activeLabel,Q=L.offset,te=(j=q.props.active)!==null&&j!==void 0?j:D;return O.cloneElement(q,{viewBox:se(se({},Q),{},{x:Q.left,y:Q.top}),active:te,label:W,payload:te?ee:[],coordinate:X,accessibilityLayer:R})}),De(A,"renderBrush",function(j){var E=A.props,N=E.margin,R=E.data,q=A.state,L=q.offset,D=q.dataStartIndex,X=q.dataEndIndex,ee=q.updateId;return O.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Bd(A.handleBrushChange,j.props.onChange),data:R,x:ge(j.props.x)?j.props.x:L.left,y:ge(j.props.y)?j.props.y:L.top+L.height+L.brushBottom-(N.bottom||0),width:ge(j.props.width)?j.props.width:L.width,startIndex:D,endIndex:X,updateId:"brush-".concat(ee)})}),De(A,"renderReferenceElement",function(j,E,N){if(!j)return null;var R=A,q=R.clipPathId,L=A.state,D=L.xAxisMap,X=L.yAxisMap,ee=L.offset,W=j.type.defaultProps||{},Q=j.props,te=Q.xAxisId,ae=te===void 0?W.xAxisId:te,re=Q.yAxisId,de=re===void 0?W.yAxisId:re;return O.cloneElement(j,{key:j.key||"".concat(E,"-").concat(N),xAxis:D[ae],yAxis:X[de],viewBox:{x:ee.left,y:ee.top,width:ee.width,height:ee.height},clipPathId:q})}),De(A,"renderActivePoints",function(j){var E=j.item,N=j.activePoint,R=j.basePoint,q=j.childIndex,L=j.isRange,D=[],X=E.props.key,ee=E.item.type.defaultProps!==void 0?se(se({},E.item.type.defaultProps),E.item.props):E.item.props,W=ee.activeDot,Q=ee.dataKey,te=se(se({index:q,dataKey:Q,cx:N.x,cy:N.y,r:4,fill:fx(E.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},Ie(W,!1)),Sf(W));return D.push(w.renderActiveDot(W,te,"".concat(X,"-activePoint-").concat(q))),R?D.push(w.renderActiveDot(W,se(se({},te),{},{cx:R.x,cy:R.y}),"".concat(X,"-basePoint-").concat(q))):L&&D.push(null),D}),De(A,"renderGraphicChild",function(j,E,N){var R=A.filterFormatItem(j,E,N);if(!R)return null;var q=A.getTooltipEventType(),L=A.state,D=L.isTooltipActive,X=L.tooltipAxis,ee=L.activeTooltipIndex,W=L.activeLabel,Q=A.props.children,te=Gn(Q,dr),ae=R.props,re=ae.points,de=ae.isRange,_e=ae.baseLine,ue=R.item.type.defaultProps!==void 0?se(se({},R.item.type.defaultProps),R.item.props):R.item.props,pe=ue.activeDot,Ce=ue.hide,Ee=ue.activeBar,Qe=ue.activeShape,be=!!(!Ce&&D&&te&&(pe||Ee||Qe)),Ve={};q!=="axis"&&te&&te.props.trigger==="click"?Ve={onClick:Bd(A.handleItemMouseEnter,j.props.onClick)}:q!=="axis"&&(Ve={onMouseLeave:Bd(A.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Bd(A.handleItemMouseEnter,j.props.onMouseEnter)});var ie=O.cloneElement(j,se(se({},R.props),Ve));function Te(Fn){return typeof X.dataKey=="function"?X.dataKey(Fn.payload):null}if(be)if(ee>=0){var Ae,Z;if(X.dataKey&&!X.allowDuplicatedCategory){var et=typeof X.dataKey=="function"?Te:"payload.".concat(X.dataKey.toString());Ae=wf(re,et,W),Z=de&&_e&&wf(_e,et,W)}else Ae=re==null?void 0:re[ee],Z=de&&_e&&_e[ee];if(Qe||Ee){var qe=j.props.activeIndex!==void 0?j.props.activeIndex:ee;return[O.cloneElement(j,se(se(se({},R.props),Ve),{},{activeIndex:qe})),null,null]}if(!Ke(Ae))return[ie].concat(ic(A.renderActivePoints({item:R,activePoint:Ae,basePoint:Z,childIndex:ee,isRange:de})))}else{var ot,vt=(ot=A.getItemByXY(A.state.activeCoordinate))!==null&&ot!==void 0?ot:{graphicalItem:ie},Bt=vt.graphicalItem,Rn=Bt.item,Fr=Rn===void 0?j:Rn,xr=Bt.childIndex,Nt=se(se(se({},R.props),Ve),{},{activeIndex:xr});return[O.cloneElement(Fr,Nt),null,null]}return de?[ie,null,null]:[ie,null]}),De(A,"renderCustomized",function(j,E,N){return O.cloneElement(j,se(se({key:"recharts-customized-".concat(N)},A.props),A.state))}),De(A,"renderMap",{CartesianGrid:{handler:Kd,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:Kd},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:Kd},YAxis:{handler:Kd},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((S=_.id)!==null&&S!==void 0?S:xc("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=$$(A.triggeredAfterMouseMove,(k=_.throttleDelay)!==null&&k!==void 0?k:1e3/60),A.state={},A}return Pve(w,b),Tve(w,[{key:"componentDidMount",value:function(){var S,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,k=S.children,A=S.data,j=S.height,E=S.layout,N=Gn(k,dr);if(N){var R=N.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var q=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,L=Jv(this.state,A,R,q),D=this.state.tooltipTicks[R].coordinate,X=(this.state.offset.top+j)/2,ee=E==="horizontal",W=ee?{x:D,y:X}:{y:D,x:X},Q=this.state.formattedGraphicalItems.find(function(ae){var re=ae.item;return re.type.name==="Scatter"});Q&&(W=se(se({},W),Q.props.points[R].tooltipPosition),L=Q.props.points[R].tooltipPayload);var te={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:q,activePayload:L,activeCoordinate:W};this.setState(te),this.renderCursor(N),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var A,j;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(S){Oy([Gn(S.children,dr)],[Gn(this.props.children,dr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Gn(this.props.children,dr);if(S&&typeof S.props.shared=="boolean"){var k=S.props.shared?"axis":"item";return s.indexOf(k)>=0?k:a}return a}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var k=this.container,A=k.getBoundingClientRect(),j=Nie(A),E={chartX:Math.round(S.pageX-j.left),chartY:Math.round(S.pageY-j.top)},N=A.width/k.offsetWidth||1,R=this.inRange(E.chartX,E.chartY,N);if(!R)return null;var q=this.state,L=q.xAxisMap,D=q.yAxisMap,X=this.getTooltipEventType(),ee=_O(this.state,this.props.data,this.props.layout,R);if(X!=="axis"&&L&&D){var W=Zi(L).scale,Q=Zi(D).scale,te=W&&W.invert?W.invert(E.chartX):null,ae=Q&&Q.invert?Q.invert(E.chartY):null;return se(se({},E),{},{xValue:te,yValue:ae},ee)}return ee?se(se({},E),ee):null}},{key:"inRange",value:function(S,k){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,E=S/A,N=k/A;if(j==="horizontal"||j==="vertical"){var R=this.state.offset,q=E>=R.left&&E<=R.left+R.width&&N>=R.top&&N<=R.top+R.height;return q?{x:E,y:N}:null}var L=this.state,D=L.angleAxisMap,X=L.radiusAxisMap;if(D&&X){var ee=Zi(D);return HA({x:E,y:N},ee)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,k=this.getTooltipEventType(),A=Gn(S,dr),j={};A&&k==="axis"&&(A.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Sf(this.props,this.handleOuterEvent);return se(se({},E),j)}},{key:"addListener",value:function(){xg.on(wg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){xg.removeListener(wg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,k,A){for(var j=this.state.formattedGraphicalItems,E=0,N=j.length;E<N;E++){var R=j[E];if(R.item===S||R.props.key===S.key||k===Si(R.item.type)&&A===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,k=this.state.offset,A=k.left,j=k.top,E=k.height,N=k.width;return $.createElement("defs",null,$.createElement("clipPath",{id:S},$.createElement("rect",{x:A,y:j,height:E,width:N})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(k,A){var j=xO(A,2),E=j[0],N=j[1];return se(se({},k),{},De({},E,N.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(k,A){var j=xO(A,2),E=j[0],N=j[1];return se(se({},k),{},De({},E,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[S])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(S){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[S])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(S){var k=this.state,A=k.formattedGraphicalItems,j=k.activeItem;if(A&&A.length)for(var E=0,N=A.length;E<N;E++){var R=A[E],q=R.props,L=R.item,D=L.type.defaultProps!==void 0?se(se({},L.type.defaultProps),L.props):L.props,X=Si(L.type);if(X==="Bar"){var ee=(q.data||[]).find(function(ae){return pfe(S,ae)});if(ee)return{graphicalItem:R,payload:ee}}else if(X==="RadialBar"){var W=(q.data||[]).find(function(ae){return HA(S,ae)});if(W)return{graphicalItem:R,payload:W}}else if(Rp(R,j)||Dp(R,j)||hu(R,j)){var Q=npe({graphicalItem:R,activeTooltipItem:j,itemData:D.data}),te=D.activeIndex===void 0?Q:D.activeIndex;return{graphicalItem:se(se({},R),{},{childIndex:te}),payload:hu(R,j)?D.data[Q]:R.props.data[Q]}}}return null}},{key:"render",value:function(){var S=this;if(!LS(this))return null;var k=this.props,A=k.children,j=k.className,E=k.width,N=k.height,R=k.style,q=k.compact,L=k.title,D=k.desc,X=wO(k,vve),ee=Ie(X,!1);if(q)return $.createElement(nO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(ky,cs({},ee,{width:E,height:N,title:L,desc:D}),this.renderClipPath(),FS(A,this.renderMap)));if(this.props.accessibilityLayer){var W,Q;ee.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,ee.role=(Q=this.props.role)!==null&&Q!==void 0?Q:"application",ee.onKeyDown=function(ae){S.accessibilityManager.keyboardEvent(ae)},ee.onFocus=function(){S.accessibilityManager.focus()}}var te=this.parseEventsOfWrapper();return $.createElement(nO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",cs({className:Ge("recharts-wrapper",j),style:se({position:"relative",cursor:"default",width:E,height:N},R)},te,{ref:function(re){S.container=re}}),$.createElement(ky,cs({},ee,{width:E,height:N,title:L,desc:D,style:Rve}),this.renderClipPath(),FS(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);De(y,"displayName",n),De(y,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),De(y,"getDerivedStateFromProps",function(b,w){var _=b.dataKey,S=b.data,k=b.children,A=b.width,j=b.height,E=b.layout,N=b.stackOffset,R=b.margin,q=w.dataStartIndex,L=w.dataEndIndex;if(w.updateId===void 0){var D=AO(b);return se(se(se({},D),{},{updateId:0},m(se(se({props:b},D),{},{updateId:0}),w)),{},{prevDataKey:_,prevData:S,prevWidth:A,prevHeight:j,prevLayout:E,prevStackOffset:N,prevMargin:R,prevChildren:k})}if(_!==w.prevDataKey||S!==w.prevData||A!==w.prevWidth||j!==w.prevHeight||E!==w.prevLayout||N!==w.prevStackOffset||!gs(R,w.prevMargin)){var X=AO(b),ee={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},W=se(se({},_O(w,S,E)),{},{updateId:w.updateId+1}),Q=se(se(se({},X),ee),W);return se(se(se({},Q),m(se({props:b},Q),w)),{},{prevDataKey:_,prevData:S,prevWidth:A,prevHeight:j,prevLayout:E,prevStackOffset:N,prevMargin:R,prevChildren:k})}if(!Oy(k,w.prevChildren)){var te,ae,re,de,_e=Gn(k,Gs),ue=_e&&(te=(ae=_e.props)===null||ae===void 0?void 0:ae.startIndex)!==null&&te!==void 0?te:q,pe=_e&&(re=(de=_e.props)===null||de===void 0?void 0:de.endIndex)!==null&&re!==void 0?re:L,Ce=ue!==q||pe!==L,Ee=!Ke(S),Qe=Ee&&!Ce?w.updateId:w.updateId+1;return se(se({updateId:Qe},m(se(se({props:b},w),{},{updateId:Qe,dataStartIndex:ue,dataEndIndex:pe}),w)),{},{prevChildren:k,dataStartIndex:ue,dataEndIndex:pe})}return null}),De(y,"renderActiveDot",function(b,w,_){var S;return O.isValidElement(b)?S=O.cloneElement(b,w):Ue(b)?S=b(w):S=$.createElement(Ep,w),$.createElement(ut,{className:"recharts-active-dot",key:_},S)});var v=O.forwardRef(function(w,_){return $.createElement(y,cs({},w,{ref:_}))});return v.displayName=y.displayName,v},zve=Ax({chartName:"LineChart",GraphicalChild:ec,axisComponents:[{axisType:"xAxis",AxisComp:kc},{axisType:"yAxis",AxisComp:Pc}],formatAxisMap:_R}),Wve=Ax({chartName:"BarChart",GraphicalChild:da,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:kc},{axisType:"yAxis",AxisComp:Pc}],formatAxisMap:_R}),Gve=Ax({chartName:"PieChart",GraphicalChild:Ii,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ip},{axisType:"radiusAxis",AxisComp:Np}],formatAxisMap:kle,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Hve({expenses:t,className:e,showCard:n=!0}){const{t:r}=it(),i=O.useMemo(()=>Object.entries(t).filter(([l,u])=>u>0).map(([l,u])=>{const d=ai.find(h=>h.id===l);return{name:r(`categories.expense.${l}`),value:u,color:(d==null?void 0:d.color)||"hsl(0 0% 50%)",icon:(d==null?void 0:d.icon)||""}}).sort((l,u)=>u.value-l.value),[t,r]),a=O.useMemo(()=>i.reduce((l,u)=>l+u.value,0),[i]),o=({active:l,payload:u})=>{if(!l||!(u!=null&&u.length))return null;const d=u[0].payload,h=(d.value/a*100).toFixed(1);return f.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[f.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[f.jsx("span",{children:d.icon}),f.jsx("span",{children:d.name})]}),f.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["$",d.value.toLocaleString()," (",h,"%)"]})]})},s=()=>f.jsx("div",{className:"flex flex-wrap justify-center gap-3 mt-4",children:i.slice(0,6).map(l=>f.jsxs("div",{className:"flex items-center gap-1.5 text-xs",children:[f.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.color}}),f.jsx("span",{className:"text-muted-foreground",children:l.name})]},l.name))}),c=f.jsx(f.Fragment,{children:i.length===0?f.jsx("div",{className:"flex items-center justify-center h-[250px] text-muted-foreground",children:r("stats.noData")}):f.jsxs(f.Fragment,{children:[f.jsx(U0,{width:"100%",height:250,children:f.jsxs(Gve,{children:[f.jsx(Ii,{data:i,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:2,dataKey:"value",animationDuration:500,children:i.map((l,u)=>f.jsx(Vu,{fill:l.color,stroke:"transparent"},`cell-${u}`))}),f.jsx(dr,{content:f.jsx(o,{})})]})}),s()]})});return n?f.jsxs($t,{className:e,children:[f.jsx(Bh,{className:"pb-2",children:f.jsx(Fh,{className:"text-base font-medium",children:r("stats.byCategory")})}),f.jsx(It,{children:c})]}):f.jsx("div",{className:e,children:c})}function Yve({transactions:t,className:e,showCard:n=!0,months:r=6}){const{t:i,i18n:a}=it(),o=O.useMemo(()=>{const l={},u=new Date;for(let d=r-1;d>=0;d--){const h=new Date(u.getFullYear(),u.getMonth()-d,1),m=`${h.getFullYear()}-${String(h.getMonth()+1).padStart(2,"0")}`;l[m]={income:0,expense:0}}return t.forEach(d=>{const h=new Date(d.date),m=`${h.getFullYear()}-${String(h.getMonth()+1).padStart(2,"0")}`;l[m]&&(d.type==="income"?l[m].income+=d.amount:l[m].expense+=d.amount)}),Object.entries(l).map(([d,h])=>{const[m,y]=d.split("-"),b=new Date(parseInt(m),parseInt(y)-1).toLocaleDateString(a.language,{month:"short"});return{month:d,monthLabel:b,income:h.income,expense:h.expense,balance:h.income-h.expense}})},[t,r,a.language]),s=({active:l,payload:u,label:d})=>!l||!(u!=null&&u.length)?null:f.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[f.jsx("div",{className:"font-medium mb-2",children:d}),u.map(h=>f.jsxs("div",{className:"flex items-center justify-between gap-4 text-sm",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:h.color}}),f.jsx("span",{className:"text-muted-foreground",children:i(`analytics.${h.dataKey}`)})]}),f.jsxs("span",{className:"font-medium",children:["$",h.value.toLocaleString()]})]},h.dataKey))]}),c=f.jsx(U0,{width:"100%",height:300,children:f.jsxs(zve,{data:o,margin:{top:5,right:20,left:0,bottom:5},children:[f.jsx(_x,{strokeDasharray:"3 3",className:"stroke-border/50"}),f.jsx(kc,{dataKey:"monthLabel",tick:{fontSize:12},tickLine:!1,axisLine:!1,className:"text-muted-foreground"}),f.jsx(Pc,{tick:{fontSize:12},tickLine:!1,axisLine:!1,tickFormatter:l=>`$${l>=1e3?`${(l/1e3).toFixed(0)}k`:l}`,className:"text-muted-foreground"}),f.jsx(dr,{content:f.jsx(s,{})}),f.jsx(sa,{wrapperStyle:{paddingTop:16},formatter:l=>f.jsx("span",{className:"text-xs text-muted-foreground",children:i(`analytics.${l}`)})}),f.jsx(ec,{type:"monotone",dataKey:"income",stroke:"hsl(142 71% 45%)",strokeWidth:2,dot:{fill:"hsl(142 71% 45%)",strokeWidth:0,r:4},activeDot:{r:6,strokeWidth:0}}),f.jsx(ec,{type:"monotone",dataKey:"expense",stroke:"hsl(0 72% 51%)",strokeWidth:2,dot:{fill:"hsl(0 72% 51%)",strokeWidth:0,r:4},activeDot:{r:6,strokeWidth:0}})]})});return n?f.jsxs($t,{className:e,children:[f.jsx(Bh,{className:"pb-2",children:f.jsx(Fh,{className:"text-base font-medium",children:i("analytics.monthlyTrends")})}),f.jsx(It,{children:c})]}):f.jsx("div",{className:e,children:c})}function Xve({budgets:t,className:e,showCard:n=!0}){const{t:r}=it(),i=O.useMemo(()=>t.filter(c=>c.isActive).map(c=>{const l=c.spent||0,u=l/c.monthlyLimit*100;let d="healthy";u>=100?d="exceeded":u>=c.alertThreshold*100&&(d="warning");const h=ai.find(m=>m.id===c.category);return{category:c.category,categoryLabel:(h==null?void 0:h.icon)+" "+r(`categories.expense.${c.category}`),budgeted:c.monthlyLimit,spent:l,remaining:Math.max(0,c.monthlyLimit-l),percentage:u,status:d}}).sort((c,l)=>l.percentage-c.percentage),[t,r]),a=c=>{switch(c){case"exceeded":return"hsl(0 72% 51%)";case"warning":return"hsl(45 93% 47%)";default:return"hsl(142 71% 45%)"}},o=({active:c,payload:l})=>{if(!c||!(l!=null&&l.length))return null;const u=l[0].payload;return f.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg min-w-[180px]",children:[f.jsx("div",{className:"font-medium mb-2",children:u.categoryLabel}),f.jsxs("div",{className:"space-y-1 text-sm",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("span",{className:"text-muted-foreground",children:[r("budgets.monthlyLimit"),":"]}),f.jsxs("span",{className:"font-medium",children:["$",u.budgeted.toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("span",{className:"text-muted-foreground",children:[r("budgets.spent"),":"]}),f.jsxs("span",{className:"font-medium",style:{color:a(u.status)},children:["$",u.spent.toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("span",{className:"text-muted-foreground",children:[r("budgets.remaining"),":"]}),f.jsxs("span",{className:"font-medium",children:["$",u.remaining.toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between pt-1 border-t border-border",children:[f.jsxs("span",{className:"text-muted-foreground",children:[r("analytics.usage"),":"]}),f.jsxs("span",{className:"font-medium",children:[u.percentage.toFixed(0),"%"]})]})]})]})},s=f.jsx(f.Fragment,{children:i.length===0?f.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:r("budgets.empty")}):f.jsx(U0,{width:"100%",height:300,children:f.jsxs(Wve,{data:i,layout:"vertical",margin:{top:5,right:20,left:0,bottom:5},children:[f.jsx(_x,{strokeDasharray:"3 3",horizontal:!0,vertical:!1,className:"stroke-border/50"}),f.jsx(kc,{type:"number",tick:{fontSize:12},tickLine:!1,axisLine:!1,tickFormatter:c=>`$${c>=1e3?`${(c/1e3).toFixed(0)}k`:c}`,className:"text-muted-foreground"}),f.jsx(Pc,{type:"category",dataKey:"categoryLabel",tick:{fontSize:11},tickLine:!1,axisLine:!1,width:100,className:"text-muted-foreground"}),f.jsx(dr,{content:f.jsx(o,{}),cursor:{fill:"hsl(var(--muted) / 0.3)"}}),f.jsx(sa,{wrapperStyle:{paddingTop:16},formatter:c=>f.jsx("span",{className:"text-xs text-muted-foreground",children:r(`analytics.${c}`)})}),f.jsx(da,{dataKey:"budgeted",fill:"hsl(var(--muted))",radius:[0,4,4,0],barSize:16}),f.jsx(da,{dataKey:"spent",radius:[0,4,4,0],barSize:16,children:i.map((c,l)=>f.jsx(Vu,{fill:a(c.status)},`cell-${l}`))})]})})});return n?f.jsxs($t,{className:e,children:[f.jsx(Bh,{className:"pb-2",children:f.jsx(Fh,{className:"text-base font-medium",children:r("analytics.budgetComparison")})}),f.jsx(It,{children:s})]}):f.jsx("div",{className:e,children:s})}async function Jve(t){const{transactions:e,budgets:n,goals:r,stats:i,period:a,userName:o}=t,s=e.filter(m=>m.type==="expense").reduce((m,y)=>(m[y.category]=(m[y.category]||0)+y.amount,m),{}),c=Object.entries(s).sort((m,y)=>y[1]-m[1]),l=e.map(m=>new Date(m.date)).sort((m,y)=>m.getTime()-y.getTime()),u=l.length>0?`${l[0].toLocaleDateString()} - ${l[l.length-1].toLocaleDateString()}`:"No data",d=`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>KopiMaster - Financial Report</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      padding: 40px;
      color: #1a1a1a;
      line-height: 1.5;
    }
    .header {
      text-align: center;
      margin-bottom: 40px;
      border-bottom: 2px solid #f59e0b;
      padding-bottom: 20px;
    }
    .header h1 {
      font-size: 28px;
      color: #f59e0b;
      margin-bottom: 8px;
    }
    .header .subtitle {
      color: #666;
      font-size: 14px;
    }
    .section {
      margin-bottom: 32px;
    }
    .section h2 {
      font-size: 18px;
      color: #333;
      margin-bottom: 16px;
      padding-bottom: 8px;
      border-bottom: 1px solid #eee;
    }
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;
      margin-bottom: 32px;
    }
    .stat-card {
      background: #f9fafb;
      border-radius: 8px;
      padding: 16px;
      text-align: center;
    }
    .stat-card .label {
      font-size: 12px;
      color: #666;
      margin-bottom: 4px;
    }
    .stat-card .value {
      font-size: 24px;
      font-weight: 600;
    }
    .stat-card.income .value { color: #10b981; }
    .stat-card.expense .value { color: #ef4444; }
    .stat-card.savings .value { color: #3b82f6; }
    .stat-card.budget .value { color: #f59e0b; }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #eee;
    }
    th {
      background: #f9fafb;
      font-weight: 600;
      font-size: 12px;
      text-transform: uppercase;
      color: #666;
    }
    .amount {
      font-family: 'SF Mono', Monaco, monospace;
      text-align: right;
    }
    .amount.positive { color: #10b981; }
    .amount.negative { color: #ef4444; }
    .progress-bar {
      background: #e5e7eb;
      border-radius: 4px;
      height: 8px;
      overflow: hidden;
    }
    .progress-fill {
      height: 100%;
      border-radius: 4px;
      transition: width 0.3s;
    }
    .progress-fill.healthy { background: #10b981; }
    .progress-fill.warning { background: #f59e0b; }
    .progress-fill.exceeded { background: #ef4444; }
    .footer {
      margin-top: 40px;
      text-align: center;
      font-size: 12px;
      color: #999;
      border-top: 1px solid #eee;
      padding-top: 20px;
    }
    @media print {
      body { padding: 20px; }
      .stats-grid { grid-template-columns: repeat(2, 1fr); }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>KopiMaster</h1>
    <div class="subtitle">Financial Report for ${o}</div>
    <div class="subtitle">${u} (${a})</div>
  </div>

  <div class="stats-grid">
    <div class="stat-card income">
      <div class="label">Monthly Income</div>
      <div class="value">$${i.monthlyIncome.toLocaleString()}</div>
    </div>
    <div class="stat-card expense">
      <div class="label">Monthly Expenses</div>
      <div class="value">$${i.monthlyExpense.toLocaleString()}</div>
    </div>
    <div class="stat-card savings">
      <div class="label">Monthly Savings</div>
      <div class="value">$${i.monthlySavings.toLocaleString()}</div>
    </div>
    <div class="stat-card budget">
      <div class="label">Budget Usage</div>
      <div class="value">${i.budgetUsage.toFixed(0)}%</div>
    </div>
  </div>

  <div class="section">
    <h2>Expenses by Category</h2>
    <table>
      <thead>
        <tr>
          <th>Category</th>
          <th class="amount">Amount</th>
          <th class="amount">% of Total</th>
        </tr>
      </thead>
      <tbody>
        ${c.map(([m,y])=>`
          <tr>
            <td>${m.charAt(0).toUpperCase()+m.slice(1)}</td>
            <td class="amount negative">$${y.toLocaleString()}</td>
            <td class="amount">${(y/i.monthlyExpense*100).toFixed(1)}%</td>
          </tr>
        `).join("")}
      </tbody>
    </table>
  </div>

  ${n.length>0?`
  <div class="section">
    <h2>Budget Status</h2>
    <table>
      <thead>
        <tr>
          <th>Category</th>
          <th class="amount">Budget</th>
          <th class="amount">Spent</th>
          <th style="width: 150px">Progress</th>
        </tr>
      </thead>
      <tbody>
        ${n.filter(m=>m.isActive).map(m=>{const y=m.spent||0,v=y/m.monthlyLimit*100,b=v>=100?"exceeded":v>=m.alertThreshold*100?"warning":"healthy";return`
          <tr>
            <td>${m.category.charAt(0).toUpperCase()+m.category.slice(1)}</td>
            <td class="amount">$${m.monthlyLimit.toLocaleString()}</td>
            <td class="amount ${v>=100?"negative":""}"}>$${y.toLocaleString()}</td>
            <td>
              <div class="progress-bar">
                <div class="progress-fill ${b}" style="width: ${Math.min(v,100)}%"></div>
              </div>
            </td>
          </tr>
        `}).join("")}
      </tbody>
    </table>
  </div>
  `:""}

  ${r.length>0?`
  <div class="section">
    <h2>Savings Goals</h2>
    <table>
      <thead>
        <tr>
          <th>Goal</th>
          <th class="amount">Target</th>
          <th class="amount">Current</th>
          <th style="width: 150px">Progress</th>
        </tr>
      </thead>
      <tbody>
        ${r.map(m=>{const y=m.currentAmount/m.targetAmount*100;return`
          <tr>
            <td>${m.icon} ${m.name}</td>
            <td class="amount">$${m.targetAmount.toLocaleString()}</td>
            <td class="amount positive">$${m.currentAmount.toLocaleString()}</td>
            <td>
              <div class="progress-bar">
                <div class="progress-fill healthy" style="width: ${Math.min(y,100)}%"></div>
              </div>
            </td>
          </tr>
        `}).join("")}
      </tbody>
    </table>
  </div>
  `:""}

  <div class="footer">
    Generated by KopiMaster on ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}
  </div>
</body>
</html>
  `,h=window.open("","_blank");h&&(h.document.write(d),h.document.close(),h.onload=()=>{h.print()})}function Zve(){const{t}=it(),{user:e}=yr(),{transactions:n,loadTransactions:r,getExpensesByCategory:i,getMonthlyIncome:a,getMonthlyExpense:o}=dc(),{budgets:s,loadBudgets:c,updateSpentAmounts:l,getTotalBudgeted:u,getTotalSpent:d}=fc(),{goals:h,loadGoals:m}=t0(),[y,v]=O.useState("6m"),[b,w]=O.useState(!1);O.useEffect(()=>{e!=null&&e.id&&(r(e.id),c(e.id),m(e.id))},[e==null?void 0:e.id,r,c,m]),O.useEffect(()=>{const N=i();l(N)},[i,l]);const _=O.useMemo(()=>{if(y==="all")return n;const N=parseInt(y),R=new Date;return R.setMonth(R.getMonth()-N),n.filter(q=>new Date(q.date)>=R)},[n,y]),S=O.useMemo(()=>_.filter(N=>N.type==="expense").reduce((N,R)=>(N[R.category]=(N[R.category]||0)+R.amount,N),{}),[_]),k=O.useMemo(()=>{const N=a(),R=o(),q=u(),L=d(),D=h.reduce((X,ee)=>({current:X.current+ee.currentAmount,target:X.target+ee.targetAmount}),{current:0,target:0});return{monthlyIncome:N,monthlyExpense:R,monthlySavings:N-R,budgetUsage:q>0?L/q*100:0,totalBudgeted:q,totalSpent:L,savingsProgress:D.target>0?D.current/D.target*100:0}},[a,o,u,d,h]),A=async()=>{w(!0);try{await Jve({transactions:_,budgets:s,goals:h,stats:k,period:y,userName:(e==null?void 0:e.email)||"User"})}finally{w(!1)}},j=()=>{if(e!=null&&e.id){const N=`${window.location.origin}/stats/${e.id}`;navigator.clipboard.writeText(N)}},E=y==="all"?12:parseInt(y);return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-lg font-semibold",children:t("analytics.title")}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs(pl,{value:y,onValueChange:N=>v(N),children:[f.jsx(ps,{className:"w-[120px] h-8",children:f.jsx(ml,{})}),f.jsxs(ms,{children:[f.jsx(Yr,{value:"1m",children:t("analytics.periods.1m")}),f.jsx(Yr,{value:"3m",children:t("analytics.periods.3m")}),f.jsx(Yr,{value:"6m",children:t("analytics.periods.6m")}),f.jsx(Yr,{value:"12m",children:t("analytics.periods.12m")}),f.jsx(Yr,{value:"all",children:t("analytics.periods.all")})]})]}),f.jsx(Re,{variant:"outline",size:"sm",onClick:j,children:f.jsx(Sj,{className:"h-4 w-4"})}),f.jsx(Re,{variant:"outline",size:"sm",onClick:A,disabled:b,children:f.jsx(mj,{className:"h-4 w-4"})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx($t,{className:"bg-gradient-to-br from-emerald-500/10 to-emerald-500/5 border-emerald-500/20",children:f.jsxs(It,{className:"p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(Tu,{className:"h-4 w-4 text-emerald-500"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:t("analytics.monthlyIncome")})]}),f.jsxs("div",{className:"text-xl font-bold text-emerald-500",children:["$",k.monthlyIncome.toLocaleString()]})]})}),f.jsx($t,{className:"bg-gradient-to-br from-red-500/10 to-red-500/5 border-red-500/20",children:f.jsxs(It,{className:"p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(fb,{className:"h-4 w-4 text-red-500"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:t("analytics.monthlyExpense")})]}),f.jsxs("div",{className:"text-xl font-bold text-red-500",children:["$",k.monthlyExpense.toLocaleString()]})]})}),f.jsx($t,{className:"bg-gradient-to-br from-blue-500/10 to-blue-500/5 border-blue-500/20",children:f.jsxs(It,{className:"p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(hb,{className:"h-4 w-4 text-blue-500"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:t("analytics.monthlySavings")})]}),f.jsxs("div",{className:`text-xl font-bold ${k.monthlySavings>=0?"text-blue-500":"text-red-500"}`,children:["$",k.monthlySavings.toLocaleString()]})]})}),f.jsx($t,{className:"bg-gradient-to-br from-amber-500/10 to-amber-500/5 border-amber-500/20",children:f.jsxs(It,{className:"p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(_g,{className:"h-4 w-4 text-amber-500"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:t("analytics.budgetUsage")})]}),f.jsxs("div",{className:`text-xl font-bold ${k.budgetUsage>100?"text-red-500":(k.budgetUsage>80,"text-amber-500")}`,children:[k.budgetUsage.toFixed(0),"%"]})]})})]}),f.jsx(Hve,{expenses:S}),f.jsx(Yve,{transactions:_,months:E}),f.jsx(Xve,{budgets:s}),n.length===0&&f.jsx($t,{className:"bg-card/50 border-dashed border-border/50",children:f.jsxs(It,{className:"flex flex-col items-center justify-center py-8",children:[f.jsx(_g,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),f.jsx("h4",{className:"font-medium text-muted-foreground",children:t("analytics.noData")}),f.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1",children:t("analytics.noDataDescription")})]})})]})}const Qve=[{id:"first_transaction",nameKey:"achievements.first_transaction.name",descriptionKey:"achievements.first_transaction.description",icon:"",category:"milestone",xpReward:25,requirementType:"transactions",requirementValue:1,isSecret:!1},{id:"transaction_10",nameKey:"achievements.transaction_10.name",descriptionKey:"achievements.transaction_10.description",icon:"",category:"milestone",xpReward:50,requirementType:"transactions",requirementValue:10,isSecret:!1},{id:"transaction_100",nameKey:"achievements.transaction_100.name",descriptionKey:"achievements.transaction_100.description",icon:"",category:"milestone",xpReward:100,requirementType:"transactions",requirementValue:100,isSecret:!1},{id:"transaction_500",nameKey:"achievements.transaction_500.name",descriptionKey:"achievements.transaction_500.description",icon:"",category:"milestone",xpReward:250,requirementType:"transactions",requirementValue:500,isSecret:!1},{id:"first_goal",nameKey:"achievements.first_goal.name",descriptionKey:"achievements.first_goal.description",icon:"",category:"savings",xpReward:25,requirementType:"goals_created",requirementValue:1,isSecret:!1},{id:"goal_achieved",nameKey:"achievements.goal_achieved.name",descriptionKey:"achievements.goal_achieved.description",icon:"",category:"savings",xpReward:100,requirementType:"goals_completed",requirementValue:1,isSecret:!1},{id:"saved_1000",nameKey:"achievements.saved_1000.name",descriptionKey:"achievements.saved_1000.description",icon:"",category:"savings",xpReward:75,requirementType:"total_saved",requirementValue:1e3,isSecret:!1},{id:"saved_10000",nameKey:"achievements.saved_10000.name",descriptionKey:"achievements.saved_10000.description",icon:"",category:"savings",xpReward:200,requirementType:"total_saved",requirementValue:1e4,isSecret:!1},{id:"first_budget",nameKey:"achievements.first_budget.name",descriptionKey:"achievements.first_budget.description",icon:"",category:"spending",xpReward:25,requirementType:"budgets_created",requirementValue:1,isSecret:!1},{id:"budget_master",nameKey:"achievements.budget_master.name",descriptionKey:"achievements.budget_master.description",icon:"",category:"spending",xpReward:100,requirementType:"budgets_kept",requirementValue:3,isSecret:!1},{id:"streak_7",nameKey:"achievements.streak_7.name",descriptionKey:"achievements.streak_7.description",icon:"",category:"streak",xpReward:50,requirementType:"streak_days",requirementValue:7,isSecret:!1},{id:"streak_30",nameKey:"achievements.streak_30.name",descriptionKey:"achievements.streak_30.description",icon:"",category:"streak",xpReward:150,requirementType:"streak_days",requirementValue:30,isSecret:!1},{id:"streak_100",nameKey:"achievements.streak_100.name",descriptionKey:"achievements.streak_100.description",icon:"",category:"streak",xpReward:500,requirementType:"streak_days",requirementValue:100,isSecret:!1},{id:"first_referral",nameKey:"achievements.first_referral.name",descriptionKey:"achievements.first_referral.description",icon:"",category:"social",xpReward:100,requirementType:"referrals",requirementValue:1,isSecret:!1},{id:"referral_5",nameKey:"achievements.referral_5.name",descriptionKey:"achievements.referral_5.description",icon:"",category:"social",xpReward:250,requirementType:"referrals",requirementValue:5,isSecret:!1},{id:"level_5",nameKey:"achievements.level_5.name",descriptionKey:"achievements.level_5.description",icon:"",category:"milestone",xpReward:50,requirementType:"level",requirementValue:5,isSecret:!1},{id:"level_10",nameKey:"achievements.level_10.name",descriptionKey:"achievements.level_10.description",icon:"",category:"milestone",xpReward:100,requirementType:"level",requirementValue:10,isSecret:!1},{id:"level_25",nameKey:"achievements.level_25.name",descriptionKey:"achievements.level_25.description",icon:"",category:"milestone",xpReward:250,requirementType:"level",requirementValue:25,isSecret:!1},{id:"night_owl",nameKey:"achievements.night_owl.name",descriptionKey:"achievements.night_owl.description",icon:"",category:"milestone",xpReward:25,requirementType:"special",requirementValue:1,isSecret:!0},{id:"early_bird",nameKey:"achievements.early_bird.name",descriptionKey:"achievements.early_bird.description",icon:"",category:"milestone",xpReward:25,requirementType:"special",requirementValue:1,isSecret:!0}],ef={savings:{icon:"",color:"hsl(142 71% 45%)",label:"achievements.categories.savings"},spending:{icon:"",color:"hsl(0 72% 51%)",label:"achievements.categories.spending"},streak:{icon:"",color:"hsl(25 95% 53%)",label:"achievements.categories.streak"},social:{icon:"",color:"hsl(200 80% 50%)",label:"achievements.categories.social"},milestone:{icon:"",color:"hsl(280 80% 55%)",label:"achievements.categories.milestone"}};function a2(t){return t<5?"gamification.levels.beginner":t<10?"gamification.levels.apprentice":t<20?"gamification.levels.intermediate":t<35?"gamification.levels.advanced":t<50?"gamification.levels.expert":t<75?"gamification.levels.master":"gamification.levels.legend"}function ebe(t){const e="KOPI",n=t.slice(0,6).toUpperCase(),r=Math.random().toString(36).substring(2,6).toUpperCase();return`${e}${n}${r}`}function o2({compact:t=!1,className:e,showCard:n=!0}){const{t:r}=it(),{stats:i,getXPForNextLevel:a,getXPProgress:o}=Nu();if(!i)return null;const s=a(),c=o(),l=a2(i.level),u=t?f.jsxs("div",{className:he("flex items-center gap-3",e),children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center",children:f.jsx("span",{className:"text-white font-bold",children:i.level})}),f.jsx("div",{className:"absolute -bottom-1 -right-1 bg-background rounded-full p-0.5",children:f.jsx(rf,{className:"h-3 w-3 text-amber-500 fill-amber-500"})})]}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsx("span",{className:"text-sm font-medium truncate",children:r(l)}),f.jsxs("span",{className:"text-xs text-muted-foreground",children:[i.xp,"/",s," XP"]})]}),f.jsx(Ll,{value:c,className:"h-1.5"})]})]}):f.jsxs("div",{className:he("space-y-4",e),children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-2xl font-bold text-white",children:i.level})}),f.jsx("div",{className:"absolute -bottom-1 -right-1 bg-background rounded-full p-1 shadow",children:f.jsx(rf,{className:"h-4 w-4 text-amber-500 fill-amber-500"})})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-lg font-semibold",children:r(l)}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[r("gamification.level")," ",i.level]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(Aj,{className:"h-4 w-4 text-amber-500"}),f.jsx("span",{children:r("gamification.xpProgress")})]}),f.jsxs("span",{className:"font-medium",children:[i.xp," / ",s," XP"]})]}),f.jsx(Ll,{value:c,className:"h-2"}),f.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[Math.ceil(s-i.xp)," XP ",r("gamification.toNextLevel")]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[f.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[f.jsx("div",{className:"text-xl font-bold",children:i.totalTransactions}),f.jsx("div",{className:"text-xs text-muted-foreground",children:r("gamification.transactions")})]}),f.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[f.jsxs("div",{className:"text-xl font-bold",children:["$",i.totalSaved.toLocaleString()]}),f.jsx("div",{className:"text-xs text-muted-foreground",children:r("gamification.totalSaved")})]})]})]});return n?f.jsx($t,{className:he("bg-gradient-to-br from-amber-500/10 to-amber-500/5 border-amber-500/20",e),children:f.jsx(It,{className:t?"p-3":"p-4",children:u})}):u}function OO({achievement:t,userAchievement:e,progress:n=0,className:r,onClick:i}){const{t:a}=it(),o=!!e,s=t.isSecret&&!o,c=ef[t.category],l=Math.min(n/t.requirementValue*100,100);return f.jsxs($t,{className:he("relative overflow-hidden transition-all",o?"bg-gradient-to-br from-amber-500/15 to-amber-500/5 border-amber-500/30":"bg-card/50 border-border/50",i&&"cursor-pointer hover:border-primary/50",r),onClick:i,children:[f.jsx(It,{className:"p-4",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:he("h-12 w-12 rounded-xl flex items-center justify-center text-2xl shrink-0",o?"bg-amber-500/20":s?"bg-muted":"bg-muted/50"),style:o?{backgroundColor:`${c.color}20`}:void 0,children:s?f.jsx(vj,{className:"h-5 w-5 text-muted-foreground"}):t.icon}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsxs("div",{children:[f.jsx("h4",{className:he("font-medium",s&&"text-muted-foreground"),children:a(s?"gamification.secretAchievement":t.nameKey)}),f.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:a(s?"gamification.secretDescription":t.descriptionKey)})]}),o&&f.jsx(_u,{className:"h-4 w-4 text-amber-500 shrink-0"})]}),!o&&!s&&f.jsxs("div",{className:"mt-2",children:[f.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[f.jsxs("span",{className:"text-muted-foreground",children:[n," / ",t.requirementValue]}),f.jsxs("span",{className:"text-amber-500 font-medium",children:["+",t.xpReward," XP"]})]}),f.jsx(Ll,{value:l,className:"h-1.5"})]}),o&&e&&f.jsxs("div",{className:"flex items-center justify-between mt-2",children:[f.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(e.unlockedAt).toLocaleDateString()}),f.jsxs("span",{className:"text-xs text-amber-500 font-medium",children:["+",t.xpReward," XP"]})]})]})]})}),o&&f.jsx("div",{className:"absolute top-0 right-0 px-2 py-0.5 text-xs font-medium rounded-bl-lg",style:{backgroundColor:c.color,color:"white"},children:a("gamification.unlocked")})]})}function s2({compact:t=!1,className:e,showCard:n=!0}){const{t:r}=it(),{stats:i}=Nu();if(!i)return null;const a=i.currentStreak>=30?"text-purple-500":i.currentStreak>=7?"text-orange-500":"text-amber-500",o=i.currentStreak>=30?"from-purple-500/10 to-purple-500/5 border-purple-500/20":i.currentStreak>=7?"from-orange-500/10 to-orange-500/5 border-orange-500/20":"from-amber-500/10 to-amber-500/5 border-amber-500/20",s=t?f.jsxs("div",{className:he("flex items-center gap-2",e),children:[f.jsxs("div",{className:"relative",children:[f.jsx(lw,{className:he("h-5 w-5",a)}),i.currentStreak>=7&&f.jsx("span",{className:"absolute -top-1 -right-1 h-2 w-2 bg-amber-500 rounded-full animate-pulse"})]}),f.jsxs("div",{children:[f.jsx("span",{className:he("font-bold",a),children:i.currentStreak}),f.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:r("gamification.days")})]})]}):f.jsxs("div",{className:he("space-y-4",e),children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:he("h-12 w-12 rounded-full flex items-center justify-center",i.currentStreak>=30?"bg-purple-500/20":i.currentStreak>=7?"bg-orange-500/20":"bg-amber-500/20"),children:f.jsx(lw,{className:he("h-6 w-6",a)})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-baseline gap-1",children:[f.jsx("span",{className:he("text-3xl font-bold",a),children:i.currentStreak}),f.jsx("span",{className:"text-muted-foreground",children:r("gamification.dayStreak")})]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:i.currentStreak===0?r("gamification.startStreak"):i.currentStreak>=7?r("gamification.keepItUp"):r("gamification.buildingStreak")})]})]})}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[f.jsx(af,{className:"h-4 w-4 text-amber-500"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold",children:i.longestStreak}),f.jsx("div",{className:"text-xs text-muted-foreground",children:r("gamification.longestStreak")})]})]}),f.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[f.jsx(pj,{className:"h-4 w-4 text-blue-500"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold",children:i.lastActivityDate?new Date(i.lastActivityDate).toLocaleDateString(void 0,{month:"short",day:"numeric"}):"-"}),f.jsx("div",{className:"text-xs text-muted-foreground",children:r("gamification.lastActive")})]})]})]}),f.jsx("div",{className:"flex justify-between text-xs",children:[7,14,30,60,100].map(c=>f.jsxs("div",{className:he("flex flex-col items-center gap-1",i.currentStreak>=c?"text-amber-500":"text-muted-foreground"),children:[f.jsx("div",{className:he("h-2 w-2 rounded-full",i.currentStreak>=c?"bg-amber-500":"bg-muted")}),f.jsx("span",{children:c})]},c))})]});return n?f.jsx($t,{className:he("bg-gradient-to-br",o,e),children:f.jsx(It,{className:t?"p-3":"p-4",children:s})}):s}function tbe(){const{t}=it(),{showLevelUpModal:e,newLevel:n,dismissLevelUpModal:r}=Nu(),[i,a]=O.useState(!1);if(O.useEffect(()=>{if(e){a(!0);const s=setTimeout(()=>a(!1),1e3);return()=>clearTimeout(s)}},[e]),!n)return null;const o=a2(n);return f.jsx(Wh,{open:e,onOpenChange:s=>!s&&r(),children:f.jsxs(Du,{className:"sm:max-w-md text-center",children:[f.jsx(Mu,{children:f.jsx(Lu,{className:"sr-only",children:t("gamification.levelUp")})}),f.jsxs("div",{className:"py-6 space-y-6",children:[f.jsxs("div",{className:"relative mx-auto w-fit",children:[f.jsx("div",{className:`h-24 w-24 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center shadow-lg ${i?"animate-bounce":""}`,children:f.jsx("span",{className:"text-4xl font-bold text-white",children:n})}),f.jsx(wD,{className:`absolute -top-2 -right-2 h-8 w-8 text-amber-500 ${i?"animate-spin":""}`}),f.jsx(_u,{className:`absolute -bottom-1 -left-2 h-6 w-6 text-amber-400 ${i?"animate-pulse":""}`})]}),f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold text-amber-500 mb-2",children:[t("gamification.levelUp"),"!"]}),f.jsx("p",{className:"text-muted-foreground",children:t("gamification.reachedLevel",{level:n})})]}),f.jsx("div",{className:"bg-gradient-to-r from-amber-500/10 via-amber-500/20 to-amber-500/10 rounded-lg py-3 px-4",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx(rf,{className:"h-5 w-5 text-amber-500 fill-amber-500"}),f.jsx("span",{className:"font-semibold text-lg",children:t(o)}),f.jsx(rf,{className:"h-5 w-5 text-amber-500 fill-amber-500"})]})}),f.jsx("p",{className:"text-sm text-muted-foreground",children:t("gamification.keepGoing")}),f.jsx(Re,{onClick:r,className:"w-full",children:t("gamification.awesome")})]})]})})}function nbe({className:t}){const{t:e}=it(),{user:n}=yr(),[r,i]=O.useState(""),[a,o]=O.useState(!1),[s]=O.useState(0);O.useEffect(()=>{if(n!=null&&n.id){const u=ebe(n.id);i(u)}},[n==null?void 0:n.id]);const c=async()=>{try{await navigator.clipboard.writeText(r),o(!0),setTimeout(()=>o(!1),2e3)}catch{const u=document.createElement("input");u.value=r,document.body.appendChild(u),u.select(),document.execCommand("copy"),document.body.removeChild(u),o(!0),setTimeout(()=>o(!1),2e3)}},l=async()=>{const u={title:"KopiMaster",text:e("gamification.shareText",{code:r}),url:`${window.location.origin}?ref=${r}`};if(navigator.share)try{await navigator.share(u)}catch{}else c()};return f.jsx($t,{className:he("bg-gradient-to-br from-blue-500/10 to-blue-500/5 border-blue-500/20",t),children:f.jsxs(It,{className:"p-4 space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500/20 flex items-center justify-center",children:f.jsx(jD,{className:"h-5 w-5 text-blue-500"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium",children:e("gamification.inviteFriends")}),f.jsx("p",{className:"text-sm text-muted-foreground",children:e("gamification.earnXPPerReferral",{xp:100})})]})]}),s>0&&f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-xl font-bold text-blue-500",children:s}),f.jsx("div",{className:"text-xs text-muted-foreground",children:e("gamification.referred")})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"relative flex-1",children:[f.jsx(Pn,{value:r,readOnly:!0,className:"pr-10 font-mono text-center tracking-wider"}),f.jsx(Re,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:c,children:a?f.jsx(_l,{className:"h-4 w-4 text-green-500"}):f.jsx(pD,{className:"h-4 w-4"})})]}),f.jsx(Re,{variant:"outline",size:"icon",onClick:l,children:f.jsx(Sj,{className:"h-4 w-4"})})]}),f.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[f.jsx(mD,{className:"h-4 w-4 text-amber-500"}),f.jsx("span",{children:e("gamification.bothGetReward")})]})]})})}function rbe(){const{t}=it(),{user:e}=yr(),{achievements:n,userAchievements:r,loadGamificationData:i,getUnlockedAchievements:a,getLockedAchievements:o,checkAchievements:s}=Nu(),{transactions:c}=dc(),{goals:l}=t0(),{budgets:u}=fc(),[d,h]=O.useState("all");O.useEffect(()=>{e!=null&&e.id&&i(e.id)},[e==null?void 0:e.id,i]),O.useEffect(()=>{e!=null&&e.id&&s({transactionCount:c.length,totalSaved:l.reduce((k,A)=>k+A.currentAmount,0),goalsCreated:l.length,goalsCompleted:l.filter(k=>k.currentAmount>=k.targetAmount).length,budgetsKept:u.filter(k=>k.isActive&&(k.spent||0)<=k.monthlyLimit).length})},[e==null?void 0:e.id,c.length,l,u,s]);const m=n.length>0?n:Qve,y=a(),v=o(),b=y.length,w=m.filter(k=>!k.isSecret).length,_=k=>d==="all"?k:k.filter(A=>A.category===d),S=k=>{const A=m.find(j=>j.id===k);if(!A)return 0;switch(A.requirementType){case"transactions":return c.length;case"goals_created":return l.length;case"goals_completed":return l.filter(j=>j.currentAmount>=j.targetAmount).length;case"total_saved":return l.reduce((j,E)=>j+E.currentAmount,0);case"budgets_kept":return u.filter(j=>j.isActive&&(j.spent||0)<=j.monthlyLimit).length;default:return 0}};return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-lg font-semibold",children:t("gamification.achievements")}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(af,{className:"h-4 w-4 text-amber-500"}),f.jsxs("span",{children:[b,"/",w]})]})]}),f.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[f.jsx(o2,{}),f.jsx(s2,{})]}),f.jsx(nbe,{}),f.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[f.jsx(Re,{variant:d==="all"?"default":"outline",size:"sm",onClick:()=>h("all"),children:t("common.all")}),Object.keys(ef).map(k=>f.jsxs(Re,{variant:d===k?"default":"outline",size:"sm",onClick:()=>h(k),children:[ef[k].icon," ",t(ef[k].label)]},k))]}),f.jsxs(Kh,{defaultValue:"unlocked",className:"w-full",children:[f.jsxs($u,{className:"grid w-full grid-cols-2",children:[f.jsxs(wi,{value:"unlocked",className:"flex items-center gap-2",children:[f.jsx(yD,{className:"h-4 w-4"}),t("gamification.unlocked")," (",b,")"]}),f.jsxs(wi,{value:"locked",className:"flex items-center gap-2",children:[f.jsx(vj,{className:"h-4 w-4"}),t("gamification.locked")," (",w-b,")"]})]}),f.jsx(Rr,{value:"unlocked",className:"space-y-3 mt-4",children:_(y).length===0?f.jsx($t,{className:"bg-card/50 border-dashed",children:f.jsxs(It,{className:"flex flex-col items-center justify-center py-8",children:[f.jsx(oD,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),f.jsx("p",{className:"text-muted-foreground",children:t("gamification.noUnlocked")})]})}):_(y).map(k=>f.jsx(OO,{achievement:k,userAchievement:r.find(A=>A.achievementId===k.id)},k.id))}),f.jsx(Rr,{value:"locked",className:"space-y-3 mt-4",children:_(v).length===0?f.jsx($t,{className:"bg-card/50 border-dashed",children:f.jsxs(It,{className:"flex flex-col items-center justify-center py-8",children:[f.jsx(af,{className:"h-12 w-12 text-amber-500/50 mb-3"}),f.jsx("p",{className:"text-muted-foreground",children:t("gamification.allUnlocked")})]})}):_(v).map(k=>f.jsx(OO,{achievement:k,progress:S(k.id)},k.id))})]})]})}function ibe({onAction:t,className:e}){const{t:n}=it(),[r,i]=O.useState(!1),a=[{id:"income",icon:f.jsx(Tu,{className:"h-5 w-5"}),label:n("fab.addIncome"),color:"bg-emerald-500 hover:bg-emerald-600"},{id:"expense",icon:f.jsx(fb,{className:"h-5 w-5"}),label:n("fab.addExpense"),color:"bg-red-500 hover:bg-red-600"},{id:"goal",icon:f.jsx(_j,{className:"h-5 w-5"}),label:n("fab.addGoal"),color:"bg-blue-500 hover:bg-blue-600"},{id:"budget",icon:f.jsx(db,{className:"h-5 w-5"}),label:n("fab.addBudget"),color:"bg-amber-500 hover:bg-amber-600"},{id:"recurring",icon:f.jsx(nf,{className:"h-5 w-5"}),label:n("fab.addRecurring"),color:"bg-purple-500 hover:bg-purple-600"}],o=s=>{i(!1),t(s)};return f.jsxs("div",{className:he("fixed bottom-6 right-6 z-50",e),children:[f.jsx(Zn,{children:r&&f.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-sm",onClick:()=>i(!1)})}),f.jsx(Zn,{children:r&&f.jsx("div",{className:"absolute bottom-16 right-0 flex flex-col-reverse gap-3 items-end",children:a.map((s,c)=>f.jsxs(Je.button,{initial:{opacity:0,scale:.5,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5,y:10},transition:{delay:c*.05},onClick:()=>o(s.id),className:"flex items-center gap-3",children:[f.jsx(Je.span,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{delay:c*.05+.1},className:"px-3 py-1.5 rounded-lg bg-card border border-border text-sm font-medium whitespace-nowrap shadow-lg",children:s.label}),f.jsx("div",{className:he("h-12 w-12 rounded-full flex items-center justify-center text-white shadow-lg transition-colors",s.color),children:s.icon})]},s.id))})}),f.jsx(Je.button,{onClick:()=>i(!r),className:he("h-14 w-14 rounded-full flex items-center justify-center text-white shadow-lg transition-colors",r?"bg-muted-foreground hover:bg-muted-foreground/90":"bg-primary hover:bg-primary/90 shadow-glow"),whileTap:{scale:.95},animate:{rotate:r?45:0},children:r?f.jsx(Qn,{className:"h-6 w-6"}):f.jsx(ho,{className:"h-6 w-6"})})]})}const zd=[{id:"premium",titleKey:"ads.promo.premium.title",descriptionKey:"ads.promo.premium.description",icon:f.jsx(_u,{className:"w-5 h-5"}),gradient:"from-amber-500 to-orange-600",cta:"ads.promo.premium.cta"},{id:"tips",titleKey:"ads.promo.tips.title",descriptionKey:"ads.promo.tips.description",icon:f.jsx(Tu,{className:"w-5 h-5"}),gradient:"from-emerald-500 to-teal-600"},{id:"security",titleKey:"ads.promo.security.title",descriptionKey:"ads.promo.security.description",icon:f.jsx(_D,{className:"w-5 h-5"}),gradient:"from-blue-500 to-indigo-600"},{id:"goals",titleKey:"ads.promo.goals.title",descriptionKey:"ads.promo.goals.description",icon:f.jsx(Aj,{className:"w-5 h-5"}),gradient:"from-purple-500 to-pink-600"}];function abe({variant:t="card",className:e="",dismissible:n=!0,autoRotate:r=!0,rotateInterval:i=1e4}){const{t:a}=it(),[o,s]=O.useState(0),[c,l]=O.useState(!1);if(O.useEffect(()=>{if(!r)return;const d=setInterval(()=>{s(h=>(h+1)%zd.length)},i);return()=>clearInterval(d)},[r,i]),c)return null;const u=zd[o];return t==="compact"?f.jsxs(Je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`relative bg-gradient-to-r ${u.gradient} rounded-lg p-3 text-white ${e}`,children:[n&&f.jsx(Re,{variant:"ghost",size:"icon",className:"absolute top-1 right-1 h-5 w-5 text-white/70 hover:text-white hover:bg-white/10",onClick:()=>l(!0),children:f.jsx(Qn,{className:"w-3 h-3"})}),f.jsxs("div",{className:"flex items-center gap-2 pr-6",children:[u.icon,f.jsx("span",{className:"text-sm font-medium truncate",children:a(u.titleKey,u.titleKey)})]})]}):t==="banner"?f.jsxs(Je.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`relative bg-gradient-to-r ${u.gradient} rounded-xl p-4 text-white ${e}`,children:[n&&f.jsx(Re,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-6 w-6 text-white/70 hover:text-white hover:bg-white/10",onClick:()=>l(!0),children:f.jsx(Qn,{className:"w-4 h-4"})}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:u.icon}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"font-semibold text-sm",children:a(u.titleKey,u.titleKey)}),f.jsx("p",{className:"text-xs text-white/80 truncate",children:a(u.descriptionKey,u.descriptionKey)})]}),u.cta&&f.jsx(Re,{size:"sm",variant:"secondary",className:"bg-white/20 hover:bg-white/30 text-white border-0 shrink-0",children:a(u.cta,"Learn more")})]}),f.jsx("div",{className:"flex justify-center gap-1 mt-3",children:zd.map((d,h)=>f.jsx("button",{onClick:()=>s(h),className:`w-1.5 h-1.5 rounded-full transition-all ${h===o?"bg-white w-4":"bg-white/40"}`},h))})]}):f.jsx(Zn,{mode:"wait",children:f.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:`relative bg-card rounded-xl border overflow-hidden ${e}`,children:[f.jsxs("div",{className:`bg-gradient-to-r ${u.gradient} p-4`,children:[n&&f.jsx(Re,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-6 w-6 text-white/70 hover:text-white hover:bg-white/10",onClick:()=>l(!0),children:f.jsx(Qn,{className:"w-4 h-4"})}),f.jsxs("div",{className:"flex items-center gap-3 text-white",children:[f.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:u.icon}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold",children:a(u.titleKey,u.titleKey)}),f.jsx("p",{className:"text-xs text-white/80",children:a(u.descriptionKey,u.descriptionKey)})]})]})]}),f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:a("ads.sponsored")}),u.cta&&f.jsxs(Re,{size:"sm",variant:"outline",className:"text-xs h-7",children:[a(u.cta,"Learn more"),f.jsx(yj,{className:"w-3 h-3 ml-1"})]})]}),f.jsx("div",{className:"flex justify-center gap-1 mt-3",children:zd.map((d,h)=>f.jsx("button",{onClick:()=>s(h),className:`w-1.5 h-1.5 rounded-full transition-all ${h===o?"bg-primary w-4":"bg-muted-foreground/30 hover:bg-muted-foreground/50"}`},h))})]})]},u.id)})}function obe(t){if(t.length===0)return;const e=(l,u)=>{const h=(u==="income"?Iu:ai).find(m=>m.id===l);return(h==null?void 0:h.name)||l},n=["","","","",""],r=t.map(l=>[l.date,l.type==="income"?"":"",e(l.category,l.type),l.type==="income"?l.amount.toString():`-${l.amount}`,`"${l.description.replace(/"/g,'""')}"`]),i=[n.join(","),...r.map(l=>l.join(","))].join(`
`),a="\uFEFF",o=new Blob([a+i],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(o),c=document.createElement("a");c.setAttribute("href",s),c.setAttribute("download",`transactions_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(s)}const jO=()=>{const{t}=it(),{user:e,isConfigured:n}=yr(),{transactions:r,loadTransactions:i,addTransaction:a,deleteTransaction:o,getMonthlyTransactions:s,getMonthlyIncome:c,getMonthlyExpense:l,getExpensesByCategory:u,getBalance:d}=dc(),{goals:h,loadGoals:m,addGoal:y,deleteGoal:v,addToGoal:b}=t0(),{loadBudgets:w}=fc(),{loadRecurring:_}=Uh(),{loadGamificationData:S,stats:k,checkAchievements:A}=Nu(),[j,E]=O.useState("home"),[N,R]=O.useState({isOpen:!1,type:"expense"}),[q,L]=O.useState(!1),[D,X]=O.useState(!1),[ee,W]=O.useState({isOpen:!1,goal:null}),[Q,te]=O.useState(!1),ae=d(),re=c(),de=l(),_e=u(),ue=O.useMemo(()=>{const Ee=new Date;return s(Ee.getFullYear(),Ee.getMonth())},[s,r]);O.useEffect(()=>{e!=null&&e.id&&(i(e.id),m(e.id),w(e.id),_(e.id),S(e.id))},[e==null?void 0:e.id,i,m,w,_,S]),O.useEffect(()=>{e!=null&&e.id&&r.length>0&&A({transactionCount:r.length,totalSaved:h.reduce((Ee,Qe)=>Ee+Qe.currentAmount,0),goalsCreated:h.length,goalsCompleted:h.filter(Ee=>Ee.currentAmount>=Ee.targetAmount).length,budgetsKept:0})},[e==null?void 0:e.id,r.length,h,A]);const pe=Ee=>{switch(Ee){case"income":R({isOpen:!0,type:"income"});break;case"expense":R({isOpen:!0,type:"expense"});break;case"goal":L(!0);break;case"budget":E("budgets");break;case"recurring":E("recurring");break}},Ce=[{value:"home",icon:gD,label:t("nav.home")},{value:"budgets",icon:db,label:t("nav.budgets")},{value:"recurring",icon:nf,label:t("nav.recurring")},{value:"analytics",icon:_g,label:t("nav.analytics")},{value:"achievements",icon:af,label:t("nav.achievements")}];return f.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[f.jsx(Je.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"pt-12 pb-4 px-5",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs(Je.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"flex items-center gap-2 mb-1",children:[f.jsx(_u,{className:"w-5 h-5 text-primary"}),f.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:t("app.name")})]}),f.jsx("h1",{className:"text-2xl font-display font-bold text-foreground",children:t("app.greeting")})]}),f.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[k&&f.jsxs("div",{className:"hidden sm:flex items-center gap-2 mr-1",children:[f.jsx(o2,{compact:!0}),f.jsx(s2,{compact:!0,showCard:!1})]}),f.jsx(l6,{}),f.jsx(T6,{compact:!0}),f.jsx(aE,{}),n&&e?f.jsx(U6,{}):f.jsx(Je.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.3},className:"w-12 h-12 rounded-full gradient-primary flex items-center justify-center text-white font-bold text-lg shadow-glow animate-pulse-glow",children:""})]})]})}),f.jsxs(Kh,{value:j,onValueChange:Ee=>E(Ee),className:"w-full",children:[f.jsx("div",{className:"px-5 mb-4",children:f.jsx($u,{className:"w-full h-auto p-1 grid grid-cols-5 bg-muted/50",children:Ce.map(({value:Ee,icon:Qe,label:be})=>f.jsxs(wi,{value:Ee,className:he("flex flex-col items-center gap-1 py-2 px-1 text-xs","data-[state=active]:bg-background data-[state=active]:shadow-sm"),children:[f.jsx(Qe,{className:"h-4 w-4"}),f.jsx("span",{className:"hidden xs:inline truncate",children:be})]},Ee))})}),f.jsxs("main",{className:"px-5",children:[f.jsxs(Rr,{value:"home",className:"space-y-6 mt-0",children:[f.jsx(Z8,{balance:ae,monthlyIncome:re,monthlyExpense:de}),f.jsx(Q8,{onAddIncome:()=>R({isOpen:!0,type:"income"}),onAddExpense:()=>R({isOpen:!0,type:"expense"}),onAddGoal:()=>L(!0),onViewStats:()=>X(!0),onConnectBank:()=>te(!0),onExport:()=>{if(r.length===0){Hi.error(t("toast.exportError"));return}obe(r),Hi.success(t("toast.exportSuccess"))}}),f.jsx(abe,{variant:"banner"}),h.length>0&&f.jsxs(Je.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-lg font-display font-semibold text-foreground",children:t("goals.title")}),f.jsxs("button",{className:"text-sm text-primary flex items-center gap-1 hover:gap-2 transition-all",children:[t("goals.all")," ",f.jsx(Ag,{className:"w-4 h-4"})]})]}),f.jsx("div",{className:"space-y-3",children:h.map(Ee=>f.jsx(c6,{goal:Ee,onAddFunds:Qe=>{const be=h.find(Ve=>Ve.id===Qe);be&&W({isOpen:!0,goal:be})},onDelete:v},Ee.id))})]}),f.jsxs(Je.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-lg font-display font-semibold text-foreground",children:t("transactions.title")}),ue.length>5&&f.jsxs("button",{className:"text-sm text-primary flex items-center gap-1 hover:gap-2 transition-all",children:[t("transactions.all")," ",f.jsx(Ag,{className:"w-4 h-4"})]})]}),f.jsx(e6,{transactions:ue,onDelete:o})]})]}),f.jsx(Rr,{value:"budgets",className:"mt-0",children:f.jsx(lW,{})}),f.jsx(Rr,{value:"recurring",className:"mt-0",children:f.jsx(fW,{})}),f.jsx(Rr,{value:"analytics",className:"mt-0",children:f.jsx(Zve,{})}),f.jsx(Rr,{value:"achievements",className:"mt-0",children:f.jsx(rbe,{})})]})]}),f.jsx(ibe,{onAction:pe}),f.jsx(V6,{isOpen:N.isOpen,type:N.type,onClose:()=>R({isOpen:!1,type:"expense"}),onAdd:a}),f.jsx(K6,{isOpen:q,onClose:()=>L(!1),onAdd:y}),f.jsx(z6,{isOpen:ee.isOpen,goal:ee.goal,onClose:()=>W({isOpen:!1,goal:null}),onAdd:b}),f.jsx(W6,{isOpen:D,onClose:()=>X(!1),expensesByCategory:_e,monthlyIncome:re,monthlyExpense:de}),f.jsx(fz,{isOpen:Q,onClose:()=>te(!1)}),f.jsx(tbe,{})]})},kO=()=>{const t=G2();return O.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),f.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),f.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},sbe=new $L;function cbe(){const{user:t,loading:e,isConfigured:n}=yr();return e?f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:f.jsx("div",{className:"animate-pulse text-4xl",children:""})}):n?t?f.jsxs(rw,{children:[f.jsx(bd,{path:"/",element:f.jsx(jO,{})}),f.jsx(bd,{path:"*",element:f.jsx(kO,{})})]}):f.jsx(l8,{}):f.jsxs(rw,{children:[f.jsx(bd,{path:"/",element:f.jsx(jO,{})}),f.jsx(bd,{path:"*",element:f.jsx(kO,{})})]})}const lbe=()=>f.jsx(RL,{client:sbe,children:f.jsx(pF,{children:f.jsx(vF,{children:f.jsx(yF,{children:f.jsxs(cL,{children:[f.jsx(uM,{}),f.jsx(VM,{}),f.jsx(H2,{basename:"/".replace(/\/$/,""),children:f.jsx(cbe,{})}),f.jsx(f8,{}),f.jsx(y8,{}),f.jsx(A8,{})]})})})})});dj(document.getElementById("root")).render(f.jsx(lbe,{}));
